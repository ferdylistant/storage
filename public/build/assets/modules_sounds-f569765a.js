async function t(t,e){try{const o=await fetch(window.location.origin+"/tab/sounds",{headers:{"X-Requested-With":"XMLHttpRequest"}}),n=await o.json();$("#sounds").html(n.html);const c=document.getElementById("albumsAccordion"),s=document.querySelector(".tab-content");if(!c||!s)return;const i=function(t,e){return debounce(()=>{"function"==typeof t&&t(),"function"==typeof e&&e()},150)}(t,e);setTimeout(i,100),c.addEventListener("shown.bs.collapse",t=>{document.querySelectorAll(".song-item .song-title").forEach(t=>{t.scrollHeight>t.clientHeight&&(t.setAttribute("title",t.textContent.trim()),new bootstrap.Tooltip(t))});const e=t.target.previousElementSibling;if(e){const t=s.scrollTop,o=e.getBoundingClientRect().top-s.getBoundingClientRect().top+t;s.scrollTo({top:o,behavior:"smooth"})}setTimeout(i,100)}),document.querySelectorAll(".play-icon").forEach(t=>{t.addEventListener("click",function(){const t=this.dataset.trackId,e=document.getElementById(`embed-${t}`);e.classList.contains("d-none")?e.classList.remove("d-none"):e.classList.add("d-none")})})}catch(o){}}export{t as initSoundtrackAlbum};
