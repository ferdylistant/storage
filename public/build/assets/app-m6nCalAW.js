var e,t,n=Object.getOwnPropertyNames,r=(e={"assets/app-m6nCalAW.js"(e,t){function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function a(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}var o,s,l={exports:{}},c={},u=(s||(s=1,l.exports=function(){if(o)return c;o=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var a in r={},n)"key"!==a&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return c.Fragment=t,c.jsx=n,c.jsxs=n,c}()),l.exports);function d(e,t,n){return Math.max(e,Math.min(t,n))}var h,f,p=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(e){if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;const n=d(0,this.currentTime/this.duration,1);t=n>=1;const r=t?1:this.easing(n);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=function(e,t,n,r){return function(e,t,n){return(1-n)*e+n*t}(e,t,1-Math.exp(-n*r))}(this.value,this.to,60*this.lerp,e),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)):(this.value=this.to,t=!0);t&&this.stop(),this.onUpdate?.(this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n,duration:r,easing:i,onStart:a,onUpdate:o}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=r,this.easing=i,this.currentTime=0,this.isRunning=!0,a?.(),this.onUpdate=o}},m=class{constructor(e,t,{autoResize:n=!0,debounce:r=250}={}){this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(e,t){let n;return function(...r){let i=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,e.apply(i,r)},t)}}(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},g=class{events={};emit(e,...t){let n=this.events[e]||[];for(let r=0,i=n.length;r<i;r++)n[r]?.(...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(e=>t!==e)}}off(e,t){this.events[e]=this.events[e]?.filter(e=>t!==e)}destroy(){this.events={}}},v=100/6,y={passive:!1},b=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,y),this.element.addEventListener("touchstart",this.onTouchStart,y),this.element.addEventListener("touchmove",this.onTouchMove,y),this.element.addEventListener("touchend",this.onTouchEnd,y)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new g;on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,y),this.element.removeEventListener("touchstart",this.onTouchStart,y),this.element.removeEventListener("touchmove",this.onTouchMove,y),this.element.removeEventListener("touchend",this.onTouchEnd,y)}onTouchStart=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{const{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.options.touchMultiplier,i=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n,deltaMode:r}=e;t*=1===r?v:2===r?this.window.width:1,n*=1===r?v:2===r?this.window.height:1,t*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},x=e=>Math.min(1,1.001-Math.pow(2,-10*e)),_=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;_rafId=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new p;emitter=new g;dimensions;virtualScroll;constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:n=e,smoothWheel:r=!0,syncTouch:i=!1,syncTouchLerp:a=.075,touchInertiaExponent:o=1.7,duration:s,easing:l,lerp:c=.1,infinite:u=!1,orientation:d="vertical",gestureOrientation:h=("horizontal"===d?"both":"vertical"),touchMultiplier:f=1,wheelMultiplier:p=1,autoResize:g=!0,prevent:v,virtualScroll:y,overscroll:_=!0,autoRaf:w=!1,anchors:S=!1,autoToggle:M=!1,allowNestedScroll:E=!1,__experimental__naiveDimensions:T=!1,naiveDimensions:A=T,stopInertiaOnNavigate:C=!1}={}){window.lenisVersion="1.3.17",e&&e!==document.documentElement||(e=window),"number"==typeof s&&"function"!=typeof l?l=x:"function"==typeof l&&"number"!=typeof s&&(s=1),this.options={wrapper:e,content:t,eventsTarget:n,smoothWheel:r,syncTouch:i,syncTouchLerp:a,touchInertiaExponent:o,duration:s,easing:l,lerp:c,infinite:u,gestureOrientation:h,orientation:d,touchMultiplier:f,wheelMultiplier:p,autoResize:g,prevent:v,virtualScroll:y,overscroll:_,autoRaf:w,anchors:S,autoToggle:M,allowNestedScroll:E,naiveDimensions:A,stopInertiaOnNavigate:C},this.dimensions=new m(e,t,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new b(n,{touchMultiplier:f,wheelMultiplier:p}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoToggle&&(this.checkOverflow(),this.rootElement.addEventListener("transitionend",this.onTransitionEnd,{passive:!0})),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),(this.options.anchors||this.options.stopInertiaOnNavigate)&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this._rafId&&cancelAnimationFrame(this._rafId)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}onScrollEnd=e=>{e instanceof CustomEvent||"smooth"!==this.isScrolling&&!1!==this.isScrolling||e.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};get overflow(){const e=this.isHorizontal?"overflow-x":"overflow-y";return getComputedStyle(this.rootElement)[e]}checkOverflow(){["hidden","clip"].includes(this.overflow)?this.internalStop():this.internalStart()}onTransitionEnd=e=>{e.propertyName.includes("overflow")&&this.checkOverflow()};setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}onClick=e=>{const t=e.composedPath().filter(e=>e instanceof HTMLAnchorElement&&e.getAttribute("href"));if(this.options.anchors){const e=t.find(e=>e.getAttribute("href")?.includes("#"));if(e){const t=e.getAttribute("href");if(t){const e="object"==typeof this.options.anchors&&this.options.anchors?this.options.anchors:void 0,n=`#${t.split("#")[1]}`;this.scrollTo(n,e)}}}this.options.stopInertiaOnNavigate&&t.find(e=>e.host===window.location.host)&&this.reset()};onPointerDown=e=>{1===e.button&&this.reset()};onVirtualScroll=e=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(e))return;const{deltaX:t,deltaY:n,event:r}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:n,event:r}),r.ctrlKey)return;if(r.lenisStopPropagation)return;const i=r.type.includes("touch"),a=r.type.includes("wheel");this.isTouching="touchstart"===r.type||"touchmove"===r.type;const o=0===t&&0===n;if(this.options.syncTouch&&i&&"touchstart"===r.type&&o&&!this.isStopped&&!this.isLocked)return void this.reset();const s="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===t;if(o||s)return;let l=r.composedPath();l=l.slice(0,l.indexOf(this.rootElement));const c=this.options.prevent;if(l.find(e=>e instanceof HTMLElement&&("function"==typeof c&&c?.(e)||e.hasAttribute?.("data-lenis-prevent")||i&&e.hasAttribute?.("data-lenis-prevent-touch")||a&&e.hasAttribute?.("data-lenis-prevent-wheel")||this.options.allowNestedScroll&&this.checkNestedScroll(e,{deltaX:t,deltaY:n}))))return;if(this.isStopped||this.isLocked)return void(r.cancelable&&r.preventDefault());if(!(this.options.syncTouch&&i||this.options.smoothWheel&&a))return this.isScrolling="native",this.animate.stop(),void(r.lenisStopPropagation=!0);let u=n;"both"===this.options.gestureOrientation?u=Math.abs(n)>Math.abs(t)?n:t:"horizontal"===this.options.gestureOrientation&&(u=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&this.limit>0&&(this.animatedScroll>0&&this.animatedScroll<this.limit||0===this.animatedScroll&&n>0||this.animatedScroll===this.limit&&n<0))&&(r.lenisStopPropagation=!0),r.cancelable&&r.preventDefault();const d=i&&this.options.syncTouch,h=i&&"touchend"===r.type;h&&(u=Math.sign(this.velocity)*Math.pow(Math.abs(this.velocity),this.options.touchInertiaExponent)),this.scrollTo(this.targetScroll+u,{programmatic:!1,...d?{lerp:h?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent)this._preventNextNativeScrollEvent=!1;else if(!1===this.isScrolling||"native"===this.isScrolling){const e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.options.autoToggle?this.rootElement.style.removeProperty("overflow"):this.internalStart())}internalStart(){this.isStopped&&(this.reset(),this.isStopped=!1,this.emit())}stop(){this.isStopped||(this.options.autoToggle?this.rootElement.style.setProperty("overflow","clip"):this.internalStop())}internalStop(){this.isStopped||(this.reset(),this.isStopped=!0,this.emit())}raf=e=>{const t=e-(this.time||e);this.time=e,this.animate.advance(.001*t),this.options.autoRaf&&(this._rafId=requestAnimationFrame(this.raf))};scrollTo(e,{offset:t=0,immediate:n=!1,lock:r=!1,programmatic:i=!0,lerp:a=(i?this.options.lerp:void 0),duration:o=(i?this.options.duration:void 0),easing:s=(i?this.options.easing:void 0),onStart:l,onComplete:c,force:u=!1,userData:h}={}){if(!this.isStopped&&!this.isLocked||u){if("string"==typeof e&&["top","left","start","#"].includes(e))e=0;else if("string"==typeof e&&["bottom","right","end"].includes(e))e=this.limit;else{let n;if("string"==typeof e?(n=document.querySelector(e),n||"#top"===e&&(e=0)):e instanceof HTMLElement&&e?.nodeType&&(n=e),n){if(this.options.wrapper!==window){const e=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}const r=n.getBoundingClientRect();e=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite){if(i){this.targetScroll=this.animatedScroll=this.scroll;const t=e-this.animatedScroll;t>this.limit/2?e-=this.limit:t<-this.limit/2&&(e+=this.limit)}}else e=d(0,e,this.limit);if(e===this.targetScroll)return l?.(this),void c?.(this);if(this.userData=h??{},n)return this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),c?.(this),this.userData={},void requestAnimationFrame(()=>{this.dispatchScrollendEvent()});i||(this.targetScroll=e),"number"==typeof o&&"function"!=typeof s?s=x:"function"==typeof s&&"number"!=typeof o&&(o=1),this.animate.fromTo(this.animatedScroll,e,{duration:o,easing:s,lerp:a,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",l?.(this)},onUpdate:(e,t)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),i&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),c?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}checkNestedScroll(e,{deltaX:t,deltaY:n}){const r=Date.now(),i=e._lenis??={};let a,o,s,l,c,u,d,h;const f=this.options.gestureOrientation;if(r-(i.time??0)>2e3){i.time=Date.now();const t=window.getComputedStyle(e);i.computedStyle=t;const n=t.overflowX,r=t.overflowY;if(a=["auto","overlay","scroll"].includes(n),o=["auto","overlay","scroll"].includes(r),i.hasOverflowX=a,i.hasOverflowY=o,!a&&!o)return!1;if("vertical"===f&&!o)return!1;if("horizontal"===f&&!a)return!1;c=e.scrollWidth,u=e.scrollHeight,d=e.clientWidth,h=e.clientHeight,s=c>d,l=u>h,i.isScrollableX=s,i.isScrollableY=l,i.scrollWidth=c,i.scrollHeight=u,i.clientWidth=d,i.clientHeight=h}else s=i.isScrollableX,l=i.isScrollableY,a=i.hasOverflowX,o=i.hasOverflowY,c=i.scrollWidth,u=i.scrollHeight,d=i.clientWidth,h=i.clientHeight;if(!a&&!o||!s&&!l)return!1;if(!("vertical"!==f||o&&l))return!1;if(!("horizontal"!==f||a&&s))return!1;let p,m,g,v,y,b;if("horizontal"===f?p="x":"vertical"===f?p="y":(0!==t&&a&&s&&(p="x"),0!==n&&o&&l&&(p="y")),!p)return!1;if("x"===p)m=e.scrollLeft,g=c-d,v=t,y=a,b=s;else{if("y"!==p)return!1;m=e.scrollTop,g=u-h,v=n,y=o,b=l}return(v>0?m<g:m>0)&&y&&b}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){const e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){return this.options.infinite?(e=this.animatedScroll,t=this.limit,(e%t+t)%t):this.animatedScroll;var e,t}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let e="lenis";return this.options.autoToggle&&(e+=" lenis-autoToggle"),this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),"smooth"===this.isScrolling&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},w={exports:{}},S={};function M(){if(h)return S;h=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),f=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var _=Array.isArray;function w(){}var M={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function T(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function R(n,r,i,a,o){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l,c,d=!1;if(null===n)d=!0;else switch(s){case"bigint":case"string":case"number":d=!0;break;case"object":switch(n.$$typeof){case e:case t:d=!0;break;case u:return R((d=n._init)(n._payload),r,i,a,o)}}if(d)return o=o(n),d=""===a?"."+P(n,0):a,_(o)?(i="",null!=d&&(i=d.replace(C,"$&/")+"/"),R(o,r,i,"",function(e){return e})):null!=o&&(A(o)&&(l=o,c=i+(null==o.key||n&&n.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+d,o=T(l.type,c,l.props)),r.push(o)),1;d=0;var h,p=""===a?".":a+":";if(_(n))for(var m=0;m<n.length;m++)d+=R(a=n[m],r,i,s=p+P(a,m),o);else if("function"==typeof(m=null===(h=n)||"object"!=typeof h?null:"function"==typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(n=m.call(n),m=0;!(a=n.next()).done;)d+=R(a=a.value,r,i,s=p+P(a,m++),o);else if("object"===s){if("function"==typeof n.then)return R(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,a,o);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return d}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",function(e){return t.call(n,e,i++)}),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},I={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return S.Activity=d,S.Children=I,S.Component=v,S.Fragment=n,S.Profiler=i,S.PureComponent=b,S.StrictMode=r,S.Suspense=l,S.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,S.__COMPILER_RUNTIME={__proto__:null,c:function(e){return M.H.useMemoCache(e)}},S.cache=function(e){return function(){return e.apply(null,arguments)}},S.cacheSignal=function(){return null},S.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!E.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return T(e.type,i,r)},S.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},S.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return T(e,a,i)},S.createRef=function(){return{current:null}},S.forwardRef=function(e){return{$$typeof:s,render:e}},S.isValidElement=A,S.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:k}},S.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},S.startTransition=function(e){var t=M.T,n={};M.T=n;try{var r=e(),i=M.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(w,L)}catch(a){L(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),M.T=t}},S.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},S.use=function(e){return M.H.use(e)},S.useActionState=function(e,t,n){return M.H.useActionState(e,t,n)},S.useCallback=function(e,t){return M.H.useCallback(e,t)},S.useContext=function(e){return M.H.useContext(e)},S.useDebugValue=function(){},S.useDeferredValue=function(e,t){return M.H.useDeferredValue(e,t)},S.useEffect=function(e,t){return M.H.useEffect(e,t)},S.useEffectEvent=function(e){return M.H.useEffectEvent(e)},S.useId=function(){return M.H.useId()},S.useImperativeHandle=function(e,t,n){return M.H.useImperativeHandle(e,t,n)},S.useInsertionEffect=function(e,t){return M.H.useInsertionEffect(e,t)},S.useLayoutEffect=function(e,t){return M.H.useLayoutEffect(e,t)},S.useMemo=function(e,t){return M.H.useMemo(e,t)},S.useOptimistic=function(e,t){return M.H.useOptimistic(e,t)},S.useReducer=function(e,t,n){return M.H.useReducer(e,t,n)},S.useRef=function(e){return M.H.useRef(e)},S.useState=function(e){return M.H.useState(e)},S.useSyncExternalStore=function(e,t,n){return M.H.useSyncExternalStore(e,t,n)},S.useTransition=function(){return M.H.useTransition()},S.version="19.2.3",S}function E(){return f||(f=1,w.exports=M()),w.exports}var T=E();const A=i(T),C=n({__proto__:null,default:A},[T]),P=T.createContext({});function R(e){const t=T.useRef(null);return null===t.current&&(t.current=e()),t.current}const N="undefined"!=typeof window,k=N?T.useLayoutEffect:T.useEffect,L=T.createContext(null);function I(e,t){-1===e.indexOf(t)&&e.push(t)}function O(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const D=(e,t,n)=>n>t?t:n<e?e:n,F={},U=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function j(e){return"object"==typeof e&&null!==e}const z=e=>/^0[^.\s]+$/u.test(e);function B(e){let t;return()=>(void 0===t&&(t=e()),t)}const V=e=>e,H=(e,t)=>n=>t(e(n)),W=(...e)=>e.reduce(H),G=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class q{constructor(){this.subscriptions=[]}add(e){return I(this.subscriptions,e),()=>O(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const X=e=>1e3*e,$=e=>e/1e3;function Y(e,t){return t?e*(1e3/t):0}const K=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Z(e,t,n,r){if(e===t&&n===r)return V;const i=t=>function(e,t,n,r,i){let a,o,s=0;do{o=t+(n-t)/2,a=K(o,r,i)-e,a>0?n=o:t=o}while(Math.abs(a)>1e-7&&++s<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:K(i(e),t,r)}const J=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Q=e=>t=>1-e(1-t),ee=Z(.33,1.53,.69,.99),te=Q(ee),ne=J(te),re=e=>(e*=2)<1?.5*te(e):.5*(2-Math.pow(2,-10*(e-1))),ie=e=>1-Math.sin(Math.acos(e)),ae=Q(ie),oe=J(ie),se=Z(.42,0,1,1),le=Z(0,0,.58,1),ce=Z(.42,0,.58,1),ue=e=>Array.isArray(e)&&"number"!=typeof e[0];function de(e,t){return ue(e)?e[((e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e})(0,e.length,t)]:e}const he=e=>Array.isArray(e)&&"number"==typeof e[0],fe={linear:V,easeIn:se,easeInOut:ce,easeOut:le,circIn:ie,circInOut:oe,circOut:ae,backIn:te,backInOut:ne,backOut:ee,anticipate:re},pe=e=>{if(he(e)){e.length;const[t,n,r,i]=e;return Z(t,n,r,i)}return"string"==typeof e?fe[e]:e},me=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ge(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=me.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function s(t){a.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,i=!1,o=!1)=>{const s=o&&r?t:n;return i&&a.add(e),s.has(e)||s.add(e),e},cancel:e=>{n.delete(e),a.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(s),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(a),e),{}),{setup:s,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=o,m=()=>{const a=F.useManualTiming?i.timestamp:performance.now();n=!1,F.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,s.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))};return{schedule:me.reduce((t,a)=>{const s=o[a];return t[a]=(t,a=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(m)),s.schedule(t,a,o)),t},{}),cancel:e=>{for(let t=0;t<me.length;t++)o[me[t]].cancel(e)},state:i,steps:o}}const{schedule:ve,cancel:ye,state:be,steps:xe}=ge("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:V,!0);let _e;function we(){_e=void 0}const Se={now:()=>(void 0===_e&&Se.set(be.isProcessing||F.useManualTiming?be.timestamp:performance.now()),_e),set:e=>{_e=e,queueMicrotask(we)}},Me=e=>t=>"string"==typeof t&&t.startsWith(e),Ee=Me("--"),Te=Me("var(--"),Ae=e=>!!Te(e)&&Ce.test(e.split("/*")[0].trim()),Ce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Pe(e){return"string"==typeof e&&e.split("/*")[0].includes("var(--")}const Re={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Ne={...Re,transform:e=>D(0,1,e)},ke={...Re,default:1},Le=e=>Math.round(1e5*e)/1e5,Ie=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,Oe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,De=(e,t)=>n=>Boolean("string"==typeof n&&Oe.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Fe=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,a,o,s]=r.match(Ie);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:void 0!==s?parseFloat(s):1}},Ue={...Re,transform:e=>Math.round((e=>D(0,255,e))(e))},je={test:De("rgb","red"),parse:Fe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ue.transform(e)+", "+Ue.transform(t)+", "+Ue.transform(n)+", "+Le(Ne.transform(r))+")"},ze={test:De("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:je.transform},Be=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Ve=Be("deg"),He=Be("%"),We=Be("px"),Ge=Be("vh"),qe=Be("vw"),Xe=(()=>({...He,parse:e=>He.parse(e)/100,transform:e=>He.transform(100*e)}))(),$e={test:De("hsl","hue"),parse:Fe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+He.transform(Le(t))+", "+He.transform(Le(n))+", "+Le(Ne.transform(r))+")"},Ye={test:e=>je.test(e)||ze.test(e)||$e.test(e),parse:e=>je.test(e)?je.parse(e):$e.test(e)?$e.parse(e):ze.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?je.transform(e):$e.transform(e),getAnimatableNone:e=>{const t=Ye.parse(e);return t.alpha=0,Ye.transform(t)}},Ke=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,Ze="number",Je="color",Qe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function et(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(Qe,e=>(Ye.test(e)?(r.color.push(a),i.push(Je),n.push(Ye.parse(e))):e.startsWith("var(")?(r.var.push(a),i.push("var"),n.push(e)):(r.number.push(a),i.push(Ze),n.push(parseFloat(e))),++a,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function tt(e){return et(e).values}function nt(e){const{split:t,types:n}=et(e),r=t.length;return e=>{let i="";for(let a=0;a<r;a++)if(i+=t[a],void 0!==e[a]){const t=n[a];i+=t===Ze?Le(e[a]):t===Je?Ye.transform(e[a]):e[a]}return i}}const rt=e=>"number"==typeof e?0:Ye.test(e)?Ye.getAnimatableNone(e):e,it={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(Ie)?.length||0)+(e.match(Ke)?.length||0)>0},parse:tt,createTransformer:nt,getAnimatableNone:function(e){const t=tt(e);return nt(e)(t.map(rt))}};function at(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ot(e,t){return n=>n>0?t:e}const st=(e,t,n)=>e+(t-e)*n,lt=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ct=[ze,je,$e];function ut(e){const t=(n=e,ct.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===$e&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,a=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=at(s,r,e+1/3),a=at(s,r,e),o=at(s,r,e-1/3)}else i=a=o=n;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}(r)),r}const dt=(e,t)=>{const n=ut(e),r=ut(t);if(!n||!r)return ot(e,t);const i={...n};return e=>(i.red=lt(n.red,r.red,e),i.green=lt(n.green,r.green,e),i.blue=lt(n.blue,r.blue,e),i.alpha=st(n.alpha,r.alpha,e),je.transform(i))},ht=new Set(["none","hidden"]);function ft(e,t){return n=>st(e,t,n)}function pt(e){return"number"==typeof e?ft:"string"==typeof e?Ae(e)?ot:Ye.test(e)?dt:vt:Array.isArray(e)?mt:"object"==typeof e?Ye.test(e)?dt:gt:ot}function mt(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>pt(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function gt(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=pt(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const vt=(e,t)=>{const n=it.createTransformer(t),r=et(e),i=et(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ht.has(e)&&!i.values.length||ht.has(t)&&!r.values.length?function(e,t){return ht.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):W(mt(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],s=e.values[o]??0;n[i]=s,r[a]++}return n}(r,i),i.values),n):ot(e,t)};function yt(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?st(e,t,n):pt(e)(e,t)}const bt=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>ve.update(t,e),stop:()=>ye(t),now:()=>be.isProcessing?be.timestamp:Se.now()}},xt=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=Math.round(1e4*e(a/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_t=2e4;function wt(e){let t=0,n=e.next(t);for(;!n.done&&t<_t;)t+=50,n=e.next(t);return t>=_t?1/0:t}function St(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(wt(r),_t);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:$(i)}}function Mt(e,t,n){const r=Math.max(t-5,0);return Y(n-e(r),t-r)}const Et=100,Tt=10,At=1,Ct=0,Pt=800,Rt=.3,Nt=.3,kt={granular:.01,default:2},Lt={granular:.005,default:.5},It=.01,Ot=10,Dt=.05,Ft=1,Ut=.001;function jt({duration:e=Pt,bounce:t=Rt,velocity:n=Ct,mass:r=At}){let i,a,o=1-t;o=D(Dt,Ft,o),e=D(It,Ot,$(e)),o<1?(i=t=>{const r=t*o,i=r*e,a=r-n,s=zt(t,o),l=Math.exp(-i);return Ut-a/s*l},a=t=>{const r=t*o*e,a=r*n+n,s=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=zt(Math.pow(t,2),o);return(-i(t)+Ut>0?-1:1)*((a-s)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(i,a,5/e);if(e=X(e),isNaN(s))return{stiffness:Et,damping:Tt,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}function zt(e,t){return e*Math.sqrt(1-t*t)}const Bt=["duration","bounce"],Vt=["stiffness","damping","mass"];function Ht(e,t){return t.some(t=>void 0!==e[t])}function Wt(e=Nt,t=Rt){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:Ct,stiffness:Et,damping:Tt,mass:At,isResolvedFromDuration:!1,...e};if(!Ht(e,Vt)&&Ht(e,Bt))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,a=2*D(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:At,stiffness:i,damping:a}}else{const n=jt(e);t={...t,...n,mass:At},t.isResolvedFromDuration=!0}return t}({...n,velocity:-$(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=o-a,v=$(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(r||(r=y?kt.granular:kt.default),i||(i=y?Lt.granular:Lt.default),m<1){const e=zt(v,m);b=t=>{const n=Math.exp(-m*v*t);return o-n*((p+m*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>o-Math.exp(-v*e)*(g+(p+v*g)*e);else{const e=v*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*v*t),r=Math.min(e*t,300);return o-n*((p+m*v*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:f&&d||null,next:e=>{const t=b(e);if(f)s.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?X(p):Mt(b,e,t));const a=Math.abs(n)<=r,l=Math.abs(o-t)<=i;s.done=a&&l}return s.value=s.done?o:t,s},toString:()=>{const e=Math.min(wt(x),_t),t=xt(t=>x.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return x}function Gt({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:s,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===s?l:void 0===l||Math.abs(s-e)<Math.abs(l-e)?s:l;let p=n*t;const m=d+p,g=void 0===o?m:o(m);g!==m&&(p=g-d);const v=e=>-p*Math.exp(-e/r),y=e=>g+v(e),b=e=>{const t=v(e),n=y(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let x,_;const w=e=>{var t;t=h.value,(void 0!==s&&t<s||void 0!==l&&t>l)&&(x=e,_=Wt({keyframes:[h.value,f(h.value)],velocity:Mt(y,e,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return _||void 0!==x||(t=!0,b(e),w(e)),void 0!==x&&e>=x?_.next(e-x):(!t&&b(e),h)}}}function qt(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],i=n||F.mix||yt,a=e.length-1;for(let o=0;o<a;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||V:t;n=W(e,n)}r.push(n)}return r}(t,r,i),l=s.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=G(e[r],e[r+1],n);return s[r](i)};return n?t=>c(D(e[0],e[a-1],t)):c}function Xt(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=G(0,t,r);e.push(st(n,1,i))}}function $t(e){const t=[0];return Xt(t,e.length-1),t}function Yt({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=ue(r)?r.map(pe):pe(r),a={done:!1,value:t[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:$t(t),e),s=qt(o,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||ce).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=s(t),a.done=t>=e,a)}}Wt.applyToOptions=e=>{const t=St(e,100,Wt);return e.ease=t.ease,e.duration=X(t.duration),e.type="keyframes",e};const Kt=e=>null!==e;function Zt(e,{repeat:t,repeatType:n="loop"},r,i=1){const a=e.filter(Kt),o=i<0||t&&"loop"!==n&&t%2==1?0:a.length-1;return o&&void 0!==r?r:a[o]}const Jt={decay:Gt,inertia:Gt,tween:Yt,keyframes:Yt,spring:Wt};function Qt(e){"string"==typeof e.type&&(e.type=Jt[e.type])}class en{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const tn=e=>e/100;class nn extends en{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Se.now()&&this.tick(Se.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Qt(e);const{type:t=Yt,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=e;let{keyframes:o}=e;const s=t||Yt;s!==Yt&&"number"!=typeof o[0]&&(this.mixKeyframes=W(tn,yt(o[0],o[1])),o=[0,100]);const l=s({...e,keyframes:o});"mirror"===i&&(this.mirroredGenerator=s({...e,keyframes:[...o].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=wt(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1),Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/o)):"mirror"===d&&(b=a)),y=D(0,1,n)*o}const x=v?{done:!1,value:c[0]}:b.next(y);i&&(x.value=i(x.value));let{done:_}=x;v||null===s||(_=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&_);return w&&f!==Gt&&(x.value=Zt(c,this.options,m,this.speed)),p&&p(x.value),w&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return $(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$(e)}get time(){return $(this.currentTime)}set time(e){e=X(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Se.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=$(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=bt,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Se.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const rn=e=>180*e/Math.PI,an=e=>{const t=rn(Math.atan2(e[1],e[0]));return sn(t)},on={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:an,rotateZ:an,skewX:e=>rn(Math.atan(e[1])),skewY:e=>rn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sn=e=>((e%=360)<0&&(e+=360),e),ln=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),cn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),un={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ln,scaleY:cn,scale:e=>(ln(e)+cn(e))/2,rotateX:e=>sn(rn(Math.atan2(e[6],e[5]))),rotateY:e=>sn(rn(Math.atan2(-e[2],e[0]))),rotateZ:an,rotate:an,skewX:e=>rn(Math.atan(e[4])),skewY:e=>rn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function dn(e){return e.includes("scale")?1:0}function hn(e,t){if(!e||"none"===e)return dn(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=un,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=on,i=t}if(!i)return dn(t);const a=r[t],o=i[1].split(",").map(fn);return"function"==typeof a?a(o):o[a]}function fn(e){return parseFloat(e.trim())}const pn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mn=(()=>new Set(pn))(),gn=e=>e===Re||e===We,vn=new Set(["x","y","z"]),yn=pn.filter(e=>!vn.has(e)),bn={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>hn(t,"x"),y:(e,{transform:t})=>hn(t,"y")};bn.translateX=bn.x,bn.translateY=bn.y;const xn=new Set;let _n=!1,wn=!1,Sn=!1;function Mn(){if(wn){const e=Array.from(xn).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return yn.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}wn=!1,_n=!1,xn.forEach(e=>e.complete(Sn)),xn.clear()}function En(){xn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wn=!0)})}class Tn{constructor(e,t,n,r,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(xn.add(this),_n||(_n=!0,ve.read(En),ve.resolveKeyframes(Mn))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=r?.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,a);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),xn.delete(this)}cancel(){"scheduled"===this.state&&(xn.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const An=B(()=>void 0!==window.ScrollTimeline),Cn={};function Pn(e,t){const n=B(e);return()=>Cn[t]??n()}const Rn=Pn(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Nn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,kn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nn([0,.65,.55,1]),circOut:Nn([.55,0,1,.45]),backIn:Nn([.31,.01,.66,-.59]),backOut:Nn([.33,1.53,.69,.99])};function Ln(e,t){return e?"function"==typeof e?Rn()?xt(e,t):"ease-out":he(e)?Nn(e):Array.isArray(e)?e.map(e=>Ln(e,t)||kn.easeOut):kn[e]:void 0}function In(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:s="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=Ln(s,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===o?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function On(e){return"function"==typeof e&&"applyToOptions"in e}class Dn extends en{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:o,onComplete:s}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=a,this.options=e,e.type;const l=function({type:e,...t}){return On(e)&&Rn()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=In(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=Zt(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return $(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+$(e)}get time(){return $(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=X(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&An()?(this.animation.timeline=e,V):t(this)}}const Fn={anticipate:re,backInOut:ne,circInOut:oe};function Un(e){"string"==typeof e.ease&&e.ease in Fn&&(e.ease=Fn[e.ease])}class jn extends Dn{constructor(e){Un(e),Qt(e),super(e),void 0!==e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:i,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const o=new nn({...a,autoplay:!1}),s=Math.max(10,Se.now()-this.startTime),l=D(0,10,s-10);t.setWithVelocity(o.sample(Math.max(0,s-l)).value,o.sample(s).value,l),o.stop()}}const zn=(e,t)=>!("zIndex"===t||"number"!=typeof e&&!Array.isArray(e)&&("string"!=typeof e||!it.test(e)&&"0"!==e||e.startsWith("url(")));function Bn(e){e.duration=0,e.type="keyframes"}const Vn=new Set(["opacity","clipPath","filter","transform"]),Hn=B(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Wn extends en{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",keyframes:o,name:s,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Se.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:a,name:s,motionValue:l,element:c,...u},h=c?.KeyframeResolver||Tn;this.keyframeResolver=new h(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),s,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:a,velocity:o,delay:s,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Se.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],o=zn(i,t),s=zn(a,t);return!(!o||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||On(n))&&r)}(e,i,a,o)||(!F.instantAnimations&&s||c?.(Zt(e,n,t)),e[0]=e[e.length-1],Bn(n),n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:a,type:o}=e,s=t?.owner?.current;if(!(s instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Hn()&&n&&Vn.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==i&&0!==a&&"inertia"!==o}(u),h=u.motionValue?.owner?.current,f=d?new jn({...u,element:h}):new nn(u);f.finished.then(()=>{this.notifyFinished()}).catch(V),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Sn=!0,En(),Mn(),Sn=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class Gn{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e){const t=this.animations.map(t=>t.attachTimeline(e));return()=>{t.forEach((e,t)=>{e&&e(),this.animations[t].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return qn(this.animations,"duration")}get iterationDuration(){return qn(this.animations,"iterationDuration")}runAll(e){this.animations.forEach(t=>t[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function qn(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];null!==i&&i>n&&(n=i)}return n}class Xn extends Gn{then(e,t){return this.finished.finally(e).then(()=>{})}}function $n(e,t,n,r=0,i=1){const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,s=(o-1)*r;return"function"==typeof n?n(a,o):1===i?a*r:s-a*r}const Yn=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kn(e,t,n=1){const[r,i]=function(e){const t=Yn.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return U(e)?parseFloat(e):e}return Ae(i)?Kn(i,t,n+1):i}const Zn={type:"spring",stiffness:500,damping:25,restSpeed:10},Jn={type:"keyframes",duration:.8},Qn={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},er=(e,{keyframes:t})=>t.length>2?Jn:mn.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Zn:Qn,tr=e=>null!==e;function nr(e,t){return e?.[t]??e?.default??e}const rr=(e,t,n,r={},i,a)=>o=>{const s=nr(r,e)||{},l=s.delay||r.delay||0;let{elapsed:c=0}=r;c-=X(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-c,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{o(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:s,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(s)||Object.assign(u,er(e,u)),u.duration&&(u.duration=X(u.duration)),u.repeatDelay&&(u.repeatDelay=X(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(Bn(u),0===u.delay&&(d=!0)),(F.instantAnimations||F.skipAnimations)&&(d=!0,Bn(u),u.delay=0),u.allowFlatten=!s.type&&!s.ease,d&&!a&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(tr);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(u.keyframes,s);if(void 0!==e)return void ve.update(()=>{u.onUpdate(e),u.onComplete()})}return s.isSync?new nn(u):new Wn(u)};function ir(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function ar(e,t,n,r){if("function"==typeof t){const[i,a]=ir(r);t=t(void 0!==n?n:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,a]=ir(r);t=t(void 0!==n?n:e.custom,i,a)}return t}function or(e,t,n){const r=e.getProps();return ar(r,t,void 0!==n?n:r.custom,e)}const sr=new Set(["width","height","top","left","right","bottom",...pn]),lr={current:void 0};class cr{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Se.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Se.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new q);const n=this.events[e].add(t);return"change"===e?()=>{n(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return lr.current&&lr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Se.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Y(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ur(e,t){return new cr(e,t)}const dr=e=>Array.isArray(e);function hr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ur(n))}function fr(e){return dr(e)?e[e.length-1]||0:e}const pr=e=>Boolean(e&&e.getVelocity);function mr(e,t){const n=e.getValue("willChange");if(r=n,Boolean(pr(r)&&r.add))return n.add(t);if(!n&&F.WillChange){const n=new F.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function gr(e){return e.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const vr="data-"+gr("framerAppearId");function yr(e){return e.props[vr]}function br({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function xr(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...s}=t;const l=a?.reduceMotion;r&&(a=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in s){const t=e.getValue(d,e.latestValues[d]??null),r=s[d];if(void 0===r||u&&br(u,d))continue;const i={delay:n,...nr(a||{},d)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){const t=yr(e);if(t){const e=window.MotionHandoffAnimation(t,d,ve);null!==e&&(i.startTime=e,h=!0)}}mr(e,d);const f=l??e.shouldReduceMotion;t.start(rr(d,t,r,f&&sr.has(d)?{type:!1}:i,e,h));const p=t.animation;p&&c.push(p)}return o&&Promise.all(c).then(()=>{ve.update(()=>{o&&function(e,t){const n=or(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a)hr(e,o,fr(a[o]))}(e,o)})}),c}function _r(e,t,n={}){const r=or(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(xr(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:a=0,staggerChildren:o,staggerDirection:s}=i;return function(e,t,n=0,r=0,i=0,a=1,o){const s=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),s.push(_r(l,t,{...o,delay:n+("function"==typeof r?0:r)+$n(e.variantChildren,l,r,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(s)}(e,t,r,a,o,s,n)}:()=>Promise.resolve(),{when:s}=i;if(s){const[e,t]="beforeChildren"===s?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}const wr=e=>t=>t.test(e),Sr=[Re,We,He,Ve,qe,Ge,{test:e=>"auto"===e,parse:e=>e}],Mr=e=>Sr.find(wr(e));function Er(e){return"number"==typeof e?0===e:null===e||"none"===e||"0"===e||z(e)}const Tr=new Set(["brightness","contrast","saturate","opacity"]);function Ar(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ie)||[];if(!r)return e;const i=n.replace(r,"");let a=Tr.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const Cr=/\b([a-z-]*)\(.*?\)/gu,Pr={...it,getAnimatableNone:e=>{const t=e.match(Cr);return t?t.map(Ar).join(" "):e}},Rr={...Re,transform:Math.round},Nr={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,inset:We,insetBlock:We,insetBlockStart:We,insetBlockEnd:We,insetInline:We,insetInlineStart:We,insetInlineEnd:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,paddingBlock:We,paddingBlockStart:We,paddingBlockEnd:We,paddingInline:We,paddingInlineStart:We,paddingInlineEnd:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,marginBlock:We,marginBlockStart:We,marginBlockEnd:We,marginInline:We,marginInlineStart:We,marginInlineEnd:We,fontSize:We,backgroundPositionX:We,backgroundPositionY:We,rotate:Ve,rotateX:Ve,rotateY:Ve,rotateZ:Ve,scale:ke,scaleX:ke,scaleY:ke,scaleZ:ke,skew:Ve,skewX:Ve,skewY:Ve,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:Ne,originX:Xe,originY:Xe,originZ:We,zIndex:Rr,fillOpacity:Ne,strokeOpacity:Ne,numOctaves:Rr},kr={...Nr,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Pr,WebkitFilter:Pr},Lr=e=>kr[e];function Ir(e,t){let n=Lr(e);return n!==Pr&&(n=it),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Or=new Set(["auto","none","0"]);class Dr extends Tn{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"==typeof n&&(n=n.trim(),Ae(n))){const r=Kn(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!sr.has(n)||2!==e.length)return;const[r,i]=e,a=Mr(r),o=Mr(i);if(Pe(r)!==Pe(i)&&bn[n])this.needsMeasurement=!0;else if(a!==o)if(gn(a)&&gn(o))for(let s=0;s<e.length;s++){const t=e[s];"string"==typeof t&&(e[s]=parseFloat(t))}else bn[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Er(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!Or.has(t)&&et(t).values.length&&(r=e[i]),i++}if(r&&n)for(const a of t)e[a]=Ir(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=bn[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}function Fr(e,t,n){if(null==e)return[];if(e instanceof EventTarget)return[e];if("string"==typeof e){let r=document;t&&(r=t.current);const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e).filter(e=>null!=e)}const Ur=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function jr(e){return j(e)&&"offsetHeight"in e}const{schedule:zr}=ge(queueMicrotask,!1),Br={x:!1,y:!1};function Vr(){return Br.x||Br.y}function Hr(e,t){const n=Fr(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Wr(e){return!("touch"===e.pointerType||Vr())}const Gr=(e,t)=>!!t&&(e===t||Gr(e,t.parentElement)),qr=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Xr=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $r(e){return Xr.has(e.tagName)||!0===e.isContentEditable}const Yr=new WeakSet;function Kr(e){return t=>{"Enter"===t.key&&e(t)}}function Zr(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Jr(e){return qr(e)&&!Vr()}function Qr(e,t,n={}){const[r,i,a]=Hr(e,n),o=e=>{const r=e.currentTarget;if(!Jr(e))return;Yr.add(r);const a=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),Yr.has(r)&&Yr.delete(r),Jr(e)&&"function"==typeof a&&a(e,{success:t})},s=e=>{o(e,r===window||r===document||n.useGlobalTarget||Gr(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",s,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),jr(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Kr(()=>{if(Yr.has(n))return;Zr(n,"down");const e=Kr(()=>{Zr(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Zr(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),$r(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function ei(e){return j(e)&&"ownerSVGElement"in e}function ti(e){return ei(e)&&"svg"===e.tagName}function ni(e,t,n={}){const r=e.get();let i,a=null,o=r;const s="string"==typeof r?r.replace(/[\d.-]/g,""):void 0,l=()=>{a&&(a.stop(),a=null)};if(e.attach((t,r)=>{o=t,i=e=>r(ri(e,s)),ve.postRender(()=>{(()=>{l();const t=ii(e.get()),r=ii(o);t!==r&&(a=new nn({keyframes:[t,r],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:i}))})(),e.events.animationStart?.notify(),a?.then(()=>{e.events.animationComplete?.notify()})})},l),pr(t)){const n=t.on("change",t=>e.set(ri(t,s))),r=e.on("destroy",n);return()=>{n(),r()}}return l}function ri(e,t){return t?e+t:e}function ii(e){return"number"==typeof e?e:parseFloat(e)}const ai=[...Sr,Ye,it],oi=()=>({x:{min:0,max:0},y:{min:0,max:0}}),si={current:null},li={current:!1},ci="undefined"!=typeof window,ui=new WeakMap;function di(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function hi(e){return"string"==typeof e||Array.isArray(e)}const fi=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pi=["initial",...fi];function mi(e){return di(e.animate)||pi.some(t=>hi(e[t]))}function gi(e){return Boolean(mi(e)||e.variants)}const vi=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yi={};function bi(e){yi=e}class xi{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Tn,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Se.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ve.render(this.render,!1,!0))};const{latestValues:s,renderState:l}=a;this.latestValues=s,this.baseTarget={...s},this.initialValues=t.initial?{...s}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=mi(t),this.isVariantNode=gi(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in u){const e=u[d];void 0!==s[d]&&pr(e)&&e.set(s[d])}}mount(e){this.current=e,ui.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(li.current||function(){if(li.current=!0,ci)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>si.current=e.matches;e.addEventListener("change",t),t()}else si.current=!1}(),this.shouldReduceMotion=si.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ye(this.notifyUpdate),ye(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=mn.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ve.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;"undefined"!=typeof window&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in yi){const t=yi[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<vi.length;n++){const t=vi[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],a=n[r];if(pr(i))e.addValue(r,i);else if(pr(a))e.addValue(r,ur(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,ur(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=ur(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(U(n)||z(n))?n=parseFloat(n):(r=n,!ai.find(wr(r))&&it.test(t)&&(n=Ir(e,t))),this.setBaseTarget(e,pr(n)?n.get():n)),pr(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=ar(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||pr(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new q),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){zr.render(this.render)}}class _i extends xi{constructor(){super(...arguments),this.KeyframeResolver=Dr}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){const n=e.style;return n?n[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class wi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Si({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Mi(e){return void 0===e||1===e}function Ei({scale:e,scaleX:t,scaleY:n}){return!Mi(e)||!Mi(t)||!Mi(n)}function Ti(e){return Ei(e)||Ai(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ai(e){return Ci(e.x)||Ci(e.y)}function Ci(e){return e&&"0%"!==e}function Pi(e,t,n){return n+t*(e-n)}function Ri(e,t,n,r,i){return void 0!==i&&(e=Pi(e,i,r)),Pi(e,n,r)+t}function Ni(e,t=0,n=1,r,i){e.min=Ri(e.min,t,n,r,i),e.max=Ri(e.max,t,n,r,i)}function ki(e,{x:t,y:n}){Ni(e.x,t.translate,t.scale,t.originPoint),Ni(e.y,n.translate,n.scale,n.originPoint)}const Li=.999999999999,Ii=1.0000000000001;function Oi(e,t){e.min=e.min+t,e.max=e.max+t}function Di(e,t,n,r,i=.5){Ni(e,t,n,st(e.min,e.max,i),r)}function Fi(e,t){Di(e.x,t.x,t.scaleX,t.scale,t.originX),Di(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ui(e,t){return Si(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const ji={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zi=pn.length;function Bi(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,s=!1;for(const l in t){const e=t[l];if(mn.has(l))o=!0;else if(Ee(l))i[l]=e;else{const t=Ur(e,Nr[l]);l.startsWith("origin")?(s=!0,a[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let a=0;a<zi;a++){const o=pn[a],s=e[o];if(void 0===s)continue;let l=!0;if("number"==typeof s)l=s===(o.startsWith("scale")?1:0);else{const e=parseFloat(s);l=o.startsWith("scale")?1===e:0===e}if(!l||n){const e=Ur(s,Nr[o]);l||(i=!1,r+=`${ji[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}function Vi(e,{style:t,vars:n},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];for(o in i?.applyProjectionStyles(a,r),n)a.setProperty(o,n[o])}function Hi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wi={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!We.test(e))return e;e=parseFloat(e)}return`${Hi(e,t.target.x)}% ${Hi(e,t.target.y)}%`}},Gi={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=it.parse(e);if(i.length>5)return r;const a=it.createTransformer(e),o="number"!=typeof i[0]?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=s,i[1+o]/=l;const c=st(s,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=c),"number"==typeof i[3+o]&&(i[3+o]/=c),a(i)}},qi={borderRadius:{...Wi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wi,borderTopRightRadius:Wi,borderBottomLeftRadius:Wi,borderBottomRightRadius:Wi,boxShadow:Gi};function Xi(e,{layout:t,layoutId:n}){return mn.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!qi[e]||"opacity"===e)}function $i(e,t,n){const r=e.style,i=t?.style,a={};if(!r)return a;for(const o in r)(pr(r[o])||i&&pr(i[o])||Xi(o,e)||void 0!==n?.getValue(o)?.liveStyle)&&(a[o]=r[o]);return a}class Yi extends _i{constructor(){super(...arguments),this.type="html",this.renderInstance=Vi}readValueFromInstance(e,t){if(mn.has(t))return this.projection?.isProjecting?dn(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return hn(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(Ee(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return Ui(e,t)}build(e,t,n){Bi(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return $i(e,t,n)}}class Ki extends xi{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,t){if(function(e,t){return e in t}(t,e)){const n=e[t];if("string"==typeof n||"number"==typeof n)return n}}getBaseTargetFromProps(){}removeValueFromRenderState(e,t){delete t.output[e]}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}build(e,t){Object.assign(e.output,t)}renderInstance(e,{output:t}){Object.assign(e,t)}sortInstanceNodePosition(){return 0}}const Zi={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ji={offset:"strokeDashoffset",array:"strokeDasharray"},Qi=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ea(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...s},l,c,u){if(Bi(e,s,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox);for(const f of Qi)void 0!==d[f]&&(h[f]=d[f],delete d[f]);void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==r&&(d.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Zi:Ji;e[a.offset]=""+-r,e[a.array]=`${t} ${n}`}(d,i,a,o,!1)}const ta=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),na=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ra(e,t,n){const r=$i(e,t,n);for(const i in e)(pr(e[i])||pr(t[i]))&&(r[-1!==pn.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]);return r}class ia extends _i{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=oi}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(mn.has(t)){const e=Lr(t);return e&&e.default||0}return t=ta.has(t)?t:gr(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return ra(e,t,n)}build(e,t,n){ea(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Vi(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(ta.has(i)?i:gr(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=na(e.tagName),super.mount(e)}}const aa=pi.length;function oa(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&oa(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<aa;n++){const r=pi[n],i=e.props[r];(hi(i)||!1===i)&&(t[r]=i)}return t}function sa(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const la=[...fi].reverse(),ca=fi.length;function ua(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>_r(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=_r(e,t,n);else{const i="function"==typeof t?or(e,t,n.custom):t;r=Promise.all(xr(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function da(e){let t=ua(e),n=pa(),r=!0;const i=t=>(n,r)=>{const i=or(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function a(a){const{props:o}=e,s=oa(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<ca;t++){const h=la[t],f=n[h],p=void 0!==o[h]?o[h]:s[h],m=hi(p),g=h===a?f.isActive:null;!1===g&&(d=t);let v=p===s[h]&&p!==o[h]&&m;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||di(p)||"boolean"==typeof p)continue;const y=ha(f.prevProp,p);let b=y||h===a&&f.isActive&&!v&&m||t>d&&m,x=!1;const _=Array.isArray(p)?p:[p];let w=_.reduce(i(h),{});!1===g&&(w={});const{prevResolvedValues:S={}}=f,M={...S,...w},E=t=>{b=!0,c.has(t)&&(x=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in M){const t=w[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=dr(t)&&dr(n)?!sa(t,n):t!==n,r?null!=t?E(e):c.add(e):void 0!==t&&c.has(e)?E(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=w,f.isActive&&(u={...u,...w}),r&&e.blockInitialAnimation&&(b=!1);const T=v&&y;b&&(!T||x)&&l.push(..._.map(t=>{const n={type:h};if("string"==typeof t&&r&&!T&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=or(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=$n(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof o.initial){const n=or(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const i=a(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=pa()}}}function ha(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!sa(t,e)}function fa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pa(){return{animate:fa(!0),whileInView:fa(),whileHover:fa(),whileTap:fa(),whileDrag:fa(),whileFocus:fa(),exit:fa()}}function ma(e,t){e.min=t.min,e.max=t.max}function ga(e,t){ma(e.x,t.x),ma(e.y,t.y)}function va(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ya(e){return e.max-e.min}function ba(e,t,n,r=.5){e.origin=r,e.originPoint=st(t.min,t.max,e.origin),e.scale=ya(n)/ya(t),e.translate=st(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function xa(e,t,n,r){ba(e.x,t.x,n.x,r?r.originX:void 0),ba(e.y,t.y,n.y,r?r.originY:void 0)}function _a(e,t,n){e.min=n.min+t.min,e.max=e.min+ya(t)}function wa(e,t,n){e.min=t.min-n.min,e.max=e.min+ya(t)}function Sa(e,t,n){wa(e.x,t.x,n.x),wa(e.y,t.y,n.y)}function Ma(e,t,n,r,i){return e=Pi(e-=t,1/n,r),void 0!==i&&(e=Pi(e,1/i,r)),e}function Ea(e,t,[n,r,i],a,o){!function(e,t=0,n=1,r=.5,i,a=e,o=e){if(He.test(t)&&(t=parseFloat(t),t=st(o.min,o.max,t/100)-o.min),"number"!=typeof t)return;let s=st(a.min,a.max,r);e===a&&(s-=t),e.min=Ma(e.min,t,n,s,i),e.max=Ma(e.max,t,n,s,i)}(e,t[n],t[r],t[i],t.scale,a,o)}const Ta=["x","scaleX","originX"],Aa=["y","scaleY","originY"];function Ca(e,t,n,r){Ea(e.x,t,Ta,n?n.x:void 0,r?r.x:void 0),Ea(e.y,t,Aa,n?n.y:void 0,r?r.y:void 0)}function Pa(e){return 0===e.translate&&1===e.scale}function Ra(e){return Pa(e.x)&&Pa(e.y)}function Na(e,t){return e.min===t.min&&e.max===t.max}function ka(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function La(e,t){return ka(e.x,t.x)&&ka(e.y,t.y)}function Ia(e){return ya(e.x)/ya(e.y)}function Oa(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Da(e){return[e("x"),e("y")]}const Fa=["TopLeft","TopRight","BottomLeft","BottomRight"],Ua=Fa.length,ja=e=>"string"==typeof e?parseFloat(e):e,za=e=>"number"==typeof e||We.test(e);function Ba(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Va=Wa(0,.5,ae),Ha=Wa(.5,.95,V);function Wa(e,t,n){return r=>r<e?0:r>t?1:n(G(e,t,r))}function Ga(e,t,n){const r=pr(e)?e:ur(e);return r.start(rr("",r,t,n)),r.animation}function qa(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const Xa=(e,t)=>e.depth-t.depth;class $a{constructor(){this.children=[],this.isDirty=!1}add(e){I(this.children,e),this.isDirty=!0}remove(e){O(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xa),this.isDirty=!1,this.children.forEach(e)}}function Ya(e){return pr(e)?e.get():e}class Ka{constructor(){this.members=[]}add(e){I(this.members,e),e.scheduleRender()}remove(e){if(O(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender();const r=n.options.layoutDependency,i=e.options.layoutDependency;void 0!==r&&void 0!==i&&r===i||(e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;!1===a&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Za={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ja=["","X","Y","Z"];let Qa=0;function eo(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function to(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=yr(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&to(r)}function no({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=Qa++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ao),this.nodes.forEach(fo),this.nodes.forEach(po),this.nodes.forEach(oo)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new $a)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new q),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=ei(t)&&!ti(t),this.instance=t;const{layoutId:n,layout:r,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||n)&&(this.isLayoutDirty=!0),e){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;ve.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Se.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(ye(r),e(a-t))};return ve.setup(r,!0),()=>ye(r)}(i,250),Za.hasAnimatedSinceResize&&(Za.hasAnimatedSinceResize=!1,this.nodes.forEach(ho)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||xo,{onLayoutAnimationStart:o,onLayoutAnimationComplete:s}=i.getProps(),l=!this.targetLayout||!La(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...nr(a,"layout"),onPlay:o,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||ho(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ye(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&to(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(lo);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(co);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(uo),this.nodes.forEach(ro),this.nodes.forEach(io)):this.nodes.forEach(co),this.clearAllSnapshots();const e=Se.now();be.delta=D(0,1e3/60,e-be.timestamp),be.timestamp=e,be.isProcessing=!0,xe.update.process(be),xe.preRender.process(be),xe.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(so),this.sharedNodes.forEach(go)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ya(this.snapshot.measuredBox.x)||ya(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++)this.path[n].updateScroll();const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Ra(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,a=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Ti(this.latestValues)||a)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),So((r=n).x),So(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!this.scroll?.wasRoot&&!this.path.some(Eo)){const{scroll:e}=this.root;e&&(Oi(t.x,e.offset.x),Oi(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(ga(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:a}=r;r!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&ga(t,e),Oi(t.x,i.offset.x),Oi(t.y,i.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};ga(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Fi(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Ti(e.latestValues)&&Fi(n,e.latestValues)}return Ti(this.latestValues)&&Fi(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ga(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Ti(e.latestValues))continue;Ei(e.latestValues)&&e.updateSnapshot();const r=oi();ga(r,e.measurePageBox()),Ca(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Ti(this.latestValues)&&Ca(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(!this.layout||!r&&!i)return;this.resolvedRelativeTargetAt=be.timestamp;const a=this.getClosestProjectingParent();var o,s,l;a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,s=this.relativeTarget,l=this.relativeParent.target,_a(o.x,s.x,l.x),_a(o.y,s.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ga(this.target,this.layout.layoutBox),ki(this.target,this.targetDelta)):ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!Ei(this.parent.latestValues)&&!Ai(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Sa(this.relativeTargetOrigin,t,n),ga(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===be.timestamp&&(n=!1),n)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;ga(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let a,o;t.x=t.y=1;for(let s=0;s<i;s++){a=n[s],o=a.projectionDelta;const{visualElement:i}=a.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Fi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,ki(e,o)),r&&Ti(a.latestValues)&&Fi(e,a.latestValues))}t.x<Ii&&t.x>Li&&(t.x=1),t.y<Ii&&t.y>Li&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:s}=e;s?(this.projectionDelta&&this.prevProjectionDelta?(va(this.prevProjectionDelta.x,this.projectionDelta.x),va(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),xa(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&Oa(this.projectionDelta.x,this.prevProjectionDelta.x)&&Oa(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(s&&!c&&!0===this.options.crossfade&&!this.path.some(bo));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;vo(a.x,e.x,n),vo(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sa(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=o,g=n,yo(f.x,p.x,m.x,g),yo(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,Na(l.x,h.x)&&Na(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ga(d,this.relativeTarget)),s&&(this.animationValues=i,function(e,t,n,r,i,a){i?(e.opacity=st(0,n.opacity??1,Va(r)),e.opacityExit=st(t.opacity??1,0,Ha(r))):a&&(e.opacity=st(t.opacity??1,n.opacity??1,r));for(let o=0;o<Ua;o++){const i=`border${Fa[o]}Radius`;let a=Ba(t,i),s=Ba(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||za(a)===za(s)?(e[i]=Math.max(st(ja(a),ja(s),r),0),(He.test(s)||He.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=st(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ye(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{Za.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ur(0)),this.currentAnimation=Ga(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Mo(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=ya(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=ya(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ga(t,n),Fi(t,i),xa(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ka),this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&eo("z",e,r,this.animationValues);for(let i=0;i<Ja.length;i++)eo(`rotate${Ja[i]}`,e,r,this.animationValues),eo(`skew${Ja[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Ya(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ya(t?.pointerEvents)||""),void(this.hasProjected&&!Ti(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let a=function(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=n?.z||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:o,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),a&&(r+=`rotateY(${a}deg) `),o&&(r+=`skewX(${o}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(a=n(i,a)),e.transform=a;const{x:o,y:s}=this.projectionDelta;e.transformOrigin=`${100*o.origin}% ${100*s.origin}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in qi){if(void 0===i[l])continue;const{correct:t,applyTo:n,isCSSVariable:o}=qi[l],s="none"===a?i[l]:t(i[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=s}else o?this.options.visualElement.renderState.vars[l]=s:e[l]=s}this.options.layoutId&&(e.pointerEvents=r===this?Ya(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(lo),this.root.sharedNodes.clear()}}}function ro(e){e.updateLayout()}function io(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;"size"===i?Da(e=>{const r=a?t.measuredBox[e]:t.layoutBox[e],i=ya(r);r.min=n[e].min,r.max=r.min+i}):Mo(i,t.layoutBox,n)&&Da(r=>{const i=a?t.measuredBox[r]:t.layoutBox[r],o=ya(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};xa(o,n,t.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?xa(s,e.applyTransform(r,!0),t.measuredBox):xa(s,n,t.layoutBox);const l=!Ra(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:a}=r;if(i&&a){const o={x:{min:0,max:0},y:{min:0,max:0}};Sa(o,t.layoutBox,i.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};Sa(s,n,a.layoutBox),La(o,s)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function ao(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oo(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function so(e){e.clearSnapshot()}function lo(e){e.clearMeasurements()}function co(e){e.isLayoutDirty=!1}function uo(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ho(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function fo(e){e.resolveTargetDelta()}function po(e){e.calcProjection()}function mo(e){e.resetSkewAndRotation()}function go(e){e.removeLeadSnapshot()}function vo(e,t,n){e.translate=st(t.translate,0,n),e.scale=st(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yo(e,t,n,r){e.min=st(t.min,n.min,r),e.max=st(t.max,n.max,r)}function bo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const xo={duration:.45,ease:[.4,0,.1,1]},_o=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wo=_o("applewebkit/")&&!_o("chrome/")?Math.round:V;function So(e){e.min=wo(e.min),e.max=wo(e.max)}function Mo(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Ia(t),i=Ia(n),a=.2,!(Math.abs(r-i)<=a));var r,i,a}function Eo(e){return e!==e.root&&e.scroll?.wasRoot}const To=no({attachResizeListener:(e,t)=>qa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ao=e=>!e.isLayoutDirty&&e.willUpdate(!1);function Co(){const e=new Set,t=new WeakMap,n=()=>e.forEach(Ao);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const Po={current:void 0},Ro=no({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Po.current){const e=new To({});e.mount(window),e.setOptions({layoutScroll:!0}),Po.current=e}return Po.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),No=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ko(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Lo(...e){return T.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=ko(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():ko(e[t],null)}}}}(...e),e)}class Io extends T.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=jr(e)&&e.offsetWidth||0,r=jr(e)&&e.offsetHeight||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left,i.bottom=r-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Oo({children:e,isPresent:t,anchorX:n,anchorY:r,root:i}){const a=T.useId(),o=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=T.useContext(No),c=e.props?.ref??e?.ref,d=Lo(o,c);return T.useInsertionEffect(()=>{const{width:e,height:c,top:u,left:d,right:h,bottom:f}=s.current;if(t||!o.current||!e||!c)return;const p="left"===n?`left: ${d}`:`right: ${h}`,m="bottom"===r?`bottom: ${f}`:`top: ${u}`;o.current.dataset.motionPopId=a;const g=document.createElement("style");l&&(g.nonce=l);const v=i??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${c}px !important;\n            ${p}px !important;\n            ${m}px !important;\n          }\n        `),()=>{v.contains(g)&&v.removeChild(g)}},[t]),u.jsx(Io,{isPresent:t,childRef:o,sizeRef:s,children:T.cloneElement(e,{ref:d})})}const Do=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:s,anchorY:l,root:c})=>{const d=R(Fo),h=T.useId();let f=!0,p=T.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;r&&r()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[n,d,r]);return a&&f&&(p={...p}),T.useMemo(()=>{d.forEach((e,t)=>d.set(t,!1))},[n]),T.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),"popLayout"===o&&(e=u.jsx(Oo,{isPresent:n,anchorX:s,anchorY:l,root:c,children:e})),u.jsx(L.Provider,{value:p,children:e})};function Fo(){return new Map}function Uo(e=!0){const t=T.useContext(L);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=T.useId();T.useEffect(()=>{if(e)return i(a)},[e]);const o=T.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const jo=e=>e.key||"";function zo(e){const t=[];return T.Children.forEach(e,e=>{T.isValidElement(e)&&t.push(e)}),t}const Bo=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:s="left",anchorY:l="top",root:c})=>{const[d,h]=Uo(o),f=T.useMemo(()=>zo(e),[e]),p=o&&!d?[]:f.map(jo),m=T.useRef(!0),g=T.useRef(f),v=R(()=>new Map),y=T.useRef(new Set),[b,x]=T.useState(f),[_,w]=T.useState(f);k(()=>{m.current=!1,g.current=f;for(let e=0;e<_.length;e++){const t=jo(_[e]);p.includes(t)?(v.delete(t),y.current.delete(t)):!0!==v.get(t)&&v.set(t,!1)}},[_,p.length,p.join("-")]);const S=[];if(f!==b){let e=[...f];for(let t=0;t<_.length;t++){const n=_[t],r=jo(n);p.includes(r)||(e.splice(t,0,n),S.push(n))}return"wait"===a&&S.length&&(e=S),w(zo(e)),x(f),null}const{forceRender:M}=T.useContext(P);return u.jsx(u.Fragment,{children:_.map(e=>{const b=jo(e),x=!(o&&!d)&&(f===_||p.includes(b));return u.jsx(Do,{isPresent:x,initial:!(m.current&&!n)&&void 0,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:x?void 0:()=>{if(y.current.has(b))return;if(y.current.add(b),!v.has(b))return;v.set(b,!0);let e=!0;v.forEach(t=>{t||(e=!1)}),e&&(M?.(),w(g.current),o&&h?.(),r&&r())},anchorX:s,anchorY:l,children:e},b)})})},Vo=T.createContext(null);function Ho(){const e=function(){const e=T.useRef(!1);return k(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[t,n]=T.useState(0),r=T.useCallback(()=>{e.current&&n(t+1)},[t]);return[T.useCallback(()=>ve.postRender(r),[r]),t]}const Wo=e=>!0===e,Go=({children:e,id:t,inherit:n=!0})=>{const r=T.useContext(P),i=T.useContext(Vo),[a,o]=Ho(),s=T.useRef(null),l=r.id||i;null===s.current&&((e=>Wo(!0===e)||"id"===e)(n)&&l&&(t=t?l+"-"+t:l),s.current={id:t,group:Wo(n)&&r.group||Co()});const c=T.useMemo(()=>({...s.current,forceRender:a}),[o]);return u.jsx(P.Provider,{value:c,children:e})},qo=T.createContext({strict:!1}),Xo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let $o=!1;function Yo(){return function(){if($o)return;const e={};for(const t in Xo)e[t]={isEnabled:e=>Xo[t].some(t=>!!e[t])};bi(e),$o=!0}(),yi}const Ko=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zo(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ko.has(e)}let Jo=e=>!Zo(e);try{"function"==typeof(Qo=require("@emotion/is-prop-valid").default)&&(Jo=e=>e.startsWith("on")?!Zo(e):Qo(e))}catch{}var Qo;const es=T.createContext({});function ts(e){const{initial:t,animate:n}=function(e,t){if(mi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||hi(t)?t:void 0,animate:hi(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,T.useContext(es));return T.useMemo(()=>({initial:t,animate:n}),[ns(t),ns(n)])}function ns(e){return Array.isArray(e)?e.join(" "):e}const rs=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function is(e,t,n){for(const r in t)pr(t[r])||Xi(r,n)||(e[r]=t[r])}function as(e,t){const n={};return is(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return T.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Bi(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function os(e,t){const n={},r=as(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const ss=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}});function ls(e,t,n,r){const i=T.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return ea(n,t,na(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};is(t,e.style,e),i.style={...t,...i.style}}return i}const cs=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function us(e){return"string"==typeof e&&!e.includes("-")&&!!(cs.indexOf(e)>-1||/[A-Z]/u.test(e))}function ds(e,t,n,{latestValues:r},i,a=!1,o){const s=(o??us(e)?ls:os)(t,r,i,e),l=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(Jo(i)||!0===n&&Zo(i)||!t&&!Zo(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,a),c=e!==T.Fragment?{...l,...s,ref:n}:{},{children:u}=t,d=T.useMemo(()=>pr(u)?u.get():u,[u]);return T.createElement(e,{...c,children:d})}function hs(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=Ya(a[h]);let{initial:o,animate:s}=e;const l=mi(e),c=gi(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?s:o;if(d&&"boolean"!=typeof d&&!di(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=ar(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];Array.isArray(e)&&(e=e[u?e.length-1:0]),null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const fs=e=>(t,n)=>{const r=T.useContext(es),i=T.useContext(L),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:hs(n,r,i,e),renderState:t()}}(e,t,r,i);return n?a():R(a)},ps=fs({scrapeMotionValuesFromProps:$i,createRenderState:rs}),ms=fs({scrapeMotionValuesFromProps:ra,createRenderState:ss}),gs=Symbol.for("motionComponentSymbol");function vs(e,t,n){const r=T.useRef(n);T.useInsertionEffect(()=>{r.current=n});const i=T.useRef(null);return T.useCallback(n=>{n&&e.onMount?.(n),t&&(n?t.mount(n):t.unmount());const a=r.current;if("function"==typeof a)if(n){const e=a(n);"function"==typeof e&&(i.current=e)}else i.current?(i.current(),i.current=null):a(n);else a&&(a.current=n)},[t])}const ys=T.createContext({});function bs(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function xs(e,t,n,r,i,a){const{visualElement:o}=T.useContext(es),s=T.useContext(qo),l=T.useContext(L),c=T.useContext(No).reducedMotion,u=T.useRef(null),d=T.useRef(!1);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c,isSVG:a}),d.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const h=u.current,f=T.useContext(ys);!h||h.projection||!i||"html"!==h.type&&"svg"!==h.type||function(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:s,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:_s(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:Boolean(o)||s&&bs(s),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(u.current,n,i,f);const p=T.useRef(!1);T.useInsertionEffect(()=>{h&&p.current&&h.update(n,l)});const m=n[vr],g=T.useRef(Boolean(m)&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return k(()=>{d.current=!0,h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),T.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),g.current=!1),h.enteringChildren=void 0)}),h}function _s(e){if(e)return!1!==e.options.allowProjection?e.projection:_s(e.parent)}function ws(e,{forwardMotionProps:t=!1,type:n}={},r,i){r&&function(e){const t=Yo();for(const n in e)t[n]={...t[n],...e[n]};bi(t)}(r);const a=n?"svg"===n:us(e),o=a?ms:ps;function s(n,r){let s;const l={...T.useContext(No),...n,layoutId:Ss(n)},{isStatic:c}=l,d=ts(n),h=o(n,c);if(!c&&N){T.useContext(qo).strict;const t=function(e){const t=Yo(),{drag:n,layout:r}=t;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);s=t.MeasureLayout,d.visualElement=xs(e,h,l,i,t.ProjectionNode,a)}return u.jsxs(es.Provider,{value:d,children:[s&&d.visualElement?u.jsx(s,{visualElement:d.visualElement,...l}):null,ds(e,n,vs(h,d.visualElement,r),h,c,t,a)]})}s.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const l=T.forwardRef(s);return l[gs]=e,l}function Ss({layoutId:e}){const t=T.useContext(P).id;return t&&void 0!==e?t+"-"+e:e}function Ms(e,t){if("undefined"==typeof Proxy)return ws;const n=new Map,r=(n,r)=>ws(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,a)=>"create"===a?r:(n.has(a)||n.set(a,ws(a,void 0,e,t)),n.get(a))})}const Es=(e,t)=>t.isSVG??us(e)?new ia(t):new Yi(t,{allowProjection:e!==T.Fragment});let Ts=0;const As={animation:{Feature:class extends wi{constructor(e){super(e),e.animationState||(e.animationState=da(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();di(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends wi{constructor(){super(...arguments),this.id=Ts++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Cs(e){return{point:{x:e.pageX,y:e.pageY}}}function Ps(e,t,n,r){return qa(e,t,(e=>t=>qr(t)&&e(t,Cs(t)))(n),r)}const Rs=({current:e})=>e?e.ownerDocument.defaultView:null,Ns=(e,t)=>Math.abs(e-t),ks=new Set(["auto","scroll"]);class Ls{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=e=>{this.handleScroll(e.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ds(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ns(e.x,t.x),r=Ns(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=be;this.history.push({...r,timestamp:i});const{onStart:a,onMove:o}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Is(t,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(!this.dragSnapToOrigin&&this.startEvent||i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Ds("pointercancel"===e.type?this.lastMoveEventInfo:Is(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!qr(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=r||window;const s=Is(Cs(e),this.transformPagePoint),{point:l}=s,{timestamp:c}=be;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=t;u&&u(e,Ds(s,this.history)),this.removeListeners=W(Ps(this.contextWindow,"pointermove",this.handlePointerMove),Ps(this.contextWindow,"pointerup",this.handlePointerUp),Ps(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){const e=getComputedStyle(t);(ks.has(e.overflowX)||ks.has(e.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const n=e===window,r=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i=r.x-t.x,a=r.y-t.y;0===i&&0===a||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i,this.lastMoveEventInfo.point.y+=a):this.history.length>0&&(this.history[0].x-=i,this.history[0].y-=a),this.scrollPositions.set(e,r),ve.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ye(this.updatePoint)}}function Is(e,t){return t?{point:t(e.point)}:e}function Os(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ds({point:e},t){return{point:e,delta:Os(e,Us(t)),offset:Os(e,Fs(t)),velocity:js(t,.1)}}function Fs(e){return e[0]}function Us(e){return e[e.length-1]}function js(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Us(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>X(t)));)n--;if(!r)return{x:0,y:0};const a=$(i.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function zs(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Bs(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Vs=.35;function Hs(e,t,n){return{min:Ws(e,t),max:Ws(e,n)}}function Ws(e,t){return"number"==typeof e?e:e[t]||0}const Gs=new WeakMap;class qs{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new Ls(e,{onSessionStart:e=>{t?(this.stopAnimation(),this.snapToCursor(Cs(e).point)):this.pauseAnimation()},onStart:(e,t)=>{this.stopAnimation();const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?Br[a]?null:(Br[a]=!0,()=>{Br[a]=!1}):Br.x||Br.y?null:(Br.x=Br.y=!0,()=>{Br.x=Br.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Da(e=>{let t=this.getAxisMotionValue(e).get()||0;if(He.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];r&&(t=ya(r)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&ve.postRender(()=>i(e,t)),mr(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Da(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:Rs(this.visualElement),element:this.visualElement.current})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ve.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Xs(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?st(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?st(n,e,r.max):Math.min(e,n)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&bs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:zs(e.x,n,i),y:zs(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Vs){return!1===e?e=0:!0===e&&(e=Vs),{x:Hs(e,"left","right"),y:Hs(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Da(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!bs(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=Ui(e,n),{scroll:i}=t;return i&&(Oi(r.x,i.offset.x),Oi(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Bs(e.x,t.x),y:Bs(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=Si(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),s=this.constraints||{},l=Da(o=>{if(!Xs(o,t,this.currentDirection))return;let l=s&&s[o]||{};a&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return mr(this.visualElement,e),n.start(rr(e,n,0,t,this.visualElement,!1))}stopAnimation(){Da(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Da(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Da(t=>{const{drag:n}=this.getProps();if(!Xs(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t],o=i.get()||0;i.set(e[t]-st(n,a,.5)+o)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!bs(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Da(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=ya(e),i=ya(t);return i>r?n=G(t.min,t.max-r,e.min):r>i&&(n=G(e.min,e.max-i,t.min)),D(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Da(t=>{if(!Xs(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];n.set(st(i,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Gs.set(this.visualElement,this);const e=this.visualElement.current,t=Ps(e,"pointerdown",t=>{const{drag:n,dragListener:r=!0}=this.getProps(),i=t.target,a=i!==e&&$r(i);n&&r&&!a&&this.start(t)}),n=()=>{const{dragConstraints:e}=this.getProps();bs(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ve.read(n);const a=qa(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Da(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{a(),t(),i(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=Vs,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Xs(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const $s=e=>(t,n)=>{e&&ve.postRender(()=>e(t,n))};let Ys=!1;class Ks extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),Ys&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Za.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:a}=n;return a?(a.isPresent=i,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),Ys=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||ve.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Ys=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zs(e){const[t,n]=Uo(),r=T.useContext(P);return u.jsx(Ks,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(ys),isPresent:t,safeToRemove:n})}const Js={pan:{Feature:class extends wi{constructor(){super(...arguments),this.removePointerDownListener=V}onPointerDown(e){this.session=new Ls(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rs(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:$s(e),onStart:$s(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&ve.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=Ps(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends wi{constructor(e){super(e),this.removeGroupControls=V,this.removeListeners=V,this.controls=new qs(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||V}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}},ProjectionNode:Ro,MeasureLayout:Zs}};function Qs(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&ve.postRender(()=>i(t,Cs(t)))}function el(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&ve.postRender(()=>i(t,Cs(t)))}const tl=new WeakMap,nl=new WeakMap,rl=e=>{const t=tl.get(e.target);t&&t(e)},il=e=>{e.forEach(rl)};function al(e,t,n){const r=function({root:e,...t}){const n=e||document;nl.has(n)||nl.set(n,{});const r=nl.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(il,{root:e,...t})),r[i]}(t);return tl.set(e,n),r.observe(e),()=>{tl.delete(e),r.unobserve(e)}}const ol={some:0,all:1},sl={inView:{Feature:class extends wi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:ol[r]};return al(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends wi{mount(){const{current:e}=this.node;e&&(this.unmount=Qr(e,(e,t)=>(el(this.node,t,"Start"),(e,{success:t})=>el(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends wi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=W(qa(this.node.current,"focus",()=>this.onFocus()),qa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends wi{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,a]=Hr(e,n),o=e=>{if(!Wr(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const a=e=>{Wr(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),a}(e,(e,t)=>(Qs(this.node,t,"Start"),e=>Qs(this.node,e,"End"))))}unmount(){}}}},ll=Ms({...As,...sl,...Js,layout:{ProjectionNode:Ro,MeasureLayout:Zs}},Es);function cl(e){const t=R(()=>ur(e)),{isStatic:n}=T.useContext(No);if(n){const[,n]=T.useState(e);T.useEffect(()=>t.on("change",n),[])}return t}function ul(e,t){const n=cl(t()),r=()=>n.set(t());return r(),k(()=>{const t=()=>ve.preRender(r,!1,!0),n=e.map(e=>e.on("change",t));return()=>{n.forEach(e=>e()),ye(r)}}),n}function dl(e,t,n,r){if("function"==typeof e)return function(e){lr.current=[],e();const t=ul(lr.current,e);return lr.current=void 0,t}(e);if(void 0!==n&&!Array.isArray(n)&&"function"!=typeof t)return function(e,t,n,r){const i=R(()=>Object.keys(n)),a=R(()=>({}));for(const o of i)a[o]=dl(e,t,n[o],r);return a}(e,t,n,r);const i="function"==typeof t?t:function(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=qt(e[1+n],e[2+n],e[3+n]);return t?i(r):i}(t,n,r);return Array.isArray(e)?hl(e,i):hl([e],([e])=>i(e))}function hl(e,t){const n=R(()=>[]);return ul(e,()=>{n.length=0;const r=e.length;for(let t=0;t<r;t++)n[t]=e[t].get();return t(n)})}function fl(e,t={}){return function(e,t={}){const{isStatic:n}=T.useContext(No),r=()=>pr(e)?e.get():e;if(n)return dl(r);const i=cl(r());return T.useInsertionEffect(()=>ni(i,e,t),[i,JSON.stringify(t)]),i}(e,{type:"spring",...t})}function pl(e){const t=T.useRef(0),{isStatic:n}=T.useContext(No);T.useEffect(()=>{if(n)return;const r=({timestamp:n,delta:r})=>{t.current||(t.current=n),e(n-t.current,r)};return ve.update(r,!0),()=>ye(r)},[e])}function ml(e){const t=cl(e.getVelocity()),n=()=>{const r=e.getVelocity();t.set(r),r&&ve.update(n)};return function(e,t,n){T.useInsertionEffect(()=>e.on(t,n),[e,t,n])}(e,"change",()=>{ve.update(n,!1,!0)}),t}function gl(e){return"object"==typeof e&&!Array.isArray(e)}function vl(e,t,n,r){return null==e?[]:"string"==typeof e&&gl(t)?Fr(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e.filter(e=>null!=e):[e]}function yl(e,t,n){return e*(t+1)}function bl(e,t,n,r){return"number"==typeof t?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):"<"===t?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function xl(e,t,n,r,i,a){!function(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(O(e,i),r--)}}(e,i,a);for(let o=0;o<t.length;o++)e.push({value:t[o],at:st(i,a,r[o]),easing:de(n,o)})}function _l(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function wl(e,t){return e.at===t.at?null===e.value?1:null===t.value?-1:0:e.at-t.at}function Sl(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function Ml(e,t){return t[e]||(t[e]=[]),t[e]}function El(e){return Array.isArray(e)?e:[e]}function Tl(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Al=e=>"number"==typeof e,Cl=e=>e.every(Al);function Pl(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=ei(e)&&!ti(e)?new ia(t):new Yi(t);n.mount(e),ui.set(e,n)}function Rl(e){const t=new Ki({presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}});t.mount(e),ui.set(e,t)}function Nl(e,t,n,r){const i=[];if(function(e,t){return pr(e)||"number"==typeof e||"string"==typeof e&&!gl(t)}(e,t))i.push(Ga(e,gl(t)&&t.default||t,n&&n.default||n));else{if(null==e)return i;const a=vl(e,t,r),o=a.length;for(let e=0;e<o;e++){const r=a[e],s=r instanceof Element?Pl:Rl;ui.has(r)||s(r);const l=ui.get(r),c={...n};"delay"in c&&"function"==typeof c.delay&&(c.delay=c.delay(e,o)),i.push(...xr(l,{...t,transition:c},{}))}}return i}function kl(e,t,n){const r=[],i=function(e,{defaultTransition:t={},...n}={},r,i){const a=t.duration||.3,o=new Map,s=new Map,l={},c=new Map;let u=0,d=0,h=0;for(let f=0;f<e.length;f++){const n=e[f];if("string"==typeof n){c.set(n,d);continue}if(!Array.isArray(n)){c.set(n.name,bl(d,n.at,u,c));continue}let[o,p,m={}]=n;void 0!==m.at&&(d=bl(d,m.at,u,c));let g=0;const v=(e,n,r,o=0,s=0)=>{const l=El(e),{delay:c=0,times:u=$t(l),type:f=t.type||"keyframes",repeat:p,repeatType:m,repeatDelay:v=0,...y}=n;let{ease:b=t.ease||"easeOut",duration:x}=n;const _="function"==typeof c?c(o,s):c,w=l.length,S=On(f)?f:i?.[f||"keyframes"];if(w<=2&&S){let e=100;if(2===w&&Cl(l)){const t=l[1]-l[0];e=Math.abs(t)}const n={...t,...y};void 0!==x&&(n.duration=X(x));const r=St(n,e,S);b=r.ease,x=r.duration}x??(x=a);const M=d+_;1===u.length&&0===u[0]&&(u[1]=1);const E=u.length-l.length;if(E>0&&Xt(u,E),1===l.length&&l.unshift(null),p){x=yl(x,p);const e=[...l],t=[...u];b=Array.isArray(b)?[...b]:[b];const n=[...b];for(let r=0;r<p;r++){l.push(...e);for(let i=0;i<e.length;i++)u.push(t[i]+(r+1)),b.push(0===i?"linear":de(n,i-1))}_l(u,p)}const T=M+x;xl(r,l,b,u,M,T),g=Math.max(_+x,g),h=Math.max(T,h)};if(pr(o))v(p,m,Ml("default",Sl(o,s)));else{const e=vl(o,p,r,l),t=e.length;for(let n=0;n<t;n++){const r=Sl(e[n],s);for(const e in p)v(p[e],Tl(m,e),Ml(e,r),n,t)}}u=d,d+=g}return s.forEach((e,r)=>{for(const i in e){const a=e[i];a.sort(wl);const s=[],l=[],c=[];for(let e=0;e<a.length;e++){const{at:t,value:n,easing:r}=a[e];s.push(n),l.push(G(0,h,t)),c.push(r||"easeOut")}0!==l[0]&&(l.unshift(0),s.unshift(s[0]),c.unshift("easeInOut")),1!==l[l.length-1]&&(l.push(1),s.push(null)),o.has(r)||o.set(r,{keyframes:{},transition:{}});const u=o.get(r);u.keyframes[i]=s;const{type:d,...f}=t;u.transition[i]={...f,duration:h,ease:c,times:l,...n}}}),o}(e,t,n,{spring:Wt});return i.forEach(({keyframes:e,transition:t},n)=>{r.push(...Nl(n,e,t))}),r}const Ll=function(e={}){const{scope:t,reduceMotion:n}=e;return function(e,r,i){let a,o=[];if(s=e,Array.isArray(s)&&s.some(Array.isArray))o=kl(e,void 0!==n?{reduceMotion:n,...r}:r,t);else{const{onComplete:s,...l}=i||{};"function"==typeof s&&(a=s),o=Nl(e,r,void 0!==n?{reduceMotion:n,...l}:l,t)}var s;const l=new Xn(o);return a&&l.finished.then(a),t&&(t.animations.push(l),l.finished.then(()=>{O(t.animations,l)})),l}}(),Il={some:0,all:1};function Ol(e,{root:t,margin:n,amount:r,once:i=!1,initial:a=!1}={}){const[o,s]=T.useState(a);return T.useEffect(()=>{if(!e.current||i&&o)return;const a={root:t&&t.current||void 0,margin:n,amount:r};return function(e,t,{root:n,margin:r,amount:i="some"}={}){const a=Fr(e),o=new WeakMap,s=new IntersectionObserver(e=>{e.forEach(e=>{const n=o.get(e.target);if(e.isIntersecting!==Boolean(n))if(e.isIntersecting){const n=t(e.target,e);"function"==typeof n?o.set(e.target,n):s.unobserve(e.target)}else"function"==typeof n&&(n(e),o.delete(e.target))})},{root:n,rootMargin:r,threshold:"number"==typeof i?i:Il[i]});return a.forEach(e=>s.observe(e)),()=>s.disconnect()}(e.current,()=>(s(!0),i?void 0:()=>s(!1)),a)},[t,e,n,i,r]),o}const Dl=ur(0);function Fl({y:e,zIndex:t=-10}){const n=dl(fl(ml(Dl),{stiffness:140,damping:55,mass:.7}),e=>Math.abs(e)<12?.25*e:e),r=dl([function(){const e=cl(0);return pl(t=>e.set(t)),e}(),n],([e,t])=>0===t?e/2400:e/700),i=dl([r,n],([e,t])=>Math.sin(e)*Math.min(Math.abs(t)/140,10)),a=dl([r,n],([e,t])=>Math.cos(.85*e)*Math.min(Math.abs(t)/180,8)),o=dl(n,[-1200,1200],[-12,12]),s=dl(o,e=>`hue-rotate(${e}deg)`);return u.jsxs(u.Fragment,{children:[u.jsx(ll.div,{className:"absolute inset-0 pointer-events-none",style:{zIndex:t-2,opacity:.06,backgroundImage:"\n                        url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E\n                            %3Cfilter id='n'%3E\n                                %3CfeTurbulence\n                                    type='fractalNoise'\n                                    baseFrequency='1.25'\n                                    numOctaves='1'\n                                /%3E\n                            %3C/filter%3E\n                            %3Crect\n                                width='80'\n                                height='80'\n                                filter='url(%23n)'\n                                opacity='0.9'\n                            /%3E\n                        %3C/svg%3E\")\n                    ",backgroundRepeat:"repeat"}}),u.jsx(ll.div,{className:"absolute inset-0 pointer-events-none mix-blend-overlay",style:{x:i,y:e??a,zIndex:t,opacity:.22,filter:s,backgroundImage:"\n                        url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='90' height='90'%3E\n                            %3Cfilter id='n'%3E\n                                %3CfeTurbulence\n                                    type='fractalNoise'\n                                    baseFrequency='0.95'\n                                    numOctaves='3'\n                                    stitchTiles='stitch'\n                                /%3E\n                            %3C/filter%3E\n                            %3Crect\n                                width='90'\n                                height='90'\n                                filter='url(%23n)'\n                                opacity='0.55'\n                            /%3E\n                        %3C/svg%3E\")\n                    ",backgroundRepeat:"repeat"}}),u.jsx(ll.div,{className:"absolute inset-0 pointer-events-none mix-blend-color-dodge",style:{x:dl(i,e=>-.5*e),y:dl(a,e=>.4*e),zIndex:t-1,opacity:.12,filter:"blur(1px)",backgroundImage:"\n                        url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E\n                            %3Cfilter id='n'%3E\n                                %3CfeTurbulence\n                                    type='turbulence'\n                                    baseFrequency='0.55'\n                                    numOctaves='4'\n                                    stitchTiles='stitch'\n                                /%3E\n                            %3C/filter%3E\n                            %3Crect\n                                width='160'\n                                height='160'\n                                filter='url(%23n)'\n                                opacity='0.35'\n                            /%3E\n                        %3C/svg%3E\")\n                    ",backgroundRepeat:"repeat"}})]})}function Ul(){const e=T.useRef(),t=T.useRef([]),n=T.useRef(1);return T.useEffect(()=>{const r=e.current,i=r.getContext("2d"),a=()=>{r.width=window.innerWidth,r.height=window.innerHeight};a(),window.addEventListener("resize",a);const o=r.width/2,s=r.height/2,l=.9*Math.sqrt(o*o+s*s);t.current=Array.from({length:200}).map(()=>({r:Math.random()*l,theta:Math.random()*Math.PI*2,size:1.5*Math.random()+.5,speed:.002*Math.random()+.001}));const c=()=>{i.clearRect(0,0,r.width,r.height);const e=Dl.get(),a=document.body.scrollHeight-window.innerHeight,u=Math.min(Math.max(e/a,0),1),d=1+2*u,h=Math.max(u*l*.1,1);n.current+=.35*(h-n.current);for(const r of t.current){r.theta+=r.speed*(1+3*u);const e=r.r*(1-.8*u),t=o+e*Math.cos(r.theta)*d,a=s+e*Math.sin(r.theta)*d,l=t-o,c=a-s,h=Math.sqrt(l*l+c*c),f=Math.min(.5,h/(n.current+100));i.beginPath(),i.arc(t,a,r.size*f,0,2*Math.PI),i.fillStyle=`rgba(255,255,255,${f})`,i.fill()}requestAnimationFrame(c)};return c(),()=>window.removeEventListener("resize",a)},[]),u.jsx("canvas",{ref:e,className:"fixed inset-0 z-0 pointer-events-none"})}function jl(){const e=dl(Dl,[0,3e3],[0,-180]);return u.jsxs("div",{className:"\n                fixed inset-0\n                -z-10\n                pointer-events-none\n                overflow-hidden\n            ",children:[u.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-stone-900 via-stone-800 to-black"}),u.jsx(Fl,{y:e,zIndex:-10}),u.jsx(Ul,{count:30,zIndex:1})]})}var zl="object"==typeof global&&global&&global.Object===Object&&global,Bl="object"==typeof self&&self&&self.Object===Object&&self,Vl=zl||Bl||Function("return this")(),Hl=Vl.Symbol,Wl=Object.prototype,Gl=Wl.hasOwnProperty,ql=Wl.toString,Xl=Hl?Hl.toStringTag:void 0,$l=Object.prototype.toString,Yl=Hl?Hl.toStringTag:void 0;function Kl(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Yl&&Yl in Object(e)?function(e){var t=Gl.call(e,Xl),n=e[Xl];try{e[Xl]=void 0;var r=!0}catch(a){}var i=ql.call(e);return r&&(t?e[Xl]=n:delete e[Xl]),i}(e):function(e){return $l.call(e)}(e)}function Zl(e){return null!=e&&"object"==typeof e}function Jl(e){return"symbol"==typeof e||Zl(e)&&"[object Symbol]"==Kl(e)}function Ql(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ec=Array.isArray,tc=Hl?Hl.prototype:void 0,nc=tc?tc.toString:void 0;function rc(e){if("string"==typeof e)return e;if(ec(e))return Ql(e,rc)+"";if(Jl(e))return nc?nc.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var ic=/\s/,ac=/^\s+/;function oc(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&ic.test(e.charAt(t)););return t}(e)+1).replace(ac,""):e}function sc(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var lc=/^[-+]0x[0-9a-f]+$/i,cc=/^0b[01]+$/i,uc=/^0o[0-7]+$/i,dc=parseInt;function hc(e){if("number"==typeof e)return e;if(Jl(e))return NaN;if(sc(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=sc(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=oc(e);var n=cc.test(e);return n||uc.test(e)?dc(e.slice(2),n?2:8):lc.test(e)?NaN:+e}function fc(e){return e}function pc(e){if(!sc(e))return!1;var t=Kl(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var mc,gc=Vl["__core-js_shared__"],vc=(mc=/[^.]+$/.exec(gc&&gc.keys&&gc.keys.IE_PROTO||""))?"Symbol(src)_1."+mc:"",yc=Function.prototype.toString;function bc(e){if(null!=e){try{return yc.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var xc=/^\[object .+?Constructor\]$/,_c=Function.prototype,wc=Object.prototype,Sc=_c.toString,Mc=wc.hasOwnProperty,Ec=RegExp("^"+Sc.call(Mc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tc(e){return!(!sc(e)||(t=e,vc&&vc in t))&&(pc(e)?Ec:xc).test(bc(e));var t}function Ac(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Tc(n)?n:void 0}var Cc=Ac(Vl,"WeakMap"),Pc=Object.create,Rc=function(){function e(){}return function(t){if(!sc(t))return{};if(Pc)return Pc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Nc(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var kc,Lc,Ic,Oc=Date.now,Dc=function(){try{var e=Ac(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),Fc=Dc?function(e,t){return Dc(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:fc,Uc=(kc=Fc,Lc=0,Ic=0,function(){var e=Oc(),t=16-(e-Ic);if(Ic=e,t>0){if(++Lc>=800)return arguments[0]}else Lc=0;return kc.apply(void 0,arguments)}),jc=/^(?:0|[1-9]\d*)$/;function zc(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&jc.test(e))&&e>-1&&e%1==0&&e<t}function Bc(e,t,n){"__proto__"==t&&Dc?Dc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Vc(e,t){return e===t||e!=e&&t!=t}var Hc=Object.prototype.hasOwnProperty;function Wc(e,t,n){var r=e[t];Hc.call(e,t)&&Vc(r,n)&&(void 0!==n||t in e)||Bc(e,t,n)}function Gc(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=void 0;void 0===l&&(l=e[s]),i?Bc(n,s,l):Wc(n,s,l)}return n}var qc=Math.max;function Xc(e,t,n){return t=qc(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=qc(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}function $c(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Yc(e){return null!=e&&$c(e.length)&&!pc(e)}var Kc=Object.prototype;function Zc(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Kc)}function Jc(e){return Zl(e)&&"[object Arguments]"==Kl(e)}var Qc=Object.prototype,eu=Qc.hasOwnProperty,tu=Qc.propertyIsEnumerable,nu=Jc(function(){return arguments}())?Jc:function(e){return Zl(e)&&eu.call(e,"callee")&&!tu.call(e,"callee")},ru="object"==typeof e&&e&&!e.nodeType&&e,iu=ru&&"object"==typeof t&&t&&!t.nodeType&&t,au=iu&&iu.exports===ru?Vl.Buffer:void 0,ou=(au?au.isBuffer:void 0)||function(){return!1},su={};function lu(e){return function(t){return e(t)}}su["[object Float32Array]"]=su["[object Float64Array]"]=su["[object Int8Array]"]=su["[object Int16Array]"]=su["[object Int32Array]"]=su["[object Uint8Array]"]=su["[object Uint8ClampedArray]"]=su["[object Uint16Array]"]=su["[object Uint32Array]"]=!0,su["[object Arguments]"]=su["[object Array]"]=su["[object ArrayBuffer]"]=su["[object Boolean]"]=su["[object DataView]"]=su["[object Date]"]=su["[object Error]"]=su["[object Function]"]=su["[object Map]"]=su["[object Number]"]=su["[object Object]"]=su["[object RegExp]"]=su["[object Set]"]=su["[object String]"]=su["[object WeakMap]"]=!1;var cu="object"==typeof e&&e&&!e.nodeType&&e,uu=cu&&"object"==typeof t&&t&&!t.nodeType&&t,du=uu&&uu.exports===cu&&zl.process,hu=function(){try{var e=uu&&uu.require&&uu.require("util").types;return e||du&&du.binding&&du.binding("util")}catch(t){}}(),fu=hu&&hu.isTypedArray,pu=fu?lu(fu):function(e){return Zl(e)&&$c(e.length)&&!!su[Kl(e)]},mu=Object.prototype.hasOwnProperty;function gu(e,t){var n=ec(e),r=!n&&nu(e),i=!n&&!r&&ou(e),a=!n&&!r&&!i&&pu(e),o=n||r||i||a,s=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!mu.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||zc(c,l))||s.push(c);return s}function vu(e,t){return function(n){return e(t(n))}}var yu=vu(Object.keys,Object),bu=Object.prototype.hasOwnProperty;function xu(e){return Yc(e)?gu(e):function(e){if(!Zc(e))return yu(e);var t=[];for(var n in Object(e))bu.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var _u=Object.prototype.hasOwnProperty;function wu(e){if(!sc(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Zc(e),n=[];for(var r in e)("constructor"!=r||!t&&_u.call(e,r))&&n.push(r);return n}function Su(e){return Yc(e)?gu(e,!0):wu(e)}var Mu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eu=/^\w*$/,Tu=Ac(Object,"create"),Au=Object.prototype.hasOwnProperty,Cu=Object.prototype.hasOwnProperty;function Pu(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ru(e,t){for(var n=e.length;n--;)if(Vc(e[n][0],t))return n;return-1}Pu.prototype.clear=function(){this.__data__=Tu?Tu(null):{},this.size=0},Pu.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Pu.prototype.get=function(e){var t=this.__data__;if(Tu){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Au.call(t,e)?t[e]:void 0},Pu.prototype.has=function(e){var t=this.__data__;return Tu?void 0!==t[e]:Cu.call(t,e)},Pu.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tu&&void 0===t?"__lodash_hash_undefined__":t,this};var Nu=Array.prototype.splice;function ku(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ku.prototype.clear=function(){this.__data__=[],this.size=0},ku.prototype.delete=function(e){var t=this.__data__,n=Ru(t,e);return!(n<0||(n==t.length-1?t.pop():Nu.call(t,n,1),--this.size,0))},ku.prototype.get=function(e){var t=this.__data__,n=Ru(t,e);return n<0?void 0:t[n][1]},ku.prototype.has=function(e){return Ru(this.__data__,e)>-1},ku.prototype.set=function(e,t){var n=this.__data__,r=Ru(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Lu=Ac(Vl,"Map");function Iu(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ou(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Du(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Du.Cache||Ou),n}Ou.prototype.clear=function(){this.size=0,this.__data__={hash:new Pu,map:new(Lu||ku),string:new Pu}},Ou.prototype.delete=function(e){var t=Iu(this,e).delete(e);return this.size-=t?1:0,t},Ou.prototype.get=function(e){return Iu(this,e).get(e)},Ou.prototype.has=function(e){return Iu(this,e).has(e)},Ou.prototype.set=function(e,t){var n=Iu(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Du.Cache=Ou;var Fu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uu=/\\(\\)?/g,ju=function(e){var t=Du(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Fu,function(e,n,r,i){t.push(r?i.replace(Uu,"$1"):n||e)}),t});function zu(e){return null==e?"":rc(e)}function Bu(e,t){return ec(e)?e:function(e,t){if(ec(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jl(e))||Eu.test(e)||!Mu.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:ju(zu(e))}function Vu(e){if("string"==typeof e||Jl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Hu(e,t){for(var n=0,r=(t=Bu(t,e)).length;null!=e&&n<r;)e=e[Vu(t[n++])];return n&&n==r?e:void 0}function Wu(e,t,n){var r=null==e?void 0:Hu(e,t);return void 0===r?n:r}function Gu(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var qu=Hl?Hl.isConcatSpreadable:void 0;function Xu(e){return ec(e)||nu(e)||!!(qu&&e&&e[qu])}function $u(e){return null!=e&&e.length?function(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Xu),i||(i=[]);++a<o;){var s=e[a];n(s)?Gu(i,s):i[i.length]=s}return i}(e):[]}var Yu=vu(Object.getPrototypeOf,Object),Ku=Function.prototype,Zu=Object.prototype,Ju=Ku.toString,Qu=Zu.hasOwnProperty,ed=Ju.call(Object);function td(e){if(!Zl(e)||"[object Object]"!=Kl(e))return!1;var t=Yu(e);if(null===t)return!0;var n=Qu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ju.call(n)==ed}function nd(e){var t=this.__data__=new ku(e);this.size=t.size}nd.prototype.clear=function(){this.__data__=new ku,this.size=0},nd.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},nd.prototype.get=function(e){return this.__data__.get(e)},nd.prototype.has=function(e){return this.__data__.has(e)},nd.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ku){var r=n.__data__;if(!Lu||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ou(r)}return n.set(e,t),this.size=n.size,this};var rd="object"==typeof e&&e&&!e.nodeType&&e,id=rd&&"object"==typeof t&&t&&!t.nodeType&&t,ad=id&&id.exports===rd?Vl.Buffer:void 0,od=ad?ad.allocUnsafe:void 0;function sd(e,t){if(t)return e.slice();var n=e.length,r=od?od(n):new e.constructor(n);return e.copy(r),r}function ld(){return[]}var cd=Object.prototype.propertyIsEnumerable,ud=Object.getOwnPropertySymbols,dd=ud?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}(ud(e),function(t){return cd.call(e,t)}))}:ld,hd=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Gu(t,dd(e)),e=Yu(e);return t}:ld;function fd(e,t,n){var r=t(e);return ec(e)?r:Gu(r,n(e))}function pd(e){return fd(e,xu,dd)}function md(e){return fd(e,Su,hd)}var gd=Ac(Vl,"DataView"),vd=Ac(Vl,"Promise"),yd=Ac(Vl,"Set"),bd="[object Map]",xd="[object Promise]",_d="[object Set]",wd="[object WeakMap]",Sd="[object DataView]",Md=bc(gd),Ed=bc(Lu),Td=bc(vd),Ad=bc(yd),Cd=bc(Cc),Pd=Kl;(gd&&Pd(new gd(new ArrayBuffer(1)))!=Sd||Lu&&Pd(new Lu)!=bd||vd&&Pd(vd.resolve())!=xd||yd&&Pd(new yd)!=_d||Cc&&Pd(new Cc)!=wd)&&(Pd=function(e){var t=Kl(e),n="[object Object]"==t?e.constructor:void 0,r=n?bc(n):"";if(r)switch(r){case Md:return Sd;case Ed:return bd;case Td:return xd;case Ad:return _d;case Cd:return wd}return t});var Rd=Object.prototype.hasOwnProperty,Nd=Vl.Uint8Array;function kd(e){var t=new e.constructor(e.byteLength);return new Nd(t).set(new Nd(e)),t}var Ld=/\w*$/,Id=Hl?Hl.prototype:void 0,Od=Id?Id.valueOf:void 0;function Dd(e,t){var n=t?kd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fd(e,t,n){var r,i,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return kd(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?kd(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Dd(e,n);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(a=new(i=e).constructor(i.source,Ld.exec(i))).lastIndex=i.lastIndex,a;case"[object Symbol]":return r=e,Od?Object(Od.call(r)):{}}}function Ud(e){return"function"!=typeof e.constructor||Zc(e)?{}:Rc(Yu(e))}var jd=hu&&hu.isMap,zd=jd?lu(jd):function(e){return Zl(e)&&"[object Map]"==Pd(e)},Bd=hu&&hu.isSet,Vd=Bd?lu(Bd):function(e){return Zl(e)&&"[object Set]"==Pd(e)},Hd="[object Arguments]",Wd="[object Function]",Gd="[object Object]",qd={};function Xd(e,t,n,r,i,a){var o,s=1&t,l=2&t,c=4&t;if(n&&(o=i?n(e,r,i,a):n(e)),void 0!==o)return o;if(!sc(e))return e;var u=ec(e);if(u){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Rd.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Nc(e,o)}else{var d=Pd(e),h=d==Wd||"[object GeneratorFunction]"==d;if(ou(e))return sd(e,s);if(d==Gd||d==Hd||h&&!i){if(o=l||h?{}:Ud(e),!s)return l?function(e,t){return Gc(e,hd(e),t)}(e,function(e,t){return e&&Gc(t,Su(t),e)}(o,e)):function(e,t){return Gc(e,dd(e),t)}(e,function(e,t){return e&&Gc(t,xu(t),e)}(o,e))}else{if(!qd[d])return i?e:{};o=Fd(e,d,s)}}a||(a=new nd);var f=a.get(e);if(f)return f;a.set(e,o),Vd(e)?e.forEach(function(r){o.add(Xd(r,t,n,r,e,a))}):zd(e)&&e.forEach(function(r,i){o.set(i,Xd(r,t,n,i,e,a))});var p=u?void 0:(c?l?md:pd:l?Su:xu)(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(p||e,function(r,i){p&&(r=e[i=r]),Wc(o,i,Xd(r,t,n,i,e,a))}),o}function $d(e){return Xd(e,5)}function Yd(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ou;++t<n;)this.add(e[t])}function Kd(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Zd(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,f=2&n?new Yd:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],m=t[d];if(r)var g=o?r(m,p,d,t,e,a):r(p,m,d,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(f){if(!Kd(t,function(e,t){if(o=t,!f.has(o)&&(p===e||i(p,e,n,r,a)))return f.push(t);var o})){h=!1;break}}else if(p!==m&&!i(p,m,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Jd(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Qd(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}qd[Hd]=qd["[object Array]"]=qd["[object ArrayBuffer]"]=qd["[object DataView]"]=qd["[object Boolean]"]=qd["[object Date]"]=qd["[object Float32Array]"]=qd["[object Float64Array]"]=qd["[object Int8Array]"]=qd["[object Int16Array]"]=qd["[object Int32Array]"]=qd["[object Map]"]=qd["[object Number]"]=qd[Gd]=qd["[object RegExp]"]=qd["[object Set]"]=qd["[object String]"]=qd["[object Symbol]"]=qd["[object Uint8Array]"]=qd["[object Uint8ClampedArray]"]=qd["[object Uint16Array]"]=qd["[object Uint32Array]"]=!0,qd["[object Error]"]=qd[Wd]=qd["[object WeakMap]"]=!1,Yd.prototype.add=Yd.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Yd.prototype.has=function(e){return this.__data__.has(e)};var eh=Hl?Hl.prototype:void 0,th=eh?eh.valueOf:void 0,nh=Object.prototype.hasOwnProperty,rh="[object Arguments]",ih="[object Array]",ah="[object Object]",oh=Object.prototype.hasOwnProperty;function sh(e,t,n,r,i,a){var o=ec(e),s=ec(t),l=o?ih:Pd(e),c=s?ih:Pd(t),u=(l=l==rh?ah:l)==ah,d=(c=c==rh?ah:c)==ah,h=l==c;if(h&&ou(e)){if(!ou(t))return!1;o=!0,u=!1}if(h&&!u)return a||(a=new nd),o||pu(e)?Zd(e,t,n,r,i,a):function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Nd(e),new Nd(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vc(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Jd;case"[object Set]":var l=1&r;if(s||(s=Qd),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=Zd(s(e),s(t),r,i,a,o);return o.delete(e),u;case"[object Symbol]":if(th)return th.call(e)==th.call(t)}return!1}(e,t,l,n,r,i,a);if(!(1&n)){var f=u&&oh.call(e,"__wrapped__"),p=d&&oh.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new nd),i(m,g,n,r,a)}}return!!h&&(a||(a=new nd),function(e,t,n,r,i,a){var o=1&n,s=pd(e),l=s.length;if(l!=pd(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:nh.call(t,u)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var v=o?r(g,m,u,t,e,a):r(m,g,u,e,t,a);if(!(void 0===v?m===g||i(m,g,n,r,a):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,r,i,a))}function lh(e,t,n,r,i){return e===t||(null==e||null==t||!Zl(e)&&!Zl(t)?e!=e&&t!=t:sh(e,t,n,r,lh,i))}var ch=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[++r];if(!1===t(i[s],s,i))break}return e},uh=function(){return Vl.Date.now()},dh=Math.max,hh=Math.min;function fh(e,t,n){var r,i,a,o,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=r,a=i;return r=i=void 0,c=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=a}function m(){var e=uh();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?hh(n,a-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?f(e):(r=i=void 0,o)}function v(){var e=uh(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?f(e):o}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),f(l)}return void 0===s&&(s=setTimeout(m,t)),o}return t=hc(t)||0,sc(n)&&(u=!0,a=(d="maxWait"in n)?dh(hc(n.maxWait)||0,t):a,h="trailing"in n||h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?o:g(uh())},v}function ph(e,t,n){(void 0!==n&&!Vc(e[t],n)||void 0===n&&!(t in e))&&Bc(e,t,n)}function mh(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function gh(e,t,n,r,i,a,o){var s=mh(e,n),l=mh(t,n),c=o.get(l);if(c)ph(e,n,c);else{var u,d=a?a(s,l,n+"",e,t,o):void 0,h=void 0===d;if(h){var f=ec(l),p=!f&&ou(l),m=!f&&!p&&pu(l);d=l,f||p||m?ec(s)?d=s:Zl(u=s)&&Yc(u)?d=Nc(s):p?(h=!1,d=sd(l,!0)):m?(h=!1,d=Dd(l,!0)):d=[]:td(l)||nu(l)?(d=s,nu(s)?d=function(e){return Gc(e,Su(e))}(s):sc(s)&&!pc(s)||(d=Ud(l))):h=!1}h&&(o.set(l,d),i(d,l,r,a,o),o.delete(l)),ph(e,n,d)}}function vh(e,t,n,r,i){e!==t&&ch(t,function(a,o){if(i||(i=new nd),sc(a))gh(e,t,o,n,vh,r,i);else{var s=r?r(mh(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),ph(e,o,s)}},Su)}var yh,bh=(yh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==yh?void 0:yh[e]}),xh=/[&<>"']/g,_h=RegExp(xh.source),wh=Object.prototype.hasOwnProperty;function Sh(e,t){return null!=e&&wh.call(e,t)}function Mh(e,t){return null!=e&&function(e,t,n){for(var r=-1,i=(t=Bu(t,e)).length,a=!1;++r<i;){var o=Vu(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&$c(i)&&zc(o,i)&&(ec(e)||nu(e))}(e,t,Sh)}function Eh(e,t){return t.length<2?e:Hu(e,function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}(t,0,-1))}function Th(e,t){return lh(e,t)}var Ah,Ch=(Ah=function(e,t,n){vh(e,t,n)},function(e,t){return Uc(Xc(e,t,fc),e+"")}(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Ah.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!sc(n))return!1;var r=typeof t;return!!("number"==r?Yc(n)&&zc(t,n.length):"string"==r&&t in n)&&Vc(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Ah(e,o,n,i)}return e})),Ph=Object.prototype.hasOwnProperty;function Rh(e,t){var n=-1,r=(t=Bu(t,e)).length;if(!r)return!0;for(var i=null==e||"object"!=typeof e&&"function"!=typeof e;++n<r;){var a=t[n];if("string"==typeof a){if("__proto__"===a&&!Ph.call(e,"__proto__"))return!1;if("constructor"===a&&n+1<r&&"string"==typeof t[n+1]&&"prototype"===t[n+1]){if(i&&0===n)continue;return!1}}}var o=Eh(e,t);return null==o||delete o[Vu(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]}function Nh(e){return td(e)?void 0:e}var kh,Lh,Ih=function(e){return Uc(Xc(e,void 0,$u),e+"")}(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ql(t,function(t){return t=Bu(t,e),r||(r=t.length>1),t}),Gc(e,md(e),n),r&&(n=Xd(n,7,Nh));for(var i=t.length;i--;)Rh(n,t[i]);return n});function Oh(e,t,n){return null==e?e:function(e,t,n){if(!sc(e))return e;for(var r=-1,i=(t=Bu(t,e)).length,a=i-1,o=e;null!=o&&++r<i;){var s=Vu(t[r]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(r!=a){var c=o[s];void 0===(l=void 0)&&(l=sc(c)?c:zc(t[r+1])?[]:{})}Wc(o,s,l),o=o[s]}return e}(e,t,n)}function Dh(){return Lh?kh:(Lh=1,kh=TypeError)}const Fh=a(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Uh,jh,zh,Bh,Vh,Hh,Wh,Gh,qh,Xh,$h,Yh,Kh,Zh,Jh,Qh,ef,tf,nf,rf,af,of,sf,lf,cf,uf,df,hf,ff,pf,mf,gf,vf,yf,bf,xf,_f,wf,Sf,Mf,Ef,Tf,Af,Cf,Pf,Rf,Nf,kf,Lf,If,Of,Df,Ff,Uf,jf,zf,Bf,Vf,Hf,Wf,Gf,qf,Xf,$f,Yf,Kf,Zf,Jf,Qf,ep,tp,np,rp,ip,ap,op,sp,lp,cp,up,dp,hp,fp,pp,mp,gp,vp,yp;function bp(){if(jh)return Uh;jh=1;var e="function"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=e&&t&&"function"==typeof t.get?t.get:null,i=e&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,o=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,s=a&&o&&"function"==typeof o.get?o.get:null,l=a&&Set.prototype.forEach,c="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,u="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,f=Object.prototype.toString,p=Function.prototype.toString,m=String.prototype.match,g=String.prototype.slice,v=String.prototype.replace,y=String.prototype.toUpperCase,b=String.prototype.toLowerCase,x=RegExp.prototype.test,_=Array.prototype.concat,w=Array.prototype.join,S=Array.prototype.slice,M=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,C="function"==typeof Symbol&&"object"==typeof Symbol.iterator,P="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,R=Object.prototype.propertyIsEnumerable,N=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function k(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-M(-e):M(e);if(r!==e){var i=String(r),a=g.call(t,i.length+1);return v.call(i,n,"$&_")+"."+v.call(v.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return v.call(t,n,"$&_")}var L=Fh,I=L.custom,O=H(I)?I:null,D={__proto__:null,double:'"',single:"'"},F={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function U(e,t,n){var r=n.quoteStyle||t,i=D[r];return i+e+i}function j(e){return v.call(String(e),/"/g,"&quot;")}function z(e){return!P||!("object"==typeof e&&(P in e||void 0!==e[P]))}function B(e){return"[object Array]"===q(e)&&z(e)}function V(e){return"[object RegExp]"===q(e)&&z(e)}function H(e){if(C)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(t){}return!1}Uh=function e(t,a,o,f){var y=a||{};if(G(y,"quoteStyle")&&!G(D,y.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(y,"maxStringLength")&&("number"==typeof y.maxStringLength?y.maxStringLength<0&&y.maxStringLength!==1/0:null!==y.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var x=!G(y,"customInspect")||y.customInspect;if("boolean"!=typeof x&&"symbol"!==x)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(y,"indent")&&null!==y.indent&&"\t"!==y.indent&&!(parseInt(y.indent,10)===y.indent&&y.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(y,"numericSeparator")&&"boolean"!=typeof y.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var M=y.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return $(t,y);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var T=String(t);return M?k(t,T):T}if("bigint"==typeof t){var I=String(t)+"n";return M?k(t,I):I}var F=void 0===y.depth?5:y.depth;if(void 0===o&&(o=0),o>=F&&F>0&&"object"==typeof t)return B(t)?"[Array]":"[Object]";var W,Y=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=w.call(Array(e.indent+1)," ")}return{base:n,prev:w.call(Array(t+1),n)}}(y,o);if(void 0===f)f=[];else if(X(f,t)>=0)return"[Circular]";function te(t,n,r){if(n&&(f=S.call(f)).push(n),r){var i={depth:y.depth};return G(y,"quoteStyle")&&(i.quoteStyle=y.quoteStyle),e(t,i,o+1,f)}return e(t,y,o+1,f)}if("function"==typeof t&&!V(t)){var ne=function(e){if(e.name)return e.name;var t=m.call(p.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),re=ee(t,te);return"[Function"+(ne?": "+ne:" (anonymous)")+"]"+(re.length>0?" { "+w.call(re,", ")+" }":"")}if(H(t)){var ie=C?v.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||C?ie:K(ie)}if((W=t)&&"object"==typeof W&&("undefined"!=typeof HTMLElement&&W instanceof HTMLElement||"string"==typeof W.nodeName&&"function"==typeof W.getAttribute)){for(var ae="<"+b.call(String(t.nodeName)),oe=t.attributes||[],se=0;se<oe.length;se++)ae+=" "+oe[se].name+"="+U(j(oe[se].value),"double",y);return ae+=">",t.childNodes&&t.childNodes.length&&(ae+="..."),ae+="</"+b.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var le=ee(t,te);return Y&&!function(e){for(var t=0;t<e.length;t++)if(X(e[t],"\n")>=0)return!1;return!0}(le)?"["+Q(le,Y)+"]":"[ "+w.call(le,", ")+" ]"}if(function(e){return"[object Error]"===q(e)&&z(e)}(t)){var ce=ee(t,te);return"cause"in Error.prototype||!("cause"in t)||R.call(t,"cause")?0===ce.length?"["+String(t)+"]":"{ ["+String(t)+"] "+w.call(ce,", ")+" }":"{ ["+String(t)+"] "+w.call(_.call("[cause]: "+te(t.cause),ce),", ")+" }"}if("object"==typeof t&&x){if(O&&"function"==typeof t[O]&&L)return L(t,{depth:F-o});if("symbol"!==x&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!n||!e||"object"!=typeof e)return!1;try{n.call(e);try{s.call(e)}catch(ae){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ue=[];return i&&i.call(t,function(e,n){ue.push(te(n,t,!0)+" => "+te(e,t))}),J("Map",n.call(t),ue,Y)}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{n.call(e)}catch(t){return!0}return e instanceof Set}catch(r){}return!1}(t)){var de=[];return l&&l.call(t,function(e){de.push(te(e,t))}),J("Set",s.call(t),de,Y)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e,c);try{u.call(e,u)}catch(ae){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Z("WeakMap");if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e,u);try{c.call(e,c)}catch(ae){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Z("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(t){}return!1}(t))return Z("WeakRef");if(function(e){return"[object Number]"===q(e)&&z(e)}(t))return K(te(Number(t)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(t){}return!1}(t))return K(te(E.call(t)));if(function(e){return"[object Boolean]"===q(e)&&z(e)}(t))return K(h.call(t));if(function(e){return"[object String]"===q(e)&&z(e)}(t))return K(te(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||void 0!==r&&t===r)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===q(e)&&z(e)}(t)&&!V(t)){var he=ee(t,te),fe=N?N(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",me=!fe&&P&&Object(t)===t&&P in t?g.call(q(t),8,-1):pe?"Object":"",ge=(fe||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(me||pe?"["+w.call(_.call([],me||[],pe||[]),": ")+"] ":"");return 0===he.length?ge+"{}":Y?ge+"{"+Q(he,Y)+"}":ge+"{ "+w.call(he,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return W.call(e,t)}function q(e){return f.call(e)}function X(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function $(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return $(g.call(e,0,t.maxStringLength),t)+r}var i=F[t.quoteStyle||"single"];return i.lastIndex=0,U(v.call(v.call(e,i,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+y.call(t.toString(16))}function K(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function J(e,t,n,r){return e+" ("+t+") {"+(r?Q(n,r):w.call(n,", "))+"}"}function Q(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+w.call(e,","+n)+"\n"+t.prev}function ee(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=G(e,i)?t(e[i],e):""}var a,o="function"==typeof T?T(e):[];if(C){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in e)G(e,l)&&(n&&String(Number(l))===l&&l<e.length||C&&a["$"+l]instanceof Symbol||(x.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof T)for(var c=0;c<o.length;c++)R.call(e,o[c])&&r.push("["+t(o[c])+"]: "+t(e[o[c]],e));return r}return Uh}function xp(){if(Bh)return zh;Bh=1;var e=bp(),t=Dh(),n=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r};return zh=function(){var r,i={assert:function(n){if(!i.has(n))throw new t("Side channel does not contain "+e(n))},delete:function(e){var t=r&&r.next,i=function(e,t){if(e)return n(e,t,!0)}(r,e);return i&&t&&t===i&&(r=void 0),!!i},get:function(e){return function(e,t){if(e){var r=n(e,t);return r&&r.value}}(r,e)},has:function(e){return function(e,t){return!!e&&!!n(e,t)}(r,e)},set:function(e,t){r||(r={next:void 0}),function(e,t,r){var i=n(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}}(r,e,t)}};return i}}function _p(){return Hh?Vh:(Hh=1,Vh=Object)}function wp(){return Gh?Wh:(Gh=1,Wh=Error)}function Sp(){return Xh?qh:(Xh=1,qh=EvalError)}function Mp(){return Yh?$h:(Yh=1,$h=RangeError)}function Ep(){return Zh?Kh:(Zh=1,Kh=ReferenceError)}function Tp(){return Qh?Jh:(Qh=1,Jh=SyntaxError)}function Ap(){return tf?ef:(tf=1,ef=URIError)}function Cp(){return rf?nf:(rf=1,nf=Math.abs)}function Pp(){return of?af:(of=1,af=Math.floor)}function Rp(){return lf?sf:(lf=1,sf=Math.max)}function Np(){return uf?cf:(uf=1,cf=Math.min)}function kp(){return hf?df:(hf=1,df=Math.pow)}function Lp(){return pf?ff:(pf=1,ff=Math.round)}function Ip(){return gf?mf:(gf=1,mf=Number.isNaN||function(e){return e!=e})}function Op(){if(yf)return vf;yf=1;var e=Ip();return vf=function(t){return e(t)||0===t?t:t<0?-1:1}}function Dp(){return xf?bf:(xf=1,bf=Object.getOwnPropertyDescriptor)}function Fp(){if(wf)return _f;wf=1;var e=Dp();if(e)try{e([],"length")}catch(t){e=null}return _f=e}function Up(){if(Mf)return Sf;Mf=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return Sf=e}function jp(){if(Cf)return Af;Cf=1;var e="undefined"!=typeof Symbol&&Symbol,t=Tf?Ef:(Tf=1,Ef=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(e,t);if(42!==a.value||!0!==a.enumerable)return!1}return!0});return Af=function(){return"function"==typeof e&&"function"==typeof Symbol&&"symbol"==typeof e("foo")&&"symbol"==typeof Symbol("bar")&&t()}}function zp(){return Rf?Pf:(Rf=1,Pf="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null)}function Bp(){return kf?Nf:(kf=1,Nf=_p().getPrototypeOf||null)}function Vp(){if(Df)return Of;Df=1;var e=function(){if(If)return Lf;If=1;var e=Object.prototype.toString,t=Math.max,n=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};return Lf=function(r){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var a,o=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),s=t(0,i.length-o.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(a=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var e=i.apply(this,n(o,arguments));return Object(e)===e?e:this}return i.apply(r,n(o,arguments))}),i.prototype){var u=function(){};u.prototype=i.prototype,a.prototype=new u,u.prototype=null}return a},Lf}();return Of=Function.prototype.bind||e}function Hp(){return Uf?Ff:(Uf=1,Ff=Function.prototype.call)}function Wp(){return zf?jf:(zf=1,jf=Function.prototype.apply)}function Gp(){if(Wf)return Hf;Wf=1;var e=Vp(),t=Wp(),n=Hp(),r=Vf?Bf:(Vf=1,Bf="undefined"!=typeof Reflect&&Reflect&&Reflect.apply);return Hf=r||e.call(n,t)}function qp(){if(qf)return Gf;qf=1;var e=Vp(),t=Dh(),n=Hp(),r=Gp();return Gf=function(i){if(i.length<1||"function"!=typeof i[0])throw new t("a function is required");return r(e,n,i)}}function Xp(){if($f)return Xf;$f=1;var e,t=qp(),n=Fp();try{e=[].__proto__===Array.prototype}catch(o){if(!o||"object"!=typeof o||!("code"in o)||"ERR_PROTO_ACCESS"!==o.code)throw o}var r=!!e&&n&&n(Object.prototype,"__proto__"),i=Object,a=i.getPrototypeOf;return Xf=r&&"function"==typeof r.get?t([r.get]):"function"==typeof a&&function(e){return a(null==e?e:i(e))}}function $p(){if(Jf)return Zf;Jf=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,n=Vp();return Zf=n.call(e,t)}function Yp(){if(ep)return Qf;var e;ep=1;var t=_p(),n=wp(),r=Sp(),i=Mp(),a=Ep(),o=Tp(),s=Dh(),l=Ap(),c=Cp(),u=Pp(),d=Rp(),h=Np(),f=kp(),p=Lp(),m=Op(),g=Function,v=function(e){try{return g('"use strict"; return ('+e+").constructor;")()}catch(t){}},y=Fp(),b=Up(),x=function(){throw new s},_=y?function(){try{return x}catch(e){try{return y(arguments,"callee").get}catch(t){return x}}}():x,w=jp()(),S=function(){if(Kf)return Yf;Kf=1;var e=zp(),t=Bp(),n=Xp();return Yf=e?function(t){return e(t)}:t?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return t(e)}:n?function(e){return n(e)}:null}(),M=Bp(),E=zp(),T=Wp(),A=Hp(),C={},P="undefined"!=typeof Uint8Array&&S?S(Uint8Array):e,R={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?e:ArrayBuffer,"%ArrayIteratorPrototype%":w&&S?S([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":C,"%AsyncGenerator%":C,"%AsyncGeneratorFunction%":C,"%AsyncIteratorPrototype%":C,"%Atomics%":"undefined"==typeof Atomics?e:Atomics,"%BigInt%":"undefined"==typeof BigInt?e:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?e:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float16Array%":"undefined"==typeof Float16Array?e:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?e:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?e:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":C,"%Int8Array%":"undefined"==typeof Int8Array?e:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?e:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w&&S?S(S([][Symbol.iterator]())):e,"%JSON%":"object"==typeof JSON?JSON:e,"%Map%":"undefined"==typeof Map?e:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w&&S?S((new Map)[Symbol.iterator]()):e,"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?e:Promise,"%Proxy%":"undefined"==typeof Proxy?e:Proxy,"%RangeError%":i,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?e:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?e:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w&&S?S((new Set)[Symbol.iterator]()):e,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w&&S?S(""[Symbol.iterator]()):e,"%Symbol%":w?Symbol:e,"%SyntaxError%":o,"%ThrowTypeError%":_,"%TypedArray%":P,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?e:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?e:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?e:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?e:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"==typeof WeakMap?e:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?e:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?e:WeakSet,"%Function.prototype.call%":A,"%Function.prototype.apply%":T,"%Object.defineProperty%":b,"%Object.getPrototypeOf%":M,"%Math.abs%":c,"%Math.floor%":u,"%Math.max%":d,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":p,"%Math.sign%":m,"%Reflect.getPrototypeOf%":E};if(S)try{null.error}catch(W){var N=S(S(W));R["%Error.prototype%"]=N}var k=function e(t){var n;if("%AsyncFunction%"===t)n=v("async function () {}");else if("%GeneratorFunction%"===t)n=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=v("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&S&&(n=S(i.prototype))}return R[t]=n,n},L={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=Vp(),O=$p(),D=I.call(A,Array.prototype.concat),F=I.call(T,Array.prototype.splice),U=I.call(A,String.prototype.replace),j=I.call(A,String.prototype.slice),z=I.call(A,RegExp.prototype.exec),B=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,H=function(e,t){var n,r=e;if(O(L,r)&&(r="%"+(n=L[r])[0]+"%"),O(R,r)){var i=R[r];if(i===C&&(i=k(r)),void 0===i&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};return Qf=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return U(e,B,function(e,t,n,i){r[r.length]=n?U(i,V,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",i=H("%"+r+"%",t),a=i.name,l=i.value,c=!1,u=i.alias;u&&(r=u[0],F(n,D([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],p=j(f,0,1),m=j(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&h||(c=!0),O(R,a="%"+(r+="."+f)+"%"))l=R[a];else if(null!=l){if(!(f in l)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&d+1>=n.length){var g=y(l,f);l=(h=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[f]}else h=O(l,f),l=l[f];h&&!c&&(R[a]=l)}}return l},Qf}function Kp(){if(np)return tp;np=1;var e=Yp(),t=qp(),n=t([e("%String.prototype.indexOf%")]);return tp=function(r,i){var a=e(r,!!i);return"function"==typeof a&&n(r,".prototype.")>-1?t([a]):a}}function Zp(){if(ip)return rp;ip=1;var e=Yp(),t=Kp(),n=bp(),r=Dh(),i=e("%Map%",!0),a=t("Map.prototype.get",!0),o=t("Map.prototype.set",!0),s=t("Map.prototype.has",!0),l=t("Map.prototype.delete",!0),c=t("Map.prototype.size",!0);return rp=!!i&&function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+n(e))},delete:function(t){if(e){var n=l(e,t);return 0===c(e)&&(e=void 0),n}return!1},get:function(t){if(e)return a(e,t)},has:function(t){return!!e&&s(e,t)},set:function(t,n){e||(e=new i),o(e,t,n)}};return t}}function Jp(){if(lp)return sp;lp=1;var e=Dh(),t=bp(),n=xp(),r=Zp(),i=function(){if(op)return ap;op=1;var e=Yp(),t=Kp(),n=bp(),r=Zp(),i=Dh(),a=e("%WeakMap%",!0),o=t("WeakMap.prototype.get",!0),s=t("WeakMap.prototype.set",!0),l=t("WeakMap.prototype.has",!0),c=t("WeakMap.prototype.delete",!0);return ap=a?function(){var e,t,u={assert:function(e){if(!u.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return c(e,n)}else if(r&&t)return t.delete(n);return!1},get:function(n){return a&&n&&("object"==typeof n||"function"==typeof n)&&e?o(e,n):t&&t.get(n)},has:function(n){return a&&n&&("object"==typeof n||"function"==typeof n)&&e?l(e,n):!!t&&t.has(n)},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),s(e,n,i)):r&&(t||(t=r()),t.set(n,i))}};return u}:r}(),a=i||r||n;return sp=function(){var n,r={assert:function(n){if(!r.has(n))throw new e("Side channel does not contain "+t(n))},delete:function(e){return!!n&&n.delete(e)},get:function(e){return n&&n.get(e)},has:function(e){return!!n&&n.has(e)},set:function(e,t){n||(n=a()),n.set(e,t)}};return r}}function Qp(){if(up)return cp;up=1;var e=String.prototype.replace,t=/%20/g,n="RFC3986";return cp={default:n,formatters:{RFC1738:function(n){return e.call(n,t,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}}function em(){if(hp)return dp;hp=1;var e=Qp(),t=Jp(),n=Object.prototype.hasOwnProperty,r=Array.isArray,i=t(),a=function(e,t){return i.set(e,t),e},o=function(e){return i.has(e)},s=function(e){return i.get(e)},l=function(e,t){i.set(e,t)},c=function(){for(var e=[],t=0;t<256;++t)e[e.length]="%"+((t<16?"0":"")+t.toString(16)).toUpperCase();return e}(),u=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},d=1024;return dp={arrayToObject:u,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t,n,r){if(o(e)){var i=s(e)+1;return e[i]=t,l(e,i),e}var c=[].concat(e,t);return c.length>n?a(u(c,{plainObjects:r}),c.length-1):c},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var a=t[i],o=a.obj[a.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t[t.length]={obj:o,prop:c},n[n.length]=u)}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(r(n)){for(var i=[],a=0;a<n.length;++a)void 0!==n[a]&&(i[i.length]=n[a]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(t,n,r,i,a){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",l=0;l<o.length;l+=d){for(var u=o.length>=d?o.slice(l,l+d):o,h=[],f=0;f<u.length;++f){var p=u.charCodeAt(f);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||a===e.RFC1738&&(40===p||41===p)?h[h.length]=u.charAt(f):p<128?h[h.length]=c[p]:p<2048?h[h.length]=c[192|p>>6]+c[128|63&p]:p<55296||p>=57344?h[h.length]=c[224|p>>12]+c[128|p>>6&63]+c[128|63&p]:(f+=1,p=65536+((1023&p)<<10|1023&u.charCodeAt(f)),h[h.length]=c[240|p>>18]+c[128|p>>12&63]+c[128|p>>6&63]+c[128|63&p])}s+=h.join("")}return s},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isOverflow:o,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},markOverflow:a,maybeMap:function(e,t){if(r(e)){for(var n=[],i=0;i<e.length;i+=1)n[n.length]=t(e[i]);return n}return t(e)},merge:function e(t,i,c){if(!i)return t;if("object"!=typeof i&&"function"!=typeof i){if(r(t)){var d=t.length;if(c&&"number"==typeof c.arrayLimit&&d>c.arrayLimit)return a(u(t.concat(i),c),d);t[d]=i}else{if(!t||"object"!=typeof t)return[t,i];if(o(t)){var h=s(t)+1;t[h]=i,l(t,h)}else(c&&(c.plainObjects||c.allowPrototypes)||!n.call(Object.prototype,i))&&(t[i]=!0)}return t}if(!t||"object"!=typeof t){if(o(i)){for(var f=Object.keys(i),p=c&&c.plainObjects?{__proto__:null,0:t}:{0:t},m=0;m<f.length;m++)p[parseInt(f[m],10)+1]=i[f[m]];return a(p,s(i)+1)}var g=[t].concat(i);return c&&"number"==typeof c.arrayLimit&&g.length>c.arrayLimit?a(u(g,c),g.length-1):g}var v=t;return r(t)&&!r(i)&&(v=u(t,c)),r(t)&&r(i)?(i.forEach(function(r,i){if(n.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,c):t[t.length]=r}else t[i]=r}),t):Object.keys(i).reduce(function(t,r){var u=i[r];if(n.call(t,r)?t[r]=e(t[r],u,c):t[r]=u,o(i)&&!o(t)&&a(t,s(i)),o(t)){var d=parseInt(r,10);String(d)===r&&d>=0&&d>s(t)&&l(t,d)}return t},v)}}}function tm(){if(pp)return fp;pp=1;var e=Jp(),t=em(),n=Qp(),r=Object.prototype.hasOwnProperty,i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,o=Array.prototype.push,s=function(e,t){o.apply(e,a(t)?t:[t])},l=Date.prototype.toISOString,c=n.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:n.formatters[c],indices:!1,serializeDate:function(e){return l.call(e)},skipNulls:!1,strictNullHandling:!1},d={},h=function n(r,i,o,l,c,h,f,p,m,g,v,y,b,x,_,w,S,M){for(var E,T=r,A=M,C=0,P=!1;void 0!==(A=A.get(d))&&!P;){var R=A.get(r);if(C+=1,void 0!==R){if(R===C)throw new RangeError("Cyclic object value");P=!0}void 0===A.get(d)&&(C=0)}if("function"==typeof g?T=g(i,T):T instanceof Date?T=b(T):"comma"===o&&a(T)&&(T=t.maybeMap(T,function(e){return e instanceof Date?b(e):e})),null===T){if(h)return m&&!w?m(i,u.encoder,S,"key",x):i;T=""}if("string"==typeof(E=T)||"number"==typeof E||"boolean"==typeof E||"symbol"==typeof E||"bigint"==typeof E||t.isBuffer(T))return m?[_(w?i:m(i,u.encoder,S,"key",x))+"="+_(m(T,u.encoder,S,"value",x))]:[_(i)+"="+_(String(T))];var N,k=[];if(void 0===T)return k;if("comma"===o&&a(T))w&&m&&(T=t.maybeMap(T,m)),N=[{value:T.length>0?T.join(",")||null:void 0}];else if(a(g))N=g;else{var L=Object.keys(T);N=v?L.sort(v):L}var I=p?String(i).replace(/\./g,"%2E"):String(i),O=l&&a(T)&&1===T.length?I+"[]":I;if(c&&a(T)&&0===T.length)return O+"[]";for(var D=0;D<N.length;++D){var F=N[D],U="object"==typeof F&&F&&void 0!==F.value?F.value:T[F];if(!f||null!==U){var j=y&&p?String(F).replace(/\./g,"%2E"):String(F),z=a(T)?"function"==typeof o?o(O,j):O:O+(y?"."+j:"["+j+"]");M.set(r,C);var B=e();B.set(d,M),s(k,n(U,z,o,l,c,h,f,p,"comma"===o&&w&&a(T)?null:m,g,v,y,b,x,_,w,S,B))}}return k};return fp=function(t,o){var l,c=t,d=function(e){if(!e)return u;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||u.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=n.default;if(void 0!==e.format){if(!r.call(n.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var s,l=n.formatters[o],c=u.filter;if(("function"==typeof e.filter||a(e.filter))&&(c=e.filter),s=e.arrayFormat in i?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":u.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var d=void 0===e.allowDots?!0===e.encodeDotInKeys||u.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:u.addQueryPrefix,allowDots:d,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:s,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?u.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:u.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:u.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:u.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:u.encodeValuesOnly,filter:c,format:o,formatter:l,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:u.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:u.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:u.strictNullHandling}}(o);"function"==typeof d.filter?c=(0,d.filter)("",c):a(d.filter)&&(l=d.filter);var f=[];if("object"!=typeof c||null===c)return"";var p=i[d.arrayFormat],m="comma"===p&&d.commaRoundTrip;l||(l=Object.keys(c)),d.sort&&l.sort(d.sort);for(var g=e(),v=0;v<l.length;++v){var y=l[v],b=c[y];d.skipNulls&&null===b||s(f,h(b,y,p,m,d.allowEmptyArrays,d.strictNullHandling,d.skipNulls,d.encodeDotInKeys,d.encode?d.encoder:null,d.filter,d.sort,d.allowDots,d.serializeDate,d.format,d.formatter,d.encodeValuesOnly,d.charset,g))}var x=f.join(d.delimiter),_=!0===d.addQueryPrefix?"?":"";return d.charsetSentinel&&("iso-8859-1"===d.charset?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),x.length>0?_+x:""},fp}function nm(){if(gp)return mp;gp=1;var e=em(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},a=function(e,t,n){if(e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},o=function(n,r,i,o){if(n){var s=function(e,n){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(n.depth<=0){if(!n.plainObjects&&t.call(Object.prototype,r)&&!n.allowPrototypes)return;return[r]}var i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),o=a?r.slice(0,a.index):r,s=[];if(o){if(!n.plainObjects&&t.call(Object.prototype,o)&&!n.allowPrototypes)return;s[s.length]=o}for(var l=0;null!==(a=i.exec(r))&&l<n.depth;){l+=1;var c=a[1].slice(1,-1);if(!n.plainObjects&&t.call(Object.prototype,c)&&!n.allowPrototypes)return;s[s.length]=a[1]}if(a){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");s[s.length]="["+r.slice(a.index)+"]"}return s}(n,i);if(s)return function(t,n,r,i){var o=0;if(t.length>0&&"[]"===t[t.length-1]){var s=t.slice(0,-1).join("");o=Array.isArray(n)&&n[s]?n[s].length:0}for(var l=i?n:a(n,r,o),c=t.length-1;c>=0;--c){var u,d=t[c];if("[]"===d&&r.parseArrays)u=e.isOverflow(l)?l:r.allowEmptyArrays&&(""===l||r.strictNullHandling&&null===l)?[]:e.combine([],l,r.arrayLimit,r.plainObjects);else{u=r.plainObjects?{__proto__:null}:{};var h="["===d.charAt(0)&&"]"===d.charAt(d.length-1)?d.slice(1,-1):d,f=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,p=parseInt(f,10),m=!isNaN(p)&&d!==f&&String(p)===f&&p>=0&&r.parseArrays;if(r.parseArrays||""!==f)if(m&&p<r.arrayLimit)(u=[])[p]=l;else{if(m&&r.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(1===r.arrayLimit?"":"s")+" allowed in an array.");m?(u[p]=l,e.markOverflow(u,p)):"__proto__"!==f&&(u[f]=l)}else u={0:l}}l=u}return l}(s,r,i,o)}};return mp=function(s,l){var c=function(t){if(!t)return r;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==t.throwOnLimitExceeded&&"boolean"!=typeof t.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var n=void 0===t.charset?r.charset:t.charset,i=void 0===t.duplicates?r.duplicates:t.duplicates;if("combine"!==i&&"first"!==i&&"last"!==i)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||r.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:r.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:r.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:r.arrayLimit,charset:n,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:r.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:r.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:r.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:r.decoder,delimiter:"string"==typeof t.delimiter||e.isRegExp(t.delimiter)?t.delimiter:r.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:r.depth,duplicates:i,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:r.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:r.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:r.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof t.throwOnLimitExceeded&&t.throwOnLimitExceeded}}(l);if(""===s||null==s)return c.plainObjects?{__proto__:null}:{};for(var u="string"==typeof s?function(o,s){var l={__proto__:null},c=s.ignoreQueryPrefix?o.replace(/^\?/,""):o;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=s.parameterLimit===1/0?void 0:s.parameterLimit,d=c.split(s.delimiter,s.throwOnLimitExceeded?u+1:u);if(s.throwOnLimitExceeded&&d.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var h,f=-1,p=s.charset;if(s.charsetSentinel)for(h=0;h<d.length;++h)0===d[h].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[h]?p="utf-8":"utf8=%26%2310003%3B"===d[h]&&(p="iso-8859-1"),f=h,h=d.length);for(h=0;h<d.length;++h)if(h!==f){var m,g,v=d[h],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;if(-1===b?(m=s.decoder(v,r.decoder,p,"key"),g=s.strictNullHandling?null:""):null!==(m=s.decoder(v.slice(0,b),r.decoder,p,"key"))&&(g=e.maybeMap(a(v.slice(b+1),s,n(l[m])?l[m].length:0),function(e){return s.decoder(e,r.decoder,p,"value")})),g&&s.interpretNumericEntities&&"iso-8859-1"===p&&(g=i(String(g))),v.indexOf("[]=")>-1&&(g=n(g)?[g]:g),s.comma&&n(g)&&g.length>s.arrayLimit){if(s.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+s.arrayLimit+" element"+(1===s.arrayLimit?"":"s")+" allowed in an array.");g=e.combine([],g,s.arrayLimit,s.plainObjects)}if(null!==m){var x=t.call(l,m);x&&"combine"===s.duplicates?l[m]=e.combine(l[m],g,s.arrayLimit,s.plainObjects):x&&"last"!==s.duplicates||(l[m]=g)}}return l}(s,c):s,d=c.plainObjects?{__proto__:null}:{},h=Object.keys(u),f=0;f<h.length;++f){var p=h[f],m=o(p,u[p],c,"string"==typeof s);d=e.merge(d,m,c)}return!0===c.allowSparse?d:e.compact(d)}}function rm(){if(yp)return vp;yp=1;var e=tm(),t=nm();return vp={formats:Qp(),parse:t,stringify:e}}var im=rm();function am(e,t){return function(){return e.apply(t,arguments)}}const{toString:om}=Object.prototype,{getPrototypeOf:sm}=Object,{iterator:lm,toStringTag:cm}=Symbol,um=(e=>t=>{const n=om.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dm=e=>(e=e.toLowerCase(),t=>um(t)===e),hm=e=>t=>typeof t===e,{isArray:fm}=Array,pm=hm("undefined");function mm(e){return null!==e&&!pm(e)&&null!==e.constructor&&!pm(e.constructor)&&ym(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const gm=dm("ArrayBuffer"),vm=hm("string"),ym=hm("function"),bm=hm("number"),xm=e=>null!==e&&"object"==typeof e,_m=e=>{if("object"!==um(e))return!1;const t=sm(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||cm in e||lm in e)},wm=dm("Date"),Sm=dm("File"),Mm=dm("Blob"),Em=dm("FileList"),Tm=dm("URLSearchParams"),[Am,Cm,Pm,Rm]=["ReadableStream","Request","Response","Headers"].map(dm);function Nm(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,i;if("object"!=typeof e&&(e=[e]),fm(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(mm(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let o;for(r=0;r<a;r++)o=i[r],t.call(null,e[o],o,e)}}function km(e,t){if(mm(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Lm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Im=e=>!pm(e)&&e!==Lm,Om=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&sm(Uint8Array)),Dm=dm("HTMLFormElement"),Fm=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Um=dm("RegExp"),jm=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Nm(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)},zm=dm("AsyncFunction"),Bm=(Vm="function"==typeof setImmediate,Hm=ym(Lm.postMessage),Vm?setImmediate:Hm?(Wm=`axios@${Math.random()}`,Gm=[],Lm.addEventListener("message",({source:e,data:t})=>{e===Lm&&t===Wm&&Gm.length&&Gm.shift()()},!1),e=>{Gm.push(e),Lm.postMessage(Wm,"*")}):e=>setTimeout(e));var Vm,Hm,Wm,Gm;const qm="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Lm):"undefined"!=typeof process&&process.nextTick||Bm,Xm={isArray:fm,isArrayBuffer:gm,isBuffer:mm,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ym(e.append)&&("formdata"===(t=um(e))||"object"===t&&ym(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&gm(e.buffer),t},isString:vm,isNumber:bm,isBoolean:e=>!0===e||!1===e,isObject:xm,isPlainObject:_m,isEmptyObject:e=>{if(!xm(e)||mm(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:Am,isRequest:Cm,isResponse:Pm,isHeaders:Rm,isUndefined:pm,isDate:wm,isFile:Sm,isBlob:Mm,isRegExp:Um,isFunction:ym,isStream:e=>xm(e)&&ym(e.pipe),isURLSearchParams:Tm,isTypedArray:Om,isFileList:Em,forEach:Nm,merge:function e(){const{caseless:t,skipUndefined:n}=Im(this)&&this||{},r={},i=(i,a)=>{if("__proto__"===a||"constructor"===a||"prototype"===a)return;const o=t&&km(r,a)||a;_m(r[o])&&_m(i)?r[o]=e(r[o],i):_m(i)?r[o]=e({},i):fm(i)?r[o]=i.slice():n&&pm(i)||(r[o]=i)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Nm(arguments[a],i);return r},extend:(e,t,n,{allOwnKeys:r}={})=>(Nm(t,(t,r)=>{n&&ym(t)?Object.defineProperty(e,r,{value:am(t,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,o;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],r&&!r(o,e,t)||s[o]||(t[o]=e[o],s[o]=!0);e=!1!==n&&sm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:um,kindOfTest:dm,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(fm(e))return e;let t=e.length;if(!bm(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[lm]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Dm,hasOwnProperty:Fm,hasOwnProp:Fm,reduceDescriptors:jm,freezeMethods:e=>{jm(e,(t,n)=>{if(ym(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ym(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return fm(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:km,global:Lm,isContextDefined:Im,isSpecCompliantForm:function(e){return!!(e&&ym(e.append)&&"FormData"===e[cm]&&e[lm])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(xm(e)){if(t.indexOf(e)>=0)return;if(mm(e))return e;if(!("toJSON"in e)){t[r]=e;const i=fm(e)?[]:{};return Nm(e,(e,t)=>{const a=n(e,r+1);!pm(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:zm,isThenable:e=>e&&(xm(e)||ym(e))&&ym(e.then)&&ym(e.catch),setImmediate:Bm,asap:qm,isIterable:e=>null!=e&&ym(e[lm])};let $m=class e extends Error{static from(t,n,r,i,a,o){const s=new e(t.message,n||t.code,r,i,a);return s.cause=t,s.name=t.name,o&&Object.assign(s,o),s}constructor(e,t,n,r,i){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xm.toJSONObject(this.config),code:this.code,status:this.status}}};function Ym(e){return Xm.isPlainObject(e)||Xm.isArray(e)}function Km(e){return Xm.endsWith(e,"[]")?e.slice(0,-2):e}function Zm(e,t,n){return e?e.concat(t).map(function(e,t){return e=Km(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}$m.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",$m.ERR_BAD_OPTION="ERR_BAD_OPTION",$m.ECONNABORTED="ECONNABORTED",$m.ETIMEDOUT="ETIMEDOUT",$m.ERR_NETWORK="ERR_NETWORK",$m.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",$m.ERR_DEPRECATED="ERR_DEPRECATED",$m.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",$m.ERR_BAD_REQUEST="ERR_BAD_REQUEST",$m.ERR_CANCELED="ERR_CANCELED",$m.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",$m.ERR_INVALID_URL="ERR_INVALID_URL";const Jm=Xm.toFlatObject(Xm,{},null,function(e){return/^is[A-Z]/.test(e)});function Qm(e,t,n){if(!Xm.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Xm.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Xm.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Xm.isSpecCompliantForm(t);if(!Xm.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Xm.isDate(e))return e.toISOString();if(Xm.isBoolean(e))return e.toString();if(!s&&Xm.isBlob(e))throw new $m("Blob is not supported. Use a Buffer instead.");return Xm.isArrayBuffer(e)||Xm.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"==typeof e)if(Xm.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Xm.isArray(e)&&function(e){return Xm.isArray(e)&&!e.some(Ym)}(e)||(Xm.isFileList(e)||Xm.endsWith(n,"[]"))&&(s=Xm.toArray(e)))return n=Km(n),s.forEach(function(e,r){!Xm.isUndefined(e)&&null!==e&&t.append(!0===o?Zm([n],r,a):null===o?n:n+"[]",l(e))}),!1;return!!Ym(e)||(t.append(Zm(i,n,a),l(e)),!1)}const u=[],d=Object.assign(Jm,{defaultVisitor:c,convertValue:l,isVisitable:Ym});if(!Xm.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Xm.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Xm.forEach(n,function(n,a){!0===(!(Xm.isUndefined(n)||null===n)&&i.call(t,n,Xm.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t}function eg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function tg(e,t){this._pairs=[],e&&Qm(e,this,t)}const ng=tg.prototype;function rg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ig(e,t,n){if(!t)return e;const r=n&&n.encode||rg,i=Xm.isFunction(n)?{serialize:n}:n,a=i&&i.serialize;let o;if(o=a?a(t,i):Xm.isURLSearchParams(t)?t.toString():new tg(t,i).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}ng.append=function(e,t){this._pairs.push([e,t])},ng.toString=function(e){const t=e?function(t){return e.call(this,t,eg)}:eg;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class ag{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Xm.forEach(this.handlers,function(t){null!==t&&e(t)})}}const og={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},sg={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:tg,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},lg="undefined"!=typeof window&&"undefined"!=typeof document,cg="object"==typeof navigator&&navigator||void 0,ug=lg&&(!cg||["ReactNative","NativeScript","NS"].indexOf(cg.product)<0),dg="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,hg=lg&&window.location.href||"http://localhost",fg={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lg,hasStandardBrowserEnv:ug,hasStandardBrowserWebWorkerEnv:dg,navigator:cg,origin:hg},Symbol.toStringTag,{value:"Module"})),...sg};function pg(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=e.length;return a=!a&&Xm.isArray(r)?r.length:a,s?(Xm.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Xm.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Xm.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!o)}if(Xm.isFormData(e)&&Xm.isFunction(e.entries)){const n={};return Xm.forEachEntry(e,(e,r)=>{t(function(e){return Xm.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null}const mg={transitional:og,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Xm.isObject(e);if(i&&Xm.isHTMLForm(e)&&(e=new FormData(e)),Xm.isFormData(e))return r?JSON.stringify(pg(e)):e;if(Xm.isArrayBuffer(e)||Xm.isBuffer(e)||Xm.isStream(e)||Xm.isFile(e)||Xm.isBlob(e)||Xm.isReadableStream(e))return e;if(Xm.isArrayBufferView(e))return e.buffer;if(Xm.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qm(e,new fg.classes.URLSearchParams,{visitor:function(e,t,n,r){return fg.isNode&&Xm.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=Xm.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Qm(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Xm.isString(e))try{return(t||JSON.parse)(e),Xm.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||mg.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Xm.isResponse(e)||Xm.isReadableStream(e))return e;if(e&&Xm.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(i){if(n){if("SyntaxError"===i.name)throw $m.from(i,$m.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fg.classes.FormData,Blob:fg.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xm.forEach(["delete","get","head","post","put","patch"],e=>{mg.headers[e]={}});const gg=Xm.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vg=Symbol("internals");function yg(e){return e&&String(e).trim().toLowerCase()}function bg(e){return!1===e||null==e?e:Xm.isArray(e)?e.map(bg):String(e)}function xg(e,t,n,r,i){return Xm.isFunction(r)?r.call(this,t,n):(i&&(t=n),Xm.isString(t)?Xm.isString(r)?-1!==t.indexOf(r):Xm.isRegExp(r)?r.test(t):void 0:void 0)}let _g=class{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=yg(t);if(!i)throw new Error("header name must be a non-empty string");const a=Xm.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=bg(e))}const a=(e,t)=>Xm.forEach(e,(e,n)=>i(e,n,t));if(Xm.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Xm.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&gg[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Xm.isObject(e)&&Xm.isIterable(e)){let n,r,i={};for(const t of e){if(!Xm.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Xm.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=yg(e)){const n=Xm.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Xm.isFunction(t))return t.call(this,e,n);if(Xm.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yg(e)){const n=Xm.findKey(this,e);return!(!n||void 0===this[n]||t&&!xg(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=yg(e)){const i=Xm.findKey(n,e);!i||t&&!xg(0,n[i],i,t)||(delete n[i],r=!0)}}return Xm.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!xg(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Xm.forEach(this,(r,i)=>{const a=Xm.findKey(n,i);if(a)return t[a]=bg(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();o!==i&&delete t[i],t[o]=bg(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Xm.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Xm.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[vg]=this[vg]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yg(e);t[r]||(function(e,t){const n=Xm.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return Xm.isArray(e)?e.forEach(r):r(e),this}};function wg(e,t){const n=this||mg,r=t||n,i=_g.from(r.headers);let a=r.data;return Xm.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function Sg(e){return!(!e||!e.__CANCEL__)}_g.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Xm.reduceDescriptors(_g.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),Xm.freezeMethods(_g);let Mg=class extends $m{constructor(e,t,n){super(null==e?"canceled":e,$m.ERR_CANCELED,t,n),this.name="CanceledError",this.__CANCEL__=!0}};function Eg(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new $m("Request failed with status code "+n.status,[$m.ERR_BAD_REQUEST,$m.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Tg=(e,t,n=3)=>{let r=0;const i=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,o=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[o];i||(i=l),n[a]=s,r[a]=l;let u=o,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,r,i=0,a=1e3/t;const o=(t,a=Date.now())=>{i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-i;s>=a?o(e,t):(n=e,r||(r=setTimeout(()=>{r=null,o(n)},a-s)))},()=>n&&o(n)]}(n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,l=i(s);r=a,e({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&a<=o?(o-a)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})},n)},Ag=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Cg=e=>(...t)=>Xm.asap(()=>e(...t)),Pg=fg.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,fg.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(fg.origin),fg.navigator&&/(msie|trident)/i.test(fg.navigator.userAgent)):()=>!0,Rg=fg.hasStandardBrowserEnv?{write(e,t,n,r,i,a,o){if("undefined"==typeof document)return;const s=[`${e}=${encodeURIComponent(t)}`];Xm.isNumber(n)&&s.push(`expires=${new Date(n).toUTCString()}`),Xm.isString(r)&&s.push(`path=${r}`),Xm.isString(i)&&s.push(`domain=${i}`),!0===a&&s.push("secure"),Xm.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Ng(e,t,n){let r=!("string"==typeof(i=t)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i));var i;return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const kg=e=>e instanceof _g?{...e}:e;function Lg(e,t){t=t||{};const n={};function r(e,t,n,r){return Xm.isPlainObject(e)&&Xm.isPlainObject(t)?Xm.merge.call({caseless:r},e,t):Xm.isPlainObject(t)?Xm.merge({},t):Xm.isArray(t)?t.slice():t}function i(e,t,n,i){return Xm.isUndefined(t)?Xm.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!Xm.isUndefined(t))return r(void 0,t)}function o(e,t){return Xm.isUndefined(t)?Xm.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(e,t,n)=>i(kg(e),kg(t),0,!0)};return Xm.forEach(Object.keys({...e,...t}),function(r){if("__proto__"===r||"constructor"===r||"prototype"===r)return;const a=Xm.hasOwnProp(l,r)?l[r]:i,o=a(e[r],t[r],r);Xm.isUndefined(o)&&a!==s||(n[r]=o)}),n}const Ig=e=>{const t=Lg({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=t;if(t.headers=o=_g.from(o),t.url=ig(Ng(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Xm.isFormData(n))if(fg.hasStandardBrowserEnv||fg.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Xm.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&o.set(e,n)})}if(fg.hasStandardBrowserEnv&&(r&&Xm.isFunction(r)&&(r=r(t)),r||!1!==r&&Pg(t.url))){const e=i&&a&&Rg.read(a);e&&o.set(i,e)}return t},Og="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Ig(e);let i=r.data;const a=_g.from(r.headers).normalize();let o,s,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=_g.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Eg(function(e){t(e),p()},function(e){n(e),p()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new $m("Request aborted",$m.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",i=new $m(r,$m.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||og;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new $m(t,i.clarifyTimeoutError?$m.ETIMEDOUT:$m.ECONNABORTED,e,m)),m=null},void 0===i&&a.setContentType(null),"setRequestHeader"in m&&Xm.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),Xm.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,u]=Tg(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([s,c]=Tg(h),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new Mg(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===fg.protocols.indexOf(v)?n(new $m("Unsupported protocol "+v+":",$m.ERR_BAD_REQUEST,e)):m.send(i||null)})},Dg=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof $m?t:new Mg(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new $m(`timeout of ${t}ms exceeded`,$m.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:s}=r;return s.unsubscribe=()=>Xm.asap(o),s}},Fg=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Ug=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},jg=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of Ug(e))yield*Fg(n,t)}(e,t);let a,o=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=o+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),i.return())},{highWaterMark:2})},{isFunction:zg}=Xm,Bg=(({Request:e,Response:t})=>({Request:e,Response:t}))(Xm.global),{ReadableStream:Vg,TextEncoder:Hg}=Xm.global,Wg=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},Gg=e=>{e=Xm.merge.call({skipUndefined:!0},Bg,e);const{fetch:t,Request:n,Response:r}=e,i=t?zg(t):"function"==typeof fetch,a=zg(n),o=zg(r);if(!i)return!1;const s=i&&zg(Vg),l=i&&("function"==typeof Hg?(e=>t=>e.encode(t))(new Hg):async e=>new Uint8Array(await new n(e).arrayBuffer())),c=a&&s&&Wg(()=>{let e=!1;const t=new n(fg.origin,{body:new Vg,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=o&&s&&Wg(()=>Xm.isReadableStream(new r("").body)),d={stream:u&&(e=>e.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!d[e]&&(d[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new $m(`Response type '${e}' is not supported`,$m.ERR_NOT_SUPPORT,n)})});const h=async(e,t)=>{const r=Xm.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Xm.isBlob(e))return e.size;if(Xm.isSpecCompliantForm(e)){const t=new n(fg.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Xm.isArrayBufferView(e)||Xm.isArrayBuffer(e)?e.byteLength:(Xm.isURLSearchParams(e)&&(e+=""),Xm.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:i,method:o,data:s,signal:l,cancelToken:f,timeout:p,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:y,withCredentials:b="same-origin",fetchOptions:x}=Ig(e),_=t||fetch;v=v?(v+"").toLowerCase():"text";let w=Dg([l,f&&f.toAbortSignal()],p),S=null;const M=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let E;try{if(g&&c&&"get"!==o&&"head"!==o&&0!==(E=await h(y,s))){let e,t=new n(i,{method:"POST",body:s,duplex:"half"});if(Xm.isFormData(s)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=Ag(E,Tg(Cg(g)));s=jg(t.body,65536,e,n)}}Xm.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l={...x,signal:w,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:t?b:void 0};S=a&&new n(i,l);let f=await(a?_(S,x):_(i,l));const p=u&&("stream"===v||"response"===v);if(u&&(m||p&&M)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=f[t]});const t=Xm.toFiniteNumber(f.headers.get("content-length")),[n,i]=m&&Ag(t,Tg(Cg(m),!0))||[];f=new r(jg(f.body,65536,n,()=>{i&&i(),M&&M()}),e)}v=v||"text";let T=await d[Xm.findKey(d,v)||"text"](f,e);return!p&&M&&M(),await new Promise((t,n)=>{Eg(t,n,{data:T,headers:_g.from(f.headers),status:f.status,statusText:f.statusText,config:e,request:S})})}catch(T){if(M&&M(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new $m("Network Error",$m.ERR_NETWORK,e,S,T&&T.response),{cause:T.cause||T});throw $m.from(T,T&&T.code,e,S,T&&T.response)}}},qg=new Map,Xg=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,a=[r,i,n];let o,s,l=a.length,c=qg;for(;l--;)o=a[l],s=c.get(o),void 0===s&&c.set(o,s=l?new Map:Gg(t)),c=s;return s};Xg();const $g={http:null,xhr:Og,fetch:{get:Xg}};Xm.forEach($g,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const Yg=e=>`- ${e}`,Kg=e=>Xm.isFunction(e)||null===e||!1===e,Zg={getAdapter:function(e,t){e=Xm.isArray(e)?e:[e];const{length:n}=e;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=e[o],i=r,!Kg(r)&&(i=$g[(n=String(r)).toLowerCase()],void 0===i))throw new $m(`Unknown adapter '${n}'`);if(i&&(Xm.isFunction(i)||(i=i.get(t))))break;a[n||"#"+o]=i}if(!i){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));let t=n?e.length>1?"since :\n"+e.map(Yg).join("\n"):" "+Yg(e[0]):"as no adapter specified";throw new $m("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return i},adapters:$g};function Jg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Mg(null,e)}function Qg(e){return Jg(e),e.headers=_g.from(e.headers),e.data=wg.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Zg.getAdapter(e.adapter||mg.adapter,e)(e).then(function(t){return Jg(e),t.data=wg.call(e,e.transformResponse,t),t.headers=_g.from(t.headers),t},function(t){return Sg(t)||(Jg(e),t&&t.response&&(t.response.data=wg.call(e,e.transformResponse,t.response),t.response.headers=_g.from(t.response.headers))),Promise.reject(t)})}const ev="1.13.5",tv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const nv={};tv.transitional=function(e,t,n){return(r,i,a)=>{if(!1===e)throw new $m(function(e,t){return"[Axios v"+ev+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}(i," has been removed"+(t?" in "+t:"")),$m.ERR_DEPRECATED);return t&&!nv[i]&&(nv[i]=!0),!e||e(r,i,a)}},tv.spelling=function(e){return(e,t)=>!0};const rv={assertOptions:function(e,t,n){if("object"!=typeof e)throw new $m("options must be an object",$m.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],o=t[a];if(o){const t=e[a],n=void 0===t||o(t,a,e);if(!0!==n)throw new $m("option "+a+" must be "+n,$m.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new $m("Unknown option "+a,$m.ERR_BAD_OPTION)}},validators:tv},iv=rv.validators;let av=class{constructor(e){this.defaults=e||{},this.interceptors={request:new ag,response:new ag}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(r){}}throw n}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Lg(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&rv.assertOptions(n,{silentJSONParsing:iv.transitional(iv.boolean),forcedJSONParsing:iv.transitional(iv.boolean),clarifyTimeoutError:iv.transitional(iv.boolean),legacyInterceptorReqResOrdering:iv.transitional(iv.boolean)},!1),null!=r&&(Xm.isFunction(r)?t.paramsSerializer={serialize:r}:rv.assertOptions(r,{encode:iv.function,serialize:iv.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rv.assertOptions(t,{baseUrl:iv.spelling("baseURL"),withXsrfToken:iv.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Xm.merge(i.common,i[t.method]);i&&Xm.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=_g.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach(function(e){if("function"==typeof e.runWhen&&!1===e.runWhen(t))return;s=s&&e.synchronous;const n=t.transitional||og;n&&n.legacyInterceptorReqResOrdering?o.unshift(e.fulfilled,e.rejected):o.push(e.fulfilled,e.rejected)});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!s){const e=[Qg.bind(this),void 0];for(e.unshift(...o),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=Qg.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ig(Ng((e=Lg(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Xm.forEach(["delete","get","head","options"],function(e){av.prototype[e]=function(t,n){return this.request(Lg(n||{},{method:e,url:t,data:(n||{}).data}))}}),Xm.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(Lg(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}av.prototype[e]=t(),av.prototype[e+"Form"]=t(!0)});const ov={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ov).forEach(([e,t])=>{ov[t]=e});const sv=function e(t){const n=new av(t),r=am(av.prototype.request,n);return Xm.extend(r,av.prototype,n,{allOwnKeys:!0}),Xm.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Lg(t,n))},r}(mg);sv.Axios=av,sv.CanceledError=Mg,sv.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new Mg(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},sv.isCancel=Sg,sv.VERSION=ev,sv.toFormData=Qm,sv.AxiosError=$m,sv.Cancel=sv.CanceledError,sv.all=function(e){return Promise.all(e)},sv.spread=function(e){return function(t){return e.apply(null,t)}},sv.isAxiosError=function(e){return Xm.isObject(e)&&!0===e.isAxiosError},sv.mergeConfig=Lg,sv.AxiosHeaders=_g,sv.formToJSON=e=>pg(Xm.isHTMLForm(e)?new FormData(e):e),sv.getAdapter=Zg.getAdapter,sv.HttpStatusCode=ov,sv.default=sv;const{Axios:lv,AxiosError:cv,CanceledError:uv,isCancel:dv,CancelToken:hv,VERSION:fv,all:pv,Cancel:mv,isAxiosError:gv,spread:vv,toFormData:yv,AxiosHeaders:bv,HttpStatusCode:xv,formToJSON:_v,getAdapter:wv,mergeConfig:Sv}=sv;var Mv=new class{constructor(e){this.config={},this.defaults=e}extend(e){return e&&(this.defaults={...this.defaults,...e}),this}replace(e){this.config=e}get(e){return Mh(this.config,e)?Wu(this.config,e):Wu(this.defaults,e)}set(e,t){"string"==typeof e?Oh(this.config,e,t):Object.entries(e).forEach(([e,t])=>{Oh(this.config,e,t)})}}({form:{recentlySuccessfulDuration:2e3,forceIndicesArrayFormatInFormData:!0},future:{preserveEqualProps:!1,useDataInertiaHeadAttribute:!1,useDialogForErrorModal:!1,useScriptElementForInitialPage:!1},prefetch:{cacheFor:3e4,hoverDelay:75}});function Ev(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function Tv(e,t){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,t))}var Av=e=>Tv("before",{cancelable:!0,detail:{visit:e}}),Cv=e=>Tv("navigate",{detail:{page:e}}),Pv=e=>Tv("flash",{detail:{flash:e}}),Rv=class{static set(e,t){"undefined"!=typeof window&&window.sessionStorage.setItem(e,JSON.stringify(t))}static get(e){if("undefined"!=typeof window)return JSON.parse(window.sessionStorage.getItem(e)||"null")}static merge(e,t){const n=this.get(e);null===n?this.set(e,t):this.set(e,{...n,...t})}static remove(e){"undefined"!=typeof window&&window.sessionStorage.removeItem(e)}static removeNested(e,t){const n=this.get(e);null!==n&&(delete n[t],this.set(e,n))}static exists(e){try{return null!==this.get(e)}catch(t){return!1}}static clear(){"undefined"!=typeof window&&window.sessionStorage.clear()}};Rv.locationVisitKey="inertiaLocationVisit";var Nv="historyKey",kv="historyIv",Lv=async(e,t,n)=>{if("undefined"==typeof window)throw new Error("Unable to encrypt history");if(void 0===window.crypto.subtle)return Promise.resolve(n);const r=new TextEncoder,i=JSON.stringify(n),a=new Uint8Array(3*i.length),o=r.encodeInto(i,a);return window.crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,a.subarray(0,o.written))},Iv=async(e,t,n)=>{if(void 0===window.crypto.subtle)return Promise.resolve(n);const r=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,n);return JSON.parse((new TextDecoder).decode(r))},Ov=()=>{const e=Rv.get(kv);if(e)return new Uint8Array(e);const t=window.crypto.getRandomValues(new Uint8Array(12));return Rv.set(kv,Array.from(t)),t},Dv=async e=>{if(e)return e;const t=await(async()=>void 0===window.crypto.subtle?Promise.resolve(null):window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))();return t?(await(async e=>{if(void 0===window.crypto.subtle)return Promise.resolve();const t=await window.crypto.subtle.exportKey("raw",e);Rv.set(Nv,Array.from(new Uint8Array(t)))})(t),t):null},Fv=async()=>{const e=Rv.get(Nv);return e?await window.crypto.subtle.importKey("raw",new Uint8Array(e),{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]):null},Uv=(e,t,n)=>{if(e===t)return!0;for(const r in e)if(!n.includes(r)&&e[r]!==t[r]&&!jv(e[r],t[r]))return!1;for(const r in t)if(!n.includes(r)&&!(r in e))return!1;return!0},jv=(e,t)=>{switch(typeof e){case"object":return Uv(e,t,[]);case"function":return e.toString()===t.toString();default:return e===t}},zv={ms:1,s:1e3,m:6e4,h:36e5,d:864e5},Bv=e=>{if("number"==typeof e)return e;for(const[t,n]of Object.entries(zv))if(e.endsWith(t))return parseFloat(e)*n;return parseInt(e)},Vv=new class{constructor(){this.cached=[],this.inFlightRequests=[],this.removalTimers=[],this.currentUseId=null}add(e,t,{cacheFor:n,cacheTags:r}){if(this.findInFlight(e))return Promise.resolve();const i=this.findCached(e);if(!e.fresh&&i&&i.staleTimestamp>Date.now())return Promise.resolve();const[a,o]=this.extractStaleValues(n),s=new Promise((n,r)=>{t({...e,onCancel:()=>{this.remove(e),e.onCancel(),r()},onError:t=>{this.remove(e),e.onError(t),r()},onPrefetching(t){e.onPrefetching(t)},onPrefetched(t,n){e.onPrefetched(t,n)},onPrefetchResponse(e){n(e)},onPrefetchError(t){Vv.removeFromInFlight(e),r(t)}})}).then(t=>{this.remove(e);const n=t.getPageResponse();ay.mergeOncePropsIntoResponse(n),this.cached.push({params:{...e},staleTimestamp:Date.now()+a,expiresAt:Date.now()+o,response:s,singleUse:0===o,timestamp:Date.now(),inFlight:!1,tags:Array.isArray(r)?r:[r]});const i=this.getShortestOncePropTtl(n);return this.scheduleForRemoval(e,i?Math.min(o,i):o),this.removeFromInFlight(e),t.handlePrefetch(),t});return this.inFlightRequests.push({params:{...e},response:s,staleTimestamp:null,inFlight:!0}),s}removeAll(){this.cached=[],this.removalTimers.forEach(e=>{clearTimeout(e.timer)}),this.removalTimers=[]}removeByTags(e){this.cached=this.cached.filter(t=>!t.tags.some(t=>e.includes(t)))}remove(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)),this.clearTimer(e)}removeFromInFlight(e){this.inFlightRequests=this.inFlightRequests.filter(t=>!this.paramsAreEqual(t.params,e))}extractStaleValues(e){const[t,n]=this.cacheForToStaleAndExpires(e);return[Bv(t),Bv(n)]}cacheForToStaleAndExpires(e){if(!Array.isArray(e))return[e,e];switch(e.length){case 0:return[0,0];case 1:return[e[0],e[0]];default:return[e[0],e[1]]}}clearTimer(e){const t=this.removalTimers.find(t=>this.paramsAreEqual(t.params,e));t&&(clearTimeout(t.timer),this.removalTimers=this.removalTimers.filter(e=>e!==t))}scheduleForRemoval(e,t){if("undefined"!=typeof window&&(this.clearTimer(e),t>0)){const n=window.setTimeout(()=>this.remove(e),t);this.removalTimers.push({params:e,timer:n})}}get(e){return this.findCached(e)||this.findInFlight(e)}use(e,t){const n=`${t.url.pathname}-${Date.now()}-${Math.random().toString(36).substring(7)}`;return this.currentUseId=n,e.response.then(e=>{if(this.currentUseId===n)return e.mergeParams({...t,onPrefetched:()=>{}}),this.removeSingleUseItems(t),e.handle()})}removeSingleUseItems(e){this.cached=this.cached.filter(t=>!this.paramsAreEqual(t.params,e)||!t.singleUse)}findCached(e){return this.cached.find(t=>this.paramsAreEqual(t.params,e))||null}findInFlight(e){return this.inFlightRequests.find(t=>this.paramsAreEqual(t.params,e))||null}withoutPurposePrefetchHeader(e){const t=$d(e);return"prefetch"===t.headers.Purpose&&delete t.headers.Purpose,t}paramsAreEqual(e,t){return Uv(this.withoutPurposePrefetchHeader(e),this.withoutPurposePrefetchHeader(t),["showProgress","replace","prefetch","preserveScroll","preserveState","onBefore","onBeforeUpdate","onStart","onProgress","onFinish","onCancel","onSuccess","onError","onFlash","onPrefetched","onCancelToken","onPrefetching","async","viewTransition"])}updateCachedOncePropsFromCurrentPage(){this.cached.forEach(e=>{e.response.then(t=>{const n=t.getPageResponse();ay.mergeOncePropsIntoResponse(n,{force:!0});for(const[e,o]of Object.entries(n.deferredProps??{})){const t=o.filter(e=>void 0===n.props[e]);t.length>0?n.deferredProps[e]=t:delete n.deferredProps[e]}const r=this.getShortestOncePropTtl(n);if(null===r)return;const i=e.expiresAt-Date.now(),a=Math.min(i,r);a>0?this.scheduleForRemoval(e.params,a):this.remove(e.params)})})}getShortestOncePropTtl(e){const t=Object.values(e.onceProps??{}).map(e=>e.expiresAt).filter(e=>!!e);return 0===t.length?null:Math.min(...t)-Date.now()}},Hv=class{static save(){uy.saveScrollPositions(this.getScrollRegions())}static getScrollRegions(){return Array.from(this.regions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))}static regions(){return document.querySelectorAll("[scroll-region]")}static reset(){("undefined"!=typeof window?window.location.hash:null)||window.scrollTo(0,0),this.regions().forEach(e=>{"function"==typeof e.scrollTo?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.save(),this.scrollToAnchor()}static scrollToAnchor(){const e="undefined"!=typeof window?window.location.hash:null;e&&setTimeout(()=>{const t=document.getElementById(e.slice(1));t?t.scrollIntoView():window.scrollTo(0,0)})}static restore(e){"undefined"!=typeof window&&window.requestAnimationFrame(()=>{this.restoreDocument(),this.restoreScrollRegions(e)})}static restoreScrollRegions(e){"undefined"!=typeof window&&this.regions().forEach((t,n)=>{const r=e[n];r&&("function"==typeof t.scrollTo?t.scrollTo(r.left,r.top):(t.scrollTop=r.top,t.scrollLeft=r.left))})}static restoreDocument(){const e=uy.getDocumentScrollPosition();window.scrollTo(e.left,e.top)}static onScroll(e){const t=e.target;"function"==typeof t.hasAttribute&&t.hasAttribute("scroll-region")&&this.save()}static onWindowScroll(){uy.saveDocumentScrollPosition({top:window.scrollY,left:window.scrollX})}},Wv=e=>"undefined"!=typeof File&&e instanceof File||e instanceof Blob||"undefined"!=typeof FileList&&e instanceof FileList&&e.length>0;function Gv(e){return Wv(e)||e instanceof FormData&&Array.from(e.values()).some(e=>Gv(e))||"object"==typeof e&&null!==e&&Object.values(e).some(e=>Gv(e))}var qv=e=>e instanceof FormData;function Xv(e,t=new FormData,n=null,r="brackets"){e=e||{};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Yv(t,$v(n,i,"indices"),e[i],r);return t}function $v(e,t,n){return e?"brackets"===n?`${e}[]`:`${e}[${t}]`:t}function Yv(e,t,n,r){return Array.isArray(n)?Array.from(n.keys()).forEach(i=>Yv(e,$v(t,i.toString(),r),n[i],r)):n instanceof Date?e.append(t,n.toISOString()):n instanceof File?e.append(t,n,n.name):n instanceof Blob?e.append(t,n):"boolean"==typeof n?e.append(t,n?"1":"0"):"string"==typeof n?e.append(t,n):"number"==typeof n?e.append(t,`${n}`):null==n?e.append(t,""):void Xv(n,e,t,r)}function Kv(e){return new URL(e.toString(),"undefined"==typeof window?void 0:window.location.toString())}var Zv=(e,t,n,r,i)=>{let a="string"==typeof e?Kv(e):e;if(!Gv(t)&&!r||qv(t)||(Mv.get("form.forceIndicesArrayFormatInFormData")&&(i="indices"),t=Xv(t,new FormData,null,i)),qv(t))return[a,t];const[o,s]=Jv(n,a,t,i);return[Kv(o),s]};function Jv(e,t,n,r="brackets"){const i="get"===e&&!qv(n)&&Object.keys(n).length>0,a=ry(t.toString()),o=a||t.toString().startsWith("/")||""===t.toString(),s=!o&&!t.toString().startsWith("#")&&!t.toString().startsWith("?"),l=/^[.]{1,2}([/]|$)/.test(t.toString()),c=t.toString().includes("?")||i,u=t.toString().includes("#"),d=new URL(t.toString(),"undefined"==typeof window?"http://localhost":window.location.toString());if(i){const e=/\[\d+\]/.test(decodeURIComponent(d.search)),t={ignoreQueryPrefix:!0,allowSparse:!0};d.search=im.stringify({...im.parse(d.search,t),...n},{encodeValuesOnly:!0,arrayFormat:e?"indices":r})}return[[a?`${d.protocol}//${d.host}`:"",o?d.pathname:"",s?d.pathname.substring(l?0:1):"",c?d.search:"",u?d.hash:""].join(""),i?{}:n]}function Qv(e){return(e=new URL(e.href)).hash="",e}var ey=(e,t)=>{e.hash&&!t.hash&&Qv(e).href===t.href&&(t.hash=e.hash)},ty=(e,t)=>Qv(e).href===Qv(t).href;function ny(e){return null!==e&&"object"==typeof e&&void 0!==e&&"url"in e&&"method"in e}function ry(e){return/^([a-z][a-z0-9+.-]*:)?\/\/[^/]/i.test(e)}function iy(e,t){const n="string"==typeof e?Kv(e):e;return t?`${n.protocol}//${n.host}${n.pathname}${n.search}${n.hash}`:`${n.pathname}${n.search}${n.hash}`}var ay=new class{constructor(){this.componentId={},this.listeners=[],this.isFirstPageLoad=!0,this.cleared=!1,this.pendingDeferredProps=null,this.historyQuotaExceeded=!1}init({initialPage:e,swapComponent:t,resolveComponent:n,onFlash:r}){return this.page={...e,flash:e.flash??{}},this.swapComponent=t,this.resolveComponent=n,this.onFlashCallback=r,dy.on("historyQuotaExceeded",()=>{this.historyQuotaExceeded=!0}),this}set(e,{replace:t=!1,preserveScroll:n=!1,preserveState:r=!1,viewTransition:i=!1}={}){Object.keys(e.deferredProps||{}).length&&(this.pendingDeferredProps={deferredProps:e.deferredProps,component:e.component,url:e.url}),this.componentId={};const a=this.componentId;return e.clearHistory&&uy.clear(),this.resolve(e.component).then(o=>{if(a!==this.componentId)return;e.rememberedState??(e.rememberedState={});const s="undefined"==typeof window,l=s?new URL(e.url):window.location,c=!s&&n?Hv.getScrollRegions():[];t=t||ty(Kv(e.url),l);const u={...e,flash:{}};return new Promise(e=>t?uy.replaceState(u,e):uy.pushState(u,e)).then(()=>{const a=!this.isTheSame(e);if(!a&&Object.keys(e.props.errors||{}).length>0&&(i=!1),this.page=e,this.cleared=!1,this.hasOnceProps()&&Vv.updateCachedOncePropsFromCurrentPage(),a&&this.fireEventsFor("newComponent"),this.isFirstPageLoad&&this.fireEventsFor("firstLoad"),this.isFirstPageLoad=!1,!this.historyQuotaExceeded)return this.swap({component:o,page:e,preserveState:r,viewTransition:i}).then(()=>{n?window.requestAnimationFrame(()=>Hv.restoreScrollRegions(c)):Hv.reset(),this.pendingDeferredProps&&this.pendingDeferredProps.component===e.component&&this.pendingDeferredProps.url===e.url&&dy.fireInternalEvent("loadDeferredProps",this.pendingDeferredProps.deferredProps),this.pendingDeferredProps=null,t||Cv(e)});this.historyQuotaExceeded=!1})})}setQuietly(e,{preserveState:t=!1}={}){return this.resolve(e.component).then(n=>(this.page=e,this.cleared=!1,uy.setCurrent(e),this.swap({component:n,page:e,preserveState:t,viewTransition:!1})))}clear(){this.cleared=!0}isCleared(){return this.cleared}get(){return this.page}getWithoutFlashData(){return{...this.page,flash:{}}}hasOnceProps(){return Object.keys(this.page.onceProps??{}).length>0}merge(e){this.page={...this.page,...e}}setFlash(e){this.page={...this.page,flash:e},this.onFlashCallback?.(e)}setUrlHash(e){this.page.url.includes(e)||(this.page.url+=e)}remember(e){this.page.rememberedState=e}swap({component:e,page:t,preserveState:n,viewTransition:r}){const i=()=>this.swapComponent({component:e,page:t,preserveState:n});if(!r||!document?.startViewTransition)return i();const a="boolean"==typeof r?()=>null:r;return new Promise(e=>{const t=document.startViewTransition(()=>i().then(e));a(t)})}resolve(e){return Promise.resolve(this.resolveComponent(e))}isTheSame(e){return this.page.component===e.component}on(e,t){return this.listeners.push({event:e,callback:t}),()=>{this.listeners=this.listeners.filter(n=>n.event!==e&&n.callback!==t)}}fireEventsFor(e){this.listeners.filter(t=>t.event===e).forEach(e=>e.callback())}mergeOncePropsIntoResponse(e,{force:t=!1}={}){Object.entries(e.onceProps??{}).forEach(([n,r])=>{const i=this.page.onceProps?.[n];void 0!==i&&(t||void 0===e.props[r.prop])&&(e.props[r.prop]=this.page.props[i.prop],e.onceProps[n].expiresAt=i.expiresAt)})}},oy=class{constructor(){this.items=[],this.processingPromise=null}add(e){return this.items.push(e),this.process()}process(){return this.processingPromise??(this.processingPromise=this.processNext().finally(()=>{this.processingPromise=null})),this.processingPromise}processNext(){const e=this.items.shift();return e?Promise.resolve(e()).then(()=>this.processNext()):Promise.resolve()}},sy="undefined"==typeof window,ly=new oy,cy=!sy&&/CriOS/.test(window.navigator.userAgent);"undefined"!=typeof window&&window.history.scrollRestoration&&(window.history.scrollRestoration="manual");var uy=new class{constructor(){this.rememberedState="rememberedState",this.scrollRegions="scrollRegions",this.preserveUrl=!1,this.current={},this.initialState=null}remember(e,t){this.replaceState({...ay.getWithoutFlashData(),rememberedState:{...ay.get()?.rememberedState??{},[t]:e}})}restore(e){if(!sy)return void 0!==this.current[this.rememberedState]?.[e]?this.current[this.rememberedState]?.[e]:this.initialState?.[this.rememberedState]?.[e]}pushState(e,t=null){sy||(this.preserveUrl?t&&t():(this.current=e,ly.add(()=>this.getPageData(e).then(n=>{const r=()=>this.doPushState({page:n},e.url).then(()=>t?.());return cy?new Promise(e=>{setTimeout(()=>r().then(e))}):r()}))))}clonePageProps(e){try{return structuredClone(e.props),e}catch{return{...e,props:$d(e.props)}}}getPageData(e){const t=this.clonePageProps(e);return new Promise(n=>e.encryptHistory?(async e=>{if("undefined"==typeof window)throw new Error("Unable to encrypt history");const t=Ov(),n=await Fv(),r=await Dv(n);if(!r)throw new Error("Unable to encrypt history");return await Lv(t,r,e)})(t).then(n):n(t))}processQueue(){return ly.process()}decrypt(e=null){if(sy)return Promise.resolve(e??ay.get());const t=e??window.history.state?.page;return this.decryptPageData(t).then(e=>{if(!e)throw new Error("Unable to decrypt history");return null===this.initialState?this.initialState=e??void 0:this.current=e??{},e})}decryptPageData(e){return e instanceof ArrayBuffer?(async e=>{const t=Ov(),n=await Fv();if(!n)throw new Error("Unable to decrypt history");return await Iv(t,n,e)})(e):Promise.resolve(e)}saveScrollPositions(e){ly.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!Th(this.getScrollRegions(),e))return this.doReplaceState({page:window.history.state.page,scrollRegions:e})}))}saveDocumentScrollPosition(e){ly.add(()=>Promise.resolve().then(()=>{if(window.history.state?.page&&!Th(this.getDocumentScrollPosition(),e))return this.doReplaceState({page:window.history.state.page,documentScrollPosition:e})}))}getScrollRegions(){return window.history.state?.scrollRegions||[]}getDocumentScrollPosition(){return window.history.state?.documentScrollPosition||{top:0,left:0}}replaceState(e,t=null){Th(this.current,e)?t&&t():(ay.merge(e),sy||(this.preserveUrl?t&&t():(this.current=e,ly.add(()=>this.getPageData(e).then(n=>{const r=()=>this.doReplaceState({page:n},e.url).then(()=>t?.());return cy?new Promise(e=>{setTimeout(()=>r().then(e))}):r()})))))}isHistoryThrottleError(e){return e instanceof Error&&"SecurityError"===e.name&&(e.message.includes("history.pushState")||e.message.includes("history.replaceState"))}isQuotaExceededError(e){return e instanceof Error&&"QuotaExceededError"===e.name}withThrottleProtection(e){return Promise.resolve().then(()=>{try{return e()}catch(t){if(!this.isHistoryThrottleError(t))throw t}})}doReplaceState(e,t){return this.withThrottleProtection(()=>{window.history.replaceState({...e,scrollRegions:e.scrollRegions??window.history.state?.scrollRegions,documentScrollPosition:e.documentScrollPosition??window.history.state?.documentScrollPosition},"",t)})}doPushState(e,t){return this.withThrottleProtection(()=>{try{window.history.pushState(e,"",t)}catch(n){if(!this.isQuotaExceededError(n))throw n;dy.fireInternalEvent("historyQuotaExceeded",t)}})}getState(e,t){return this.current?.[e]??t}deleteState(e){void 0!==this.current[e]&&(delete this.current[e],this.replaceState(this.current))}clearInitialState(e){this.initialState&&void 0!==this.initialState[e]&&delete this.initialState[e]}browserHasHistoryEntry(){return!sy&&!!window.history.state?.page}clear(){Rv.remove(Nv),Rv.remove(kv)}setCurrent(e){this.current=e}isValidState(e){return!!e.page}getAllState(){return this.current}},dy=new class{constructor(){this.internalListeners=[]}init(){"undefined"!=typeof window&&(window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),window.addEventListener("scroll",Ev(Hv.onWindowScroll.bind(Hv),100),!0)),"undefined"!=typeof document&&document.addEventListener("scroll",Ev(Hv.onScroll.bind(Hv),100),!0)}onGlobalEvent(e,t){return this.registerListener(`inertia:${e}`,e=>{const n=t(e);e.cancelable&&!e.defaultPrevented&&!1===n&&e.preventDefault()})}on(e,t){return this.internalListeners.push({event:e,listener:t}),()=>{this.internalListeners=this.internalListeners.filter(e=>e.listener!==t)}}onMissingHistoryItem(){ay.clear(),this.fireInternalEvent("missingHistoryItem")}fireInternalEvent(e,...t){this.internalListeners.filter(t=>t.event===e).forEach(e=>e.listener(...t))}registerListener(e,t){return document.addEventListener(e,t),()=>document.removeEventListener(e,t)}handlePopstateEvent(e){const t=e.state||null;if(null===t){const e=Kv(ay.get().url);return e.hash=window.location.hash,uy.replaceState({...ay.getWithoutFlashData(),url:e.href}),void Hv.reset()}if(!uy.isValidState(t))return this.onMissingHistoryItem();uy.decrypt(t.page).then(e=>{ay.get().version===e.version?(_b.cancelAll(),ay.setQuietly(e,{preserveState:!1}).then(()=>{Hv.restore(uy.getScrollRegions()),Cv(ay.get())})):this.onMissingHistoryItem()}).catch(()=>{this.onMissingHistoryItem()})}},hy=new class{constructor(){this.type=this.resolveType()}resolveType(){return"undefined"==typeof window?"navigate":window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}get(){return this.type}isBackForward(){return"back_forward"===this.type}isReload(){return"reload"===this.type}},fy=class{static handle(){this.clearRememberedStateOnReload(),[this.handleBackForward,this.handleLocation,this.handleDefault].find(e=>e.bind(this)())}static clearRememberedStateOnReload(){hy.isReload()&&(uy.deleteState(uy.rememberedState),uy.clearInitialState(uy.rememberedState))}static handleBackForward(){if(!hy.isBackForward()||!uy.browserHasHistoryEntry())return!1;const e=uy.getScrollRegions();return uy.decrypt().then(t=>{ay.set(t,{preserveScroll:!0,preserveState:!0}).then(()=>{Hv.restore(e),Cv(ay.get())})}).catch(()=>{dy.onMissingHistoryItem()}),!0}static handleLocation(){if(!Rv.exists(Rv.locationVisitKey))return!1;const e=Rv.get(Rv.locationVisitKey)||{};return Rv.remove(Rv.locationVisitKey),"undefined"!=typeof window&&ay.setUrlHash(window.location.hash),uy.decrypt(ay.get()).then(()=>{const t=uy.getState(uy.rememberedState,{}),n=uy.getScrollRegions();ay.remember(t),ay.set(ay.get(),{preserveScroll:e.preserveScroll,preserveState:!0}).then(()=>{e.preserveScroll&&Hv.restore(n),Cv(ay.get())})}).catch(()=>{dy.onMissingHistoryItem()}),!0}static handleDefault(){"undefined"!=typeof window&&ay.setUrlHash(window.location.hash),ay.set(ay.get(),{preserveScroll:!0,preserveState:!0}).then(()=>{hy.isReload()?Hv.restore(uy.getScrollRegions()):Hv.scrollToAnchor();const e=ay.get();Cv(e);const t=e.flash;Object.keys(t).length>0&&queueMicrotask(()=>Pv(t))})}},py=class{constructor(e,t,n){this.id=null,this.throttle=!1,this.keepAlive=!1,this.cbCount=0,this.keepAlive=n.keepAlive??!1,this.cb=t,this.interval=e,(n.autoStart??1)&&this.start()}stop(){this.id&&clearInterval(this.id)}start(){"undefined"!=typeof window&&(this.stop(),this.id=window.setInterval(()=>{this.throttle&&this.cbCount%10!=0||this.cb(),this.throttle&&this.cbCount++},this.interval))}isInBackground(e){this.throttle=!this.keepAlive&&e,this.throttle&&(this.cbCount=0)}},my=new class{constructor(){this.polls=[],this.setupVisibilityListener()}add(e,t,n){const r=new py(e,t,n);return this.polls.push(r),{stop:()=>r.stop(),start:()=>r.start()}}clear(){this.polls.forEach(e=>e.stop()),this.polls=[]}setupVisibilityListener(){"undefined"!=typeof document&&document.addEventListener("visibilitychange",()=>{this.polls.forEach(e=>e.isInBackground(document.hidden))},!1)}},gy=class e{constructor(e){if(this.callbacks=[],e.prefetch){const t={onBefore:this.wrapCallback(e,"onBefore"),onBeforeUpdate:this.wrapCallback(e,"onBeforeUpdate"),onStart:this.wrapCallback(e,"onStart"),onProgress:this.wrapCallback(e,"onProgress"),onFinish:this.wrapCallback(e,"onFinish"),onCancel:this.wrapCallback(e,"onCancel"),onSuccess:this.wrapCallback(e,"onSuccess"),onError:this.wrapCallback(e,"onError"),onFlash:this.wrapCallback(e,"onFlash"),onCancelToken:this.wrapCallback(e,"onCancelToken"),onPrefetched:this.wrapCallback(e,"onPrefetched"),onPrefetching:this.wrapCallback(e,"onPrefetching")};this.params={...e,...t,onPrefetchResponse:e.onPrefetchResponse||(()=>{}),onPrefetchError:e.onPrefetchError||(()=>{})}}else this.params=e}static create(t){return new e(t)}data(){return"get"===this.params.method?null:this.params.data}queryParams(){return"get"===this.params.method?this.params.data:{}}isPartial(){return this.params.only.length>0||this.params.except.length>0||this.params.reset.length>0}isDeferredPropsRequest(){return!0===this.params.deferredProps}onCancelToken(e){this.params.onCancelToken({cancel:e})}markAsFinished(){this.params.completed=!0,this.params.cancelled=!1,this.params.interrupted=!1}markAsCancelled({cancelled:e=!0,interrupted:t=!1}){this.params.onCancel(),this.params.completed=!1,this.params.cancelled=e,this.params.interrupted=t}wasCancelledAtAll(){return this.params.cancelled||this.params.interrupted}onFinish(){this.params.onFinish(this.params)}onStart(){this.params.onStart(this.params)}onPrefetching(){this.params.onPrefetching(this.params)}onPrefetchResponse(e){this.params.onPrefetchResponse&&this.params.onPrefetchResponse(e)}onPrefetchError(e){this.params.onPrefetchError&&this.params.onPrefetchError(e)}all(){return this.params}headers(){const e={...this.params.headers};this.isPartial()&&(e["X-Inertia-Partial-Component"]=ay.get().component);const t=this.params.only.concat(this.params.reset);return t.length>0&&(e["X-Inertia-Partial-Data"]=t.join(",")),this.params.except.length>0&&(e["X-Inertia-Partial-Except"]=this.params.except.join(",")),this.params.reset.length>0&&(e["X-Inertia-Reset"]=this.params.reset.join(",")),this.params.errorBag&&this.params.errorBag.length>0&&(e["X-Inertia-Error-Bag"]=this.params.errorBag),e}setPreserveOptions(t){this.params.preserveScroll=e.resolvePreserveOption(this.params.preserveScroll,t),this.params.preserveState=e.resolvePreserveOption(this.params.preserveState,t)}runCallbacks(){this.callbacks.forEach(({name:e,args:t})=>{this.params[e](...t)})}merge(e){this.params={...this.params,...e}}wrapCallback(e,t){return(...n)=>{this.recordCallback(t,n),e[t](...n)}}recordCallback(e,t){this.callbacks.push({name:e,args:t})}static resolvePreserveOption(e,t){return"function"==typeof e?e(t):"errors"===e?Object.keys(t.props.errors||{}).length>0:e}},vy={modal:null,listener:null,createIframeAndPage(e){"object"==typeof e&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);const t=document.createElement("html");t.innerHTML=e,t.querySelectorAll("a").forEach(e=>e.setAttribute("target","_top"));const n=document.createElement("iframe");return n.style.backgroundColor="white",n.style.borderRadius="5px",n.style.width="100%",n.style.height="100%",{iframe:n,page:t}},show(e){const{iframe:t,page:n}=this.createIframeAndPage(e);if(this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide()),this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(n.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){27===e.keyCode&&this.hide()}},yy={show(e){const{iframe:t,page:n}=vy.createIframeAndPage(e);t.style.boxSizing="border-box",t.style.display="block";const r=document.createElement("dialog");r.id="inertia-error-dialog",Object.assign(r.style,{width:"calc(100vw - 100px)",height:"calc(100vh - 100px)",padding:"0",margin:"auto",border:"none",backgroundColor:"transparent"});const i=document.createElement("style");if(i.textContent="\n      dialog#inertia-error-dialog::backdrop {\n        background-color: rgba(0, 0, 0, 0.6);\n      }\n\n      dialog#inertia-error-dialog:focus {\n        outline: none;\n      }\n    ",document.head.appendChild(i),r.addEventListener("click",e=>{e.target===r&&r.close()}),r.addEventListener("close",()=>{i.remove(),r.remove()}),r.appendChild(t),document.body.prepend(r),r.showModal(),r.focus(),!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(n.outerHTML),t.contentWindow.document.close()}},by=new oy,xy=class e{constructor(e,t,n){this.requestParams=e,this.response=t,this.originatingPage=n,this.wasPrefetched=!1}static create(t,n,r){return new e(t,n,r)}async handlePrefetch(){ty(this.requestParams.all().url,window.location)&&this.handle()}async handle(){return by.add(()=>this.process())}async process(){if(this.requestParams.all().prefetch)return this.wasPrefetched=!0,this.requestParams.all().prefetch=!1,this.requestParams.all().onPrefetched(this.response,this.requestParams.all()),e=this.response,t=this.requestParams.all(),Tv("prefetched",{detail:{fetchedAt:Date.now(),response:e.data,visit:t}}),Promise.resolve();var e,t;if(this.requestParams.runCallbacks(),!this.isInertiaResponse())return this.handleNonInertiaResponse();await uy.processQueue(),uy.preserveUrl=this.requestParams.all().preserveUrl;const n=ay.get().flash;await this.setPage();const r=ay.get().props.errors||{};if(Object.keys(r).length>0){const e=this.getScopedErrors(r);return(e=>{Tv("error",{detail:{errors:e}})})(e),this.requestParams.all().onError(e)}_b.flushByCacheTags(this.requestParams.all().invalidateCacheTags||[]),this.wasPrefetched||_b.flush(ay.get().url);const{flash:i}=ay.get();!(Object.keys(i).length>0)||this.requestParams.isPartial()&&Th(i,n)||(Pv(i),this.requestParams.all().onFlash(i)),Tv("success",{detail:{page:ay.get()}}),await this.requestParams.all().onSuccess(ay.get()),uy.preserveUrl=!1}mergeParams(e){this.requestParams.merge(e)}getPageResponse(){const e=this.getDataFromResponse(this.response.data);return this.response.data={...e,flash:e.flash??{}}}async handleNonInertiaResponse(){if(this.isLocationVisit()){const e=Kv(this.getHeader("x-inertia-location"));return ey(this.requestParams.all().url,e),this.locationVisit(e)}const e={...this.response,data:this.getDataFromResponse(this.response.data)};if((e=>Tv("invalid",{cancelable:!0,detail:{response:e}}))(e))return Mv.get("future.useDialogForErrorModal")?yy.show(e.data):vy.show(e.data)}isInertiaResponse(){return this.hasHeader("x-inertia")}hasStatus(e){return this.response.status===e}getHeader(e){return this.response.headers[e]}hasHeader(e){return void 0!==this.getHeader(e)}isLocationVisit(){return this.hasStatus(409)&&this.hasHeader("x-inertia-location")}locationVisit(e){try{if(Rv.set(Rv.locationVisitKey,{preserveScroll:!0===this.requestParams.all().preserveScroll}),"undefined"==typeof window)return;ty(window.location,e)?window.location.reload():window.location.href=e.href}catch(t){return!1}}async setPage(){const e=this.getPageResponse();return this.shouldSetPage(e)?(this.mergeProps(e),ay.mergeOncePropsIntoResponse(e),this.preserveEqualProps(e),await this.setRememberedState(e),this.requestParams.setPreserveOptions(e),e.url=uy.preserveUrl?ay.get().url:this.pageUrl(e),this.requestParams.all().onBeforeUpdate(e),Tv("beforeUpdate",{detail:{page:e}}),ay.set(e,{replace:this.requestParams.all().replace,preserveScroll:this.requestParams.all().preserveScroll,preserveState:this.requestParams.all().preserveState,viewTransition:this.requestParams.all().viewTransition})):Promise.resolve()}getDataFromResponse(e){if("string"!=typeof e)return e;try{return JSON.parse(e)}catch(t){return e}}shouldSetPage(e){if(!this.requestParams.all().async)return!0;if(this.originatingPage.component!==e.component)return!0;if(this.originatingPage.component!==ay.get().component)return!1;const t=Kv(this.originatingPage.url),n=Kv(ay.get().url);return t.origin===n.origin&&t.pathname===n.pathname}pageUrl(e){const t=Kv(e.url);return ey(this.requestParams.all().url,t),t.pathname+t.search+t.hash}preserveEqualProps(e){if(e.component!==ay.get().component||!0!==Mv.get("future.preserveEqualProps"))return;const t=ay.get().props;Object.entries(e.props).forEach(([n,r])=>{Th(r,t[n])&&(e.props[n]=t[n])})}mergeProps(e){if(!this.requestParams.isPartial()||e.component!==ay.get().component)return;const t=e.mergeProps||[],n=e.prependProps||[],r=e.deepMergeProps||[],i=e.matchPropsOn||[],a=(t,n)=>{const r=Wu(ay.get().props,t),a=Wu(e.props,t);if(Array.isArray(a)){const o=this.mergeOrMatchItems(r||[],a,t,i,n);Oh(e.props,t,o)}else if("object"==typeof a&&null!==a){const n={...r||{},...a};Oh(e.props,t,n)}};if(t.forEach(e=>a(e,!0)),n.forEach(e=>a(e,!1)),r.forEach(t=>{const n=ay.get().props[t],r=e.props[t],a=(e,t,n)=>Array.isArray(t)?this.mergeOrMatchItems(e,t,n,i):"object"==typeof t&&null!==t?Object.keys(t).reduce((r,i)=>(r[i]=a(e?e[i]:void 0,t[i],`${n}.${i}`),r),{...e}):t;e.props[t]=a(n,r,t)}),e.props={...ay.get().props,...e.props},this.requestParams.isDeferredPropsRequest()){const t=ay.get().props.errors;t&&Object.keys(t).length>0&&(e.props.errors=t)}ay.get().scrollProps&&(e.scrollProps={...ay.get().scrollProps||{},...e.scrollProps||{}}),ay.hasOnceProps()&&(e.onceProps={...ay.get().onceProps||{},...e.onceProps||{}}),e.flash={...ay.get().flash,...this.requestParams.isDeferredPropsRequest()?{}:e.flash}}mergeOrMatchItems(e,t,n,r,i=!0){const a=Array.isArray(e)?e:[],o=r.find(e=>e.split(".").slice(0,-1).join(".")===n);if(!o)return i?[...a,...t]:[...t,...a];const s=o.split(".").pop()||"",l=new Map;return t.forEach(e=>{this.hasUniqueProperty(e,s)&&l.set(e[s],e)}),i?this.appendWithMatching(a,t,l,s):this.prependWithMatching(a,t,l,s)}appendWithMatching(e,t,n,r){return[...e.map(e=>this.hasUniqueProperty(e,r)&&n.has(e[r])?n.get(e[r]):e),...t.filter(t=>!this.hasUniqueProperty(t,r)||!e.some(e=>this.hasUniqueProperty(e,r)&&e[r]===t[r]))]}prependWithMatching(e,t,n,r){return[...t,...e.filter(e=>!this.hasUniqueProperty(e,r)||!n.has(e[r]))]}hasUniqueProperty(e,t){return e&&"object"==typeof e&&t in e}async setRememberedState(e){const t=await uy.getState(uy.rememberedState,{});this.requestParams.all().preserveState&&t&&e.component===ay.get().component&&(e.rememberedState=t)}getScopedErrors(e){return this.requestParams.all().errorBag?e[this.requestParams.all().errorBag||""]||{}:e}},_y=class e{constructor(e,t){this.page=t,this.requestHasFinished=!1,this.requestParams=gy.create(e),this.cancelToken=new AbortController}static create(t,n){return new e(t,n)}async send(){this.requestParams.onCancelToken(()=>this.cancel({cancelled:!0})),Tv("start",{detail:{visit:this.requestParams.all()}}),this.requestParams.onStart(),this.requestParams.all().prefetch&&(this.requestParams.onPrefetching(),(e=>{Tv("prefetching",{detail:{visit:e}})})(this.requestParams.all()));const e=this.requestParams.all().prefetch;return sv({method:this.requestParams.all().method,url:Qv(this.requestParams.all().url).href,data:this.requestParams.data(),params:this.requestParams.queryParams(),signal:this.cancelToken.signal,headers:this.getHeaders(),onUploadProgress:this.onProgress.bind(this),responseType:"text"}).then(e=>(this.response=xy.create(this.requestParams,e,this.page),this.response.handle())).catch(e=>e?.response?(this.response=xy.create(this.requestParams,e.response,this.page),this.response.handle()):Promise.reject(e)).catch(t=>{if(!sv.isCancel(t))return Tv("exception",{cancelable:!0,detail:{exception:t}})?(e&&this.requestParams.onPrefetchError(t),Promise.reject(t)):void 0}).finally(()=>{this.finish(),e&&this.response&&this.requestParams.onPrefetchResponse(this.response)})}finish(){this.requestParams.wasCancelledAtAll()||(this.requestParams.markAsFinished(),this.fireFinishEvents())}fireFinishEvents(){this.requestHasFinished||(this.requestHasFinished=!0,Tv("finish",{detail:{visit:this.requestParams.all()}}),this.requestParams.onFinish())}cancel({cancelled:e=!1,interrupted:t=!1}){this.requestHasFinished||(this.cancelToken.abort(),this.requestParams.markAsCancelled({cancelled:e,interrupted:t}),this.fireFinishEvents())}onProgress(e){this.requestParams.data()instanceof FormData&&(e.percentage=e.progress?Math.round(100*e.progress):0,(e=>{Tv("progress",{detail:{progress:e}})})(e),this.requestParams.all().onProgress(e))}getHeaders(){const e={...this.requestParams.headers(),Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0},t=ay.get();t.version&&(e["X-Inertia-Version"]=t.version);const n=Object.entries(t.onceProps||{}).filter(([,e])=>void 0!==t.props[e.prop]&&(!e.expiresAt||e.expiresAt>Date.now())).map(([e])=>e);return n.length>0&&(e["X-Inertia-Except-Once-Props"]=n.join(",")),e}},wy=class{constructor({maxConcurrent:e,interruptible:t}){this.requests=[],this.maxConcurrent=e,this.interruptible=t}send(e){this.requests.push(e),e.send().then(()=>{this.requests=this.requests.filter(t=>t!==e)})}interruptInFlight(){this.cancel({interrupted:!0},!1)}cancelInFlight(){this.cancel({cancelled:!0},!0)}cancel({cancelled:e=!1,interrupted:t=!1}={},n){if(!this.shouldCancel(n))return;const r=this.requests.shift();r?.cancel({interrupted:t,cancelled:e})}shouldCancel(e){return!!e||this.interruptible&&this.requests.length>=this.maxConcurrent}},Sy=class{static createWayfinderCallback(...e){return()=>1===e.length?ny(e[0])?e[0]:e[0]():{method:"function"==typeof e[0]?e[0]():e[0],url:"function"==typeof e[1]?e[1]():e[1]}}static parseUseFormArguments(...e){return 1===e.length?{rememberKey:null,data:e[0],precognitionEndpoint:null}:2===e.length?"string"==typeof e[0]?{rememberKey:e[0],data:e[1],precognitionEndpoint:null}:{rememberKey:null,data:e[1],precognitionEndpoint:this.createWayfinderCallback(e[0])}:{rememberKey:null,data:e[2],precognitionEndpoint:this.createWayfinderCallback(e[0],e[1])}}static parseSubmitArguments(e,t){return 3===e.length||2===e.length&&"string"==typeof e[0]?{method:e[0],url:e[1],options:e[2]??{}}:ny(e[0])?{...e[0],options:e[1]??{}}:{...t(),options:e[0]??{}}}static mergeHeadersForValidation(e,t,n){const r=e=>(e.headers={...n??{},...e.headers??{}},e);return e&&"object"==typeof e&&!("target"in e)?e=r(e):t&&"object"==typeof t?t=r(t):"string"==typeof e?t=r(t??{}):e=r(e??{}),[e,t]}},My=e=>{if(null===e.offsetParent)return!1;const t=e.getBoundingClientRect(),n=t.top<window.innerHeight&&t.bottom>=0,r=t.left<window.innerWidth&&t.right>=0;return n&&r},Ey=(e,t)=>{if(!t)return e.filter(e=>My(e));const n=e.indexOf(t),r=[],i=[];for(let a=n;a>=0;a--){const t=e[a];if(!My(t))break;r.push(t)}for(let a=n+1;a<e.length;a++){const t=e[a];if(!My(t))break;i.push(t)}return[...r.reverse(),...i]},Ty=(e,t=1)=>{window.requestAnimationFrame(()=>{t>1?Ty(e,t-1):e()})};function Ay(e){return e.includes(".")?e.replace(/\\\./g,"__ESCAPED_DOT__").split(/(\[[^\]]*\])/).filter(Boolean).map(e=>e.startsWith("[")&&e.endsWith("]")?e:e.split(".").reduce((e,t,n)=>0===n?t:`${e}[${t}]`)).join("").replace(/__ESCAPED_DOT__/g,"."):e}function Cy(e){const t=[],n=/([^\[\]]+)|\[(\d*)\]/g;let r;for(;null!==(r=n.exec(e));)void 0!==r[1]?t.push(r[1]):void 0!==r[2]&&t.push(""===r[2]?"":Number(r[2]));return t}function Py(e,t,n){let r=e;for(let i=0;i<t.length-1;i++)t[i]in r||(r[t[i]]={}),r=r[t[i]];r[t[t.length-1]]=n}function Ry(e){if(Array.isArray(e))return e.map(Ry);if("object"!=typeof e||null===e||Wv(e))return e;if(function(e){const t=Object.keys(e),n=t.filter(e=>/^\d+$/.test(e)).map(Number).sort((e,t)=>e-t);return t.length===n.length&&n.length>0&&0===n[0]&&n.every((e,t)=>e===t)}(e)){const t=[];for(let n=0;n<Object.keys(e).length;n++)t[n]=Ry(e[n]);return t}const t={};for(const n in e)t[n]=Ry(e[n]);return t}function Ny(e){const t={};for(const[n,r]of e.entries()){if(r instanceof File&&0===r.size&&""===r.name)continue;const e=Cy(Ay(n));if(""===e[e.length-1]){const n=e.slice(0,-1),i=Wu(t,n);if(Array.isArray(i))i.push(r);else if(i&&"object"==typeof i&&!Wv(i)){const e=Object.keys(i).filter(e=>/^\d+$/.test(e)).map(Number).sort((e,t)=>e-t);Oh(t,n,e.length>0?[...e.map(e=>i[e]),r]:[r])}else Oh(t,n,[r]);continue}Py(t,e.map(String),r)}return Ry(t)}var ky={preferredAttribute:()=>Mv.get("future.useDataInertiaHeadAttribute")?"data-inertia":"inertia",buildDOMElement(e){const t=document.createElement("template");t.innerHTML=e;const n=t.content.firstChild;if(!e.startsWith("<script "))return n;const r=document.createElement("script");return r.innerHTML=n.innerHTML,n.getAttributeNames().forEach(e=>{r.setAttribute(e,n.getAttribute(e)||"")}),r},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&null!==e.getAttribute(this.preferredAttribute())},findMatchingElementIndex(e,t){const n=this.preferredAttribute(),r=e.getAttribute(n);return null!==r?t.findIndex(e=>e.getAttribute(n)===r):-1},update:Ev(function(e){const t=e.map(e=>this.buildDOMElement(e));Array.from(document.head.childNodes).filter(e=>this.isInertiaManagedElement(e)).forEach(e=>{const n=this.findMatchingElementIndex(e,t);if(-1===n)return void e?.parentNode?.removeChild(e);const r=t.splice(n,1)[0];r&&!e.isEqualNode(r)&&e?.parentNode?.replaceChild(r,e)}),t.forEach(e=>document.head.appendChild(e))},1)};function Ly(e,t,n){const r={};let i=0;function a(){const e=t(""),n=ky.preferredAttribute(),i={...e?{title:`<title ${n}="">${e}</title>`}:{}},a=Object.values(r).reduce((e,t)=>e.concat(t),[]).reduce((e,r)=>{if(-1===r.indexOf("<"))return e;if(0===r.indexOf("<title ")){const n=r.match(/(<title [^>]+>)(.*?)(<\/title>)/);return e.title=n?`${n[1]}${t(n[2])}${n[3]}`:r,e}const i=r.match("inertia"===n?/ inertia="[^"]+"/:/ data-inertia="[^"]+"/);return i?e[i[0]]=r:e[Object.keys(e).length]=r,e},i);return Object.values(a)}function o(){e?n(a()):ky.update(a())}return o(),{forceUpdate:o,createProvider:function(){const e=function(){const e=i+=1;return r[e]=[],e.toString()}();return{preferredAttribute:ky.preferredAttribute,reconnect:()=>function(e){-1===Object.keys(r).indexOf(e)&&(r[e]=[])}(e),update:t=>function(e,t=[]){null!==e&&Object.keys(r).indexOf(e)>-1&&(r[e]=t),o()}(e,t),disconnect:()=>function(e){null!==e&&-1!==Object.keys(r).indexOf(e)&&(delete r[e],o())}(e)}}}}var Iy,Oy,Dy="X-Inertia-Infinite-Scroll-Merge-Intent",Fy=e=>{const t=()=>{const t=ay.get().scrollProps?.[e.getPropName()];if(t)return t;throw new Error(`The page object does not contain a scroll prop named "${e.getPropName()}".`)},n={component:null,loading:!1,previousPage:null,nextPage:null,lastLoadedPage:null,requestCount:0},r=()=>{const e=t();n.component=ay.get().component,n.loading=!1,n.previousPage=e.previousPage,n.nextPage=e.nextPage,n.lastLoadedPage=e.currentPage,n.requestCount=0},i=()=>`inertia:infinite-scroll-data:${e.getPropName()}`;if("undefined"!=typeof window){r();const e=_b.restore(i());e&&"object"==typeof e&&e.lastLoadedPage===t().currentPage&&(n.previousPage=e.previousPage,n.nextPage=e.nextPage,n.lastLoadedPage=e.lastLoadedPage,n.requestCount=e.requestCount||0)}const a=_b.on("success",i=>{n.component===i.detail.page.component&&t().reset&&(r(),e.onReset?.())}),o=e=>"next"===e?"nextPage":"previousPage",s=()=>t().pageName,l=(r,a={})=>{const l=(e=>{const t=o(e);return n[t]})(r);n.loading||null===l||(n.loading=!0,_b.reload({...a,data:{[s()]:l},only:[e.getPropName()],preserveUrl:!0,headers:{[Dy]:"previous"===r?"prepend":"append",...a.headers},onBefore:t=>{"next"===r?e.onBeforeNextRequest():e.onBeforePreviousRequest(),a.onBefore?.(t)},onBeforeUpdate:t=>{e.onBeforeUpdate(),a.onBeforeUpdate?.(t)},onSuccess:e=>{(e=>{const r=t(),a=o(e);n.lastLoadedPage=r.currentPage,n[a]=r[a],n.requestCount+=1,_b.remember({previousPage:n.previousPage,nextPage:n.nextPage,lastLoadedPage:n.lastLoadedPage,requestCount:n.requestCount},i())})(r),a.onSuccess?.(e)},onFinish:t=>{n.loading=!1,"next"===r?e.onCompleteNextRequest(n.lastLoadedPage):e.onCompletePreviousRequest(n.lastLoadedPage),a.onFinish?.(t)}}))};return{getLastLoadedPage:()=>n.lastLoadedPage,getPageName:s,getRequestCount:()=>n.requestCount,hasPrevious:()=>!!n.previousPage,hasNext:()=>!!n.nextPage,fetchNext:e=>l("next",e),fetchPrevious:e=>l("previous",e),removeEventListener:a}},Uy="infiniteScrollPage",jy="infiniteScrollIgnore",zy=e=>e.dataset[Uy],By=e=>{const t=(()=>{const e=[];return{new:(t,n={})=>{const r=new IntersectionObserver(e=>{for(const n of e)n.isIntersecting&&t(n)},n);return e.push(r),r},flushAll:()=>{e.forEach(e=>e.disconnect()),e.length=0}}})();let n,r,i,a,o=!1;const s=()=>{o&&l();const t=e.getStartElement(),n=e.getEndElement();t&&e.shouldFetchPrevious()&&r.observe(t),n&&e.shouldFetchNext()&&i.observe(n),o=!0},l=()=>{o&&(r.disconnect(),i.disconnect(),o=!1)},c=new Set,u=e=>!(Uy in e.dataset)&&!(jy in e.dataset);let d=!1;const h=()=>`inertia:infinite-scroll-elements:${e.getPropName()}`,f=()=>{const t={},n=e.getItemsElement().childNodes;for(let e=0;e<n.length;e++){const r=n[e];if(r.nodeType!==Node.ELEMENT_NODE)continue;const i=zy(r);void 0!==i&&(i in t?t[i].to=e:t[i]={from:e,to:e})}_b.remember(t,h())},p=Ev(f,250),m=()=>{const t=_b.restore(h());if(!t||"object"!=typeof t)return!1;const r=e.getItemsElement().childNodes;for(let e=0;e<r.length;e++){const i=r[e];if(i.nodeType!==Node.ELEMENT_NODE)continue;const a=i;let o;for(const[n,r]of Object.entries(t))if(e>=r.from&&e<=r.to){o=n;break}if(o)a.dataset[Uy]=o;else{if(!u(a))continue;a.dataset[jy]="true"}n.observe(a)}return!0};return{setupObservers:()=>{a=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&c.add(e)})}),p()}),a.observe(e.getItemsElement(),{childList:!0}),n=t.new(t=>e.onItemIntersected(t.target));const o={root:e.getScrollableParent(),rootMargin:`${Math.max(1,e.getTriggerMargin())}px`};r=t.new(e.onPreviousTriggered,o),i=t.new(e.onNextTriggered,o)},enableTriggers:s,disableTriggers:l,refreshTriggers:()=>{o&&s()},flushAll:()=>{l(),t.flushAll(),a?.disconnect()},processManuallyAddedElements:()=>{Array.from(c).forEach(e=>{u(e)&&(e.dataset[jy]="true"),n.observe(e)}),c.clear()},processServerLoadedElements:t=>{var r;!d&&(d=!0,m())||((r=e.getItemsElement(),Array.from(r.querySelectorAll(":scope > *:not([data-infinite-scroll-page]):not([data-infinite-scroll-ignore])"))).forEach(e=>{u(e)&&(e.dataset[Uy]=t?.toString()||"1"),n.observe(e)}),f())}}},Vy=new oy,Hy=null,Wy=e=>{let t=!0;return{onItemIntersected:Ev(n=>{const r=e.getItemsElement();if(!t||e.shouldPreserveUrl()||!n||!r)return;const i=new Map,a=[...r.children];Ey(a,n).forEach(e=>{const t=zy(e)??"1";i.has(t)?i.set(t,i.get(t)+1):i.set(t,1)});const o=Array.from(i.entries()).sort((e,t)=>t[1]-e[1]),s=o[0]?.[0];var l;void 0!==s&&(l=s,Vy.add(()=>new Promise(n=>{if(!t)return Iy=Oy=null,n();if(!Iy||!Oy){const e=ay.get().url;Iy=Kv(e),Oy=Kv(e),Hy=ry(e)}const r=e.getPageName(),i=Oy.searchParams;"1"===l?i.delete(r):i.set(r,l),setTimeout(()=>n())})).finally(()=>{t&&Iy&&Oy&&Iy.href!==Oy.href&&null!==Hy&&_b.replace({url:iy(Oy,Hy),preserveScroll:!0,preserveState:!0}),Iy=Oy=Hy=null}))},250),cancel:()=>t=!1}};function Gy(e){const t=Wy({...e,getPageName:()=>i.getPageName()}),n=(e=>({createCallbacks:()=>{let t,n=null,r=0;return{captureScrollPosition:()=>{const i=e.getScrollableParent(),a=e.getItemsElement();t=i?.scrollTop||window.scrollY;const o=Ey([...a.children]);if(o.length>0){n=o[0];const e=i?.getBoundingClientRect()||{top:0},t=i?e.top:0,a=n.getBoundingClientRect();r=a.top-t}},restoreScrollPosition:()=>{if(!n)return;let i=0,a=!1;const o=()=>{if(i++,a||i>10)return!1;const s=e.getScrollableParent(),l=s?.getBoundingClientRect()||{top:0},c=s?l.top:0,u=n.getBoundingClientRect().top-c-r;0!==u?(s?s.scrollTo({top:t+u}):window.scrollTo(0,window.scrollY+u),a=!0):window.requestAnimationFrame(o)};window.requestAnimationFrame(o)}}}}))(e),r=By({...e,onItemIntersected:t.onItemIntersected,onPreviousTriggered:()=>i.fetchPrevious(),onNextTriggered:()=>i.fetchNext()}),i=Fy({...e,onBeforeUpdate:r.processManuallyAddedElements,onCompletePreviousRequest:t=>{e.onCompletePreviousRequest(),Ty(()=>r.processServerLoadedElements(t),2)},onCompleteNextRequest:t=>{e.onCompleteNextRequest(),Ty(()=>r.processServerLoadedElements(t),2)},onReset:e.onDataReset}),a=e=>{const{captureScrollPosition:t,restoreScrollPosition:r}=n.createCallbacks(),i=e.onBeforeUpdate||(()=>{}),a=e.onSuccess||(()=>{});return e.onBeforeUpdate=e=>{i(e),t()},e.onSuccess=e=>{a(e),r()},e},o=i.fetchNext;i.fetchNext=(t={})=>{e.inReverseMode()&&(t=a(t)),o(t)};const s=i.fetchPrevious;i.fetchPrevious=(t={})=>{e.inReverseMode()||(t=a(t)),s(t)};const l=_b.on("success",()=>Ty(r.refreshTriggers,2));return{dataManager:i,elementManager:r,flush:()=>{l(),i.removeEventListener(),r.flushAll(),t.cancel()}}}function qy(e){return e.target instanceof HTMLElement&&e.target.isContentEditable||e.defaultPrevented}function Xy(e){const t="a"===e.currentTarget.tagName.toLowerCase();return!(qy(e)||t&&e.altKey||t&&e.ctrlKey||t&&e.metaKey||t&&e.shiftKey||t&&"button"in e&&0!==e.button)}function $y(e){const t="button"===e.currentTarget.tagName.toLowerCase();return!qy(e)&&("Enter"===e.key||t&&" "===e.key)}var Yy,Ky="nprogress",Zy={minimum:.08,easing:"linear",positionUsing:"translate3d",speed:200,trickle:!0,trickleSpeed:200,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",color:"#29d",includeCSS:!0,template:['<div class="bar" role="bar">','<div class="peg"></div>',"</div>",'<div class="spinner" role="spinner">','<div class="spinner-icon"></div>',"</div>"].join("")},Jy=null,Qy=e=>{const t=eb();e=lb(e,Zy.minimum,1),Jy=1===e?null:e;const n=rb(!t),r=n.querySelector(Zy.barSelector),i=Zy.speed,a=Zy.easing;n.offsetWidth,ub(t=>{const o="translate3d"===Zy.positionUsing?{transition:`all ${i}ms ${a}`,transform:`translate3d(${cb(e)}%,0,0)`}:"translate"===Zy.positionUsing?{transition:`all ${i}ms ${a}`,transform:`translate(${cb(e)}%,0)`}:{marginLeft:`${cb(e)}%`};for(const e in o)r.style[e]=o[e];if(1!==e)return setTimeout(t,i);n.style.transition="none",n.style.opacity="1",n.offsetWidth,setTimeout(()=>{n.style.transition=`all ${i}ms linear`,n.style.opacity="0",setTimeout(()=>{ab(),n.style.transition="",n.style.opacity="",t()},i)},i)})},eb=()=>"number"==typeof Jy,tb=()=>{Jy||Qy(0);const e=function(){setTimeout(function(){Jy&&(nb(),e())},Zy.trickleSpeed)};Zy.trickle&&e()},nb=e=>{const t=Jy;return null===t?tb():t>1?void 0:(e="number"==typeof e?e:(()=>{const e={.1:[0,.2],.04:[.2,.5],.02:[.5,.8],.005:[.8,.99]};for(const n in e)if(t>=e[n][0]&&t<e[n][1])return parseFloat(n);return 0})(),Qy(lb(t+e,0,.994)))},rb=e=>{if(ob())return document.getElementById(Ky);document.documentElement.classList.add(`${Ky}-busy`);const t=Yy.querySelector(Zy.barSelector),n=e?"-100":cb(Jy||0),r=ib();return t.style.transition="all 0 linear",t.style.transform=`translate3d(${n}%,0,0)`,Zy.showSpinner||Yy.querySelector(Zy.spinnerSelector)?.remove(),r!==document.body&&r.classList.add(`${Ky}-custom-parent`),r.appendChild(Yy),Yy},ib=()=>sb(Zy.parent)?Zy.parent:document.querySelector(Zy.parent),ab=()=>{document.documentElement.classList.remove(`${Ky}-busy`),ib().classList.remove(`${Ky}-custom-parent`),Yy?.remove()},ob=()=>null!==document.getElementById(Ky),sb=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName;function lb(e,t,n){return e<t?t:e>n?n:e}var cb=e=>100*(-1+e),ub=(()=>{const e=[],t=()=>{const n=e.shift();n&&n(t)};return n=>{e.push(n),1===e.length&&t()}})(),db=e=>{const t=document.createElement("style");t.textContent=`\n    #${Ky} {\n      pointer-events: none;\n    }\n\n    #${Ky} .bar {\n      background: ${e};\n\n      position: fixed;\n      z-index: 1031;\n      top: 0;\n      left: 0;\n\n      width: 100%;\n      height: 2px;\n    }\n\n    #${Ky} .peg {\n      display: block;\n      position: absolute;\n      right: 0px;\n      width: 100px;\n      height: 100%;\n      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};\n      opacity: 1.0;\n\n      transform: rotate(3deg) translate(0px, -4px);\n    }\n\n    #${Ky} .spinner {\n      display: block;\n      position: fixed;\n      z-index: 1031;\n      top: 15px;\n      right: 15px;\n    }\n\n    #${Ky} .spinner-icon {\n      width: 18px;\n      height: 18px;\n      box-sizing: border-box;\n\n      border: solid 2px transparent;\n      border-top-color: ${e};\n      border-left-color: ${e};\n      border-radius: 50%;\n\n      animation: ${Ky}-spinner 400ms linear infinite;\n    }\n\n    .${Ky}-custom-parent {\n      overflow: hidden;\n      position: relative;\n    }\n\n    .${Ky}-custom-parent #${Ky} .spinner,\n    .${Ky}-custom-parent #${Ky} .bar {\n      position: absolute;\n    }\n\n    @keyframes ${Ky}-spinner {\n      0%   { transform: rotate(0deg); }\n      100% { transform: rotate(360deg); }\n    }\n  `,document.head.appendChild(t)},hb={configure:e=>{Object.assign(Zy,e),Zy.includeCSS&&db(Zy.color),(Yy=document.createElement("div")).id=Ky,Yy.innerHTML=Zy.template},isStarted:eb,done:e=>{(e||Jy)&&(nb(.3+.5*Math.random()),Qy(1))},set:Qy,remove:ab,start:tb,status:Jy,show:()=>{Yy&&(Yy.style.display="")},hide:()=>{Yy&&(Yy.style.display="none")}},fb=new class{constructor(){this.hideCount=0}start(){hb.start()}reveal(e=!1){this.hideCount=Math.max(0,this.hideCount-1),(e||0===this.hideCount)&&hb.show()}hide(){this.hideCount++,hb.hide()}set(e){hb.set(Math.max(0,Math.min(1,e)))}finish(){hb.done()}reset(){hb.set(0)}remove(){hb.done(),hb.remove()}isStarted(){return hb.isStarted()}getStatus(){return hb.status}};function pb(e){document.addEventListener("inertia:start",t=>function(e,t){e.detail.visit.showProgress||fb.hide();const n=setTimeout(()=>fb.start(),t);document.addEventListener("inertia:finish",e=>function(e,t){clearTimeout(t),fb.isStarted()&&(e.detail.visit.completed?fb.finish():e.detail.visit.interrupted?fb.reset():e.detail.visit.cancelled&&fb.remove())}(e,n),{once:!0})}(t,e)),document.addEventListener("inertia:progress",mb)}function mb(e){fb.isStarted()&&e.detail.progress?.percentage&&fb.set(Math.max(fb.getStatus(),e.detail.progress.percentage/100*.9))}function gb(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}function vb(e,t){if(e.disabled){if(e instanceof HTMLInputElement){const t=e.value,n=e.checked;switch(e.type.toLowerCase()){case"checkbox":case"radio":return e.checked=e.defaultChecked,e.checked!==n;case"file":return e.value="",""!==t;case"button":case"submit":case"reset":case"image":return!1;default:return e.value=e.defaultValue,e.value!==t}}else{if(e instanceof HTMLSelectElement){const t=Array.from(e.selectedOptions).map(e=>e.value);Array.from(e.options).forEach(e=>{e.selected=e.defaultSelected});const n=Array.from(e.selectedOptions).map(e=>e.value);return JSON.stringify(t.sort())!==JSON.stringify(n.sort())}if(e instanceof HTMLTextAreaElement){const t=e.value;return e.value=e.defaultValue,e.value!==t}}return!1}if(e instanceof HTMLInputElement)return function(e,t){const n=e.value,r=e.checked;switch(e.type.toLowerCase()){case"checkbox":e.checked=t.includes(e.value);break;case"radio":e.checked=t[0]===e.value;break;case"file":e.value="";break;case"button":case"submit":case"reset":case"image":break;default:e.value=null!==t[0]&&void 0!==t[0]?String(t[0]):""}return e.value!==n||e.checked!==r}(e,t);if(e instanceof HTMLSelectElement)return function(e,t){const n=e.value,r=Array.from(e.selectedOptions).map(e=>e.value);if(e.multiple){const n=t.map(e=>String(e));Array.from(e.options).forEach(e=>{e.selected=n.includes(e.value)})}else e.value=void 0!==t[0]?String(t[0]):"";const i=Array.from(e.selectedOptions).map(e=>e.value);return e.multiple?JSON.stringify(r.sort())!==JSON.stringify(i.sort()):e.value!==n}(e,t);if(e instanceof HTMLTextAreaElement){const n=e.value;return e.value=void 0!==t[0]?String(t[0]):"",e.value!==n}return!1}function yb(e,t,n){if(!e)return;const r=!n||0===n.length;if(r){const r=new FormData(e),i=Array.from(e.elements).map(e=>gb(e)?e.name:"").filter(Boolean);n=[...new Set([...t.keys(),...r.keys(),...i])]}let i=!1;n.forEach(n=>{const r=e.elements.namedItem(n);r&&function(e,t){let n=!1;return e instanceof RadioNodeList||e instanceof HTMLCollection?Array.from(e).forEach((e,r)=>{e instanceof Element&&gb(e)&&(e instanceof HTMLInputElement&&["checkbox","radio"].includes(e.type.toLowerCase())?vb(e,t)&&(n=!0):vb(e,void 0!==t[r]?[t[r]]:[t[0]??null].filter(Boolean))&&(n=!0))}):gb(e)&&(n=vb(e,t)),n}(r,t.getAll(n))&&(i=!0)}),i&&r&&e.dispatchEvent(new Event("reset",{bubbles:!0}))}fb.reveal,fb.hide;var bb,xb,_b=new class{constructor(){this.syncRequestStream=new wy({maxConcurrent:1,interruptible:!0}),this.asyncRequestStream=new wy({maxConcurrent:1/0,interruptible:!1}),this.clientVisitQueue=new oy}init({initialPage:e,resolveComponent:t,swapComponent:n,onFlash:r}){ay.init({initialPage:e,resolveComponent:t,swapComponent:n,onFlash:r}),fy.handle(),dy.init(),dy.on("missingHistoryItem",()=>{"undefined"!=typeof window&&this.visit(window.location.href,{preserveState:!0,preserveScroll:!0,replace:!0})}),dy.on("loadDeferredProps",e=>{this.loadDeferredProps(e)}),dy.on("historyQuotaExceeded",e=>{window.location.href=e})}get(e,t={},n={}){return this.visit(e,{...n,method:"get",data:t})}post(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"post",data:t})}put(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"put",data:t})}patch(e,t={},n={}){return this.visit(e,{preserveState:!0,...n,method:"patch",data:t})}delete(e,t={}){return this.visit(e,{preserveState:!0,...t,method:"delete"})}reload(e={}){return this.doReload(e)}doReload(e={}){if("undefined"!=typeof window)return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0,async:!0,headers:{...e.headers||{},"Cache-Control":"no-cache"}})}remember(e,t="default"){uy.remember(e,t)}restore(e="default"){return uy.restore(e)}on(e,t){return"undefined"==typeof window?()=>{}:dy.onGlobalEvent(e,t)}cancel(){this.syncRequestStream.cancelInFlight()}cancelAll(){this.asyncRequestStream.cancelInFlight(),this.syncRequestStream.cancelInFlight()}poll(e,t={},n={}){return my.add(e,()=>this.reload(t),{autoStart:n.autoStart??!0,keepAlive:n.keepAlive??!1})}visit(e,t={}){const n=this.getPendingVisit(e,{...t,showProgress:t.showProgress??!t.async}),r=this.getVisitEvents(t);if(!1===r.onBefore(n)||!Av(n))return;const i=n.async?this.asyncRequestStream:this.syncRequestStream;i.interruptInFlight(),ay.isCleared()||n.preserveUrl||Hv.save();const a={...n,...r},o=Vv.get(a);o?(fb.reveal(o.inFlight),Vv.use(o,a)):(fb.reveal(!0),i.send(_y.create(a,ay.get())))}getCached(e,t={}){return Vv.findCached(this.getPrefetchParams(e,t))}flush(e,t={}){Vv.remove(this.getPrefetchParams(e,t))}flushAll(){Vv.removeAll()}flushByCacheTags(e){Vv.removeByTags(Array.isArray(e)?e:[e])}getPrefetching(e,t={}){return Vv.findInFlight(this.getPrefetchParams(e,t))}prefetch(e,t={},n={}){if("get"!==(t.method??(ny(e)?e.method:"get")))throw new Error("Prefetch requests must use the GET method");const r=this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1});if(r.url.origin+r.url.pathname+r.url.search===window.location.origin+window.location.pathname+window.location.search)return;const i=this.getVisitEvents(t);if(!1===i.onBefore(r)||!Av(r))return;fb.hide(),this.asyncRequestStream.interruptInFlight();const a={...r,...i};new Promise(e=>{const t=()=>{ay.get()?e():setTimeout(t,50)};t()}).then(()=>{Vv.add(a,e=>{this.asyncRequestStream.send(_y.create(e,ay.get()))},{cacheFor:Mv.get("prefetch.cacheFor"),cacheTags:[],...n})})}clearHistory(){uy.clear()}decryptHistory(){return uy.decrypt()}resolveComponent(e){return ay.resolve(e)}replace(e){this.clientVisit(e,{replace:!0})}replaceProp(e,t,n){this.replace({preserveScroll:!0,preserveState:!0,props(n){const r="function"==typeof t?t(Wu(n,e),n):t;return Oh($d(n),e,r)},...n||{}})}appendToProp(e,t,n){this.replaceProp(e,(e,n)=>{const r="function"==typeof t?t(e,n):t;return Array.isArray(e)||(e=void 0!==e?[e]:[]),[...e,r]},n)}prependToProp(e,t,n){this.replaceProp(e,(e,n)=>{const r="function"==typeof t?t(e,n):t;return Array.isArray(e)||(e=void 0!==e?[e]:[]),[r,...e]},n)}push(e){this.clientVisit(e)}flash(e,t){const n=ay.get().flash;let r;if("function"==typeof e)r=e(n);else if("string"==typeof e)r={...n,[e]:t};else{if(!e||!Object.keys(e).length)return;r={...n,...e}}ay.setFlash(r),Object.keys(r).length&&Pv(r)}clientVisit(e,{replace:t=!1}={}){this.clientVisitQueue.add(()=>this.performClientVisit(e,{replace:t}))}performClientVisit(e,{replace:t=!1}={}){const n=ay.get(),r="function"==typeof e.props?e.props(n.props):e.props??n.props,i="function"==typeof e.flash?e.flash(n.flash):e.flash,{viewTransition:a,onError:o,onFinish:s,onFlash:l,onSuccess:c,...u}=e,d={...n,...u,flash:i??{},props:r},h=gy.resolvePreserveOption(e.preserveScroll??!1,d),f=gy.resolvePreserveOption(e.preserveState??!1,d);return ay.set(d,{replace:t,preserveScroll:h,preserveState:f,viewTransition:a}).then(()=>{const t=ay.get().flash;Object.keys(t).length>0&&(Pv(t),l?.(t));const n=ay.get().props.errors||{};if(0===Object.keys(n).length)return void c?.(ay.get());const r=e.errorBag?n[e.errorBag||""]||{}:n;o?.(r)}).finally(()=>s?.(e))}getPrefetchParams(e,t){return{...this.getPendingVisit(e,{...t,async:!0,showProgress:!1,prefetch:!0,viewTransition:!1}),...this.getVisitEvents(t)}}getPendingVisit(e,t,n={}){if(ny(e)){const n=e;e=n.url,t.method=t.method??n.method}const r=Mv.get("visitOptions"),i=r&&r(e.toString(),$d(t))||{},a={method:"get",data:{},replace:!1,preserveScroll:!1,preserveState:!1,only:[],except:[],headers:{},errorBag:"",forceFormData:!1,queryStringArrayFormat:"brackets",async:!1,showProgress:!0,fresh:!1,reset:[],preserveUrl:!1,prefetch:!1,invalidateCacheTags:[],viewTransition:!1,...t,...i},[o,s]=Zv(e,a.data,a.method,a.forceFormData,a.queryStringArrayFormat),l={cancelled:!1,completed:!1,interrupted:!1,...a,...n,url:o,data:s};return l.prefetch&&(l.headers.Purpose="prefetch"),l}getVisitEvents(e){return{onCancelToken:e.onCancelToken||(()=>{}),onBefore:e.onBefore||(()=>{}),onBeforeUpdate:e.onBeforeUpdate||(()=>{}),onStart:e.onStart||(()=>{}),onProgress:e.onProgress||(()=>{}),onFinish:e.onFinish||(()=>{}),onCancel:e.onCancel||(()=>{}),onSuccess:e.onSuccess||(()=>{}),onError:e.onError||(()=>{}),onFlash:e.onFlash||(()=>{}),onPrefetched:e.onPrefetched||(()=>{}),onPrefetching:e.onPrefetching||(()=>{})}}loadDeferredProps(e){e&&Object.entries(e).forEach(([e,t])=>{this.doReload({only:t,deferredProps:!0})})}},wb={exports:{}},Sb={};function Mb(){if(bb)return Sb;bb=1;var e=E();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal"),a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return Sb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sb.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},Sb.flushSync=function(e){var t=a.T,n=r.p;try{if(a.T=null,r.p=2,e)return e()}finally{a.T=t,r.p=n,r.d.f()}},Sb.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},Sb.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},Sb.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=o(n,t.crossOrigin),a="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:a,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:a,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},Sb.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=o(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},Sb.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=o(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},Sb.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=o(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},Sb.requestFormReset=function(e){r.d.r(e)},Sb.unstable_batchedUpdates=function(e,t){return e(t)},Sb.useFormState=function(e,t,n){return a.H.useFormState(e,t,n)},Sb.useFormStatus=function(){return a.H.useHostTransitionStatus()},Sb.version="19.2.3",Sb}function Eb(){return xb||(xb=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),wb.exports=Mb()),wb.exports}var Tb=Eb();const Ab=i(Tb);let Cb=sv.create(),Pb=(e,t)=>`${e.method}:${e.baseURL??t.defaults.baseURL??""}${e.url}`,Rb=e=>204===e.status&&"true"===e.headers["precognition-success"];const Nb={},kb={get:(e,t={},n={})=>Ib(Lb("get",e,t,n)),post:(e,t={},n={})=>Ib(Lb("post",e,t,n)),patch:(e,t={},n={})=>Ib(Lb("patch",e,t,n)),put:(e,t={},n={})=>Ib(Lb("put",e,t,n)),delete:(e,t={},n={})=>Ib(Lb("delete",e,t,n)),use:e=>(Cb=e,kb),axios:()=>Cb,fingerprintRequestsUsing:e=>(Pb=null===e?()=>null:e,kb),determineSuccessUsing:e=>(Rb=e,kb)},Lb=(e,t,n,r)=>({url:t,method:e,...r,...["get","delete"].includes(e)?{params:Ch({},n,r?.params)}:{data:Ch({},n,r?.data)}}),Ib=(e={})=>{const t=[Ob,Fb,Ub].reduce((e,t)=>t(e),e);return!1===(t.onBefore??(()=>!0))()?Promise.resolve(null):((t.onStart??(()=>null))(),Cb.request(t).then(async e=>{t.precognitive&&jb(e);const n=e.status;let r=e;return t.precognitive&&t.onPrecognitionSuccess&&Rb(r)&&(r=await Promise.resolve(t.onPrecognitionSuccess(r)??r)),t.onSuccess&&Db(n)&&(r=await Promise.resolve(t.onSuccess(r)??r)),(Bb(t,n)??(e=>e))(r)??r},e=>zb(e)?Promise.reject(e):(t.precognitive&&jb(e.response),(Bb(t,e.response.status)??((e,t)=>Promise.reject(t)))(e.response,e))).finally(t.onFinish??(()=>null)))},Ob=e=>{const t=e.only??e.validate;return{...e,timeout:e.timeout??Cb.defaults.timeout??3e4,precognitive:!1!==e.precognitive,fingerprint:void 0===e.fingerprint?Pb(e,Cb):e.fingerprint,headers:{...e.headers,"Content-Type":Vb(e),...!1!==e.precognitive?{Precognition:!0}:{},...t?{"Precognition-Validate-Only":Array.from(t).join()}:{}}}},Db=e=>e>=200&&e<300,Fb=e=>("string"!=typeof e.fingerprint||(Nb[e.fingerprint]?.abort(),delete Nb[e.fingerprint]),e),Ub=e=>"string"!=typeof e.fingerprint||e.signal||e.cancelToken||!e.precognitive?e:(Nb[e.fingerprint]=new AbortController,{...e,signal:Nb[e.fingerprint].signal}),jb=e=>{if("true"!==e.headers?.precognition)throw Error("Did not receive a Precognition response. Ensure you have the Precognition middleware in place for the route.")},zb=e=>!gv(e)||"number"!=typeof e.response?.status||dv(e),Bb=(e,t)=>({401:e.onUnauthorized,403:e.onForbidden,404:e.onNotFound,409:e.onConflict,422:e.onValidationError,423:e.onLocked}[t]),Vb=e=>e.headers?.["Content-Type"]??e.headers?.["Content-type"]??e.headers?.["content-type"]??(Hb(e.data)?"multipart/form-data":"application/json"),Hb=e=>Wb(e)||"object"==typeof e&&null!==e&&Object.values(e).some(e=>Hb(e)),Wb=e=>"undefined"!=typeof File&&e instanceof File||e instanceof Blob||"undefined"!=typeof FileList&&e instanceof FileList&&e.length>0,Gb=(e,t={})=>{const n={errorsChanged:[],touchedChanged:[],validatingChanged:[],validatedChanged:[]};let r=!1,i=!1;const a=e=>e!==i?(i=e,n.validatingChanged):[];let o=[];const s=e=>{const t=[...new Set(e)];return o.length===t.length&&t.every(e=>o.includes(e))?[]:(o=t,n.validatedChanged)};let l=[];const c=e=>{const t=[...new Set(e)];return l.length===t.length&&t.every(e=>l.includes(e))?[]:(l=t,n.touchedChanged)};let u={};const d=e=>{const t=qb(e);return Th(u,t)?[]:(u=t,n.errorsChanged)};let h=1500,f=t,p=null,m=[],g=null;const v=()=>fh(t=>{e({get:(e,n={},r={})=>kb.get(e,x(n),b(r,t,n)),post:(e,n={},r={})=>kb.post(e,x(n),b(r,t,n)),patch:(e,n={},r={})=>kb.patch(e,x(n),b(r,t,n)),put:(e,n={},r={})=>kb.put(e,x(n),b(r,t,n)),delete:(e,n={},r={})=>kb.delete(e,x(n),b(r,t,n))}).catch(e=>dv(e)||gv(e)&&422===e.response?.status?null:Promise.reject(e))},h,{leading:!0,trailing:!0});let y=v();const b=(e,t,n={})=>{const r={...e,...t},i=Array.from(r.only??r.validate??l);return{...t,...Sv(e,t),only:i,timeout:r.timeout??5e3,onValidationError:(e,t)=>([...s([...o,...i]),...d(Ch(Ih({...u},i),e.data.errors))].forEach(e=>e()),r.onValidationError?r.onValidationError(e,t):Promise.reject(t)),onSuccess:e=>(s([...o,...i]).forEach(e=>e()),r.onSuccess?r.onSuccess(e):e),onPrecognitionSuccess:e=>([...s([...o,...i]),...d(Ih({...u},i))].forEach(e=>e()),r.onPrecognitionSuccess?r.onPrecognitionSuccess(e):e),onBefore:()=>(!r.onBeforeValidation||!1!==r.onBeforeValidation({data:n,touched:l},{data:f,touched:m}))&&(!1!==(r.onBefore||(()=>!0))()&&(g=l,p=n,!0)),onStart:()=>{a(!0).forEach(e=>e()),(r.onStart??(()=>null))()},onFinish:()=>{a(!1).forEach(e=>e()),m=g,f=p,g=p=null,(r.onFinish??(()=>null))()}}},x=e=>!1===r?$b(e):e,_={touched:()=>l,validate:(e,t,n)=>("object"!=typeof e||"target"in e||(n=e,e=t=void 0),((e,t,n)=>{if(void 0===e){const e=Array.from(n?.only??n?.validate??[]);return c([...l,...e]).forEach(e=>e()),void y(n??{})}Wb(t)&&!r||(e=Xb(e),Wu(f,e)!==t&&(c([e,...l]).forEach(e=>e()),y(n??{})))})(e,t,n),_),touch(e){const t=Array.isArray(e)?e:[Xb(e)];return c([...l,...t]).forEach(e=>e()),_},validating:()=>i,valid:()=>o.filter(e=>void 0===u[e]),errors:()=>u,hasErrors:()=>Object.keys(u).length>0,setErrors:e=>(d(e).forEach(e=>e()),_),forgetError:e=>((e=>{const t={...u};return delete t[Xb(e)],d(t)})(e).forEach(e=>e()),_),defaults:e=>(t=e,f=e,_),reset(...e){if(0===e.length)c([]).forEach(e=>e());else{const n=[...l];e.forEach(e=>{n.includes(e)&&n.splice(n.indexOf(e),1),Oh(f,e,Wu(t,e))}),c(n).forEach(e=>e())}return _},setTimeout:e=>((e=>{h=e,y.cancel(),y=v()})(e),_),on:(e,t)=>(n[e].push(t),_),validateFiles:()=>(r=!0,_),withoutFileValidation:()=>(r=!1,_)};return _},qb=e=>Object.keys(e).reduce((t,n)=>({...t,[n]:"string"==typeof e[n]?[e[n]]:e[n]}),{}),Xb=e=>"string"!=typeof e?e.target.name:e,$b=e=>{const t={...e};return Object.keys(t).forEach(e=>{const n=t[e];null!==n&&(Wb(n)?delete t[e]:Array.isArray(n)?t[e]=Object.values($b({...n})):"object"!=typeof n||(t[e]=$b(t[e])))}),t};var Yb=T.createContext(null);Yb.displayName="InertiaHeadContext";var Kb=Yb,Zb=T.createContext(null);Zb.displayName="InertiaPageContext";var Jb=Zb,Qb=!0,ex=!1,tx=async()=>{Qb=!1};function nx({children:e,initialPage:t,initialComponent:n,resolveComponent:r,titleCallback:i,onHeadUpdate:a}){const[o,s]=T.useState({component:n||null,page:{...t,flash:t.flash??{}},key:null}),l=T.useMemo(()=>Ly("undefined"==typeof window,i||(e=>e),a||(()=>{})),[]);if(ex||(_b.init({initialPage:t,resolveComponent:r,swapComponent:async e=>tx(e),onFlash:e=>{s(t=>({...t,page:{...t.page,flash:e}}))}}),ex=!0),T.useEffect(()=>{tx=async({component:e,page:t,preserveState:n})=>{Qb?Qb=!1:Tb.flushSync(()=>s(r=>({component:e,page:t,key:n?r.key:Date.now()})))},_b.on("navigate",()=>l.forceUpdate())},[]),!o.component)return T.createElement(Kb.Provider,{value:l},T.createElement(Jb.Provider,{value:o.page},null));const c=e||(({Component:e,props:t,key:n})=>{const r=T.createElement(e,{key:n,...t});return"function"==typeof e.layout?e.layout(r):Array.isArray(e.layout)?e.layout.concat(r).reverse().reduce((e,n)=>T.createElement(n,{children:e,...t})):r});return T.createElement(Kb.Provider,{value:l},T.createElement(Jb.Provider,{value:o.page},c({Component:o.component,key:o.key,props:o.page.props})))}function rx(){const e="function"==typeof A.use?A.use(Jb):A.useContext(Jb);if(!e)throw new Error("usePage must be used within the Inertia component");return e}function ix(e,t,n){const[r,i]=T.useState(()=>{const n=_b.restore(t);return void 0!==n?n:e});return T.useEffect(()=>{const e=n?.current;if(e&&e.length>0&&"object"==typeof r&&null!==r){const n={...r};e.forEach(e=>delete n[e]),_b.remember(n,t)}else _b.remember(r,t)},[r,t]),[r,i]}function ax(...e){const t=T.useRef(!1),n=Sy.parseUseFormArguments(...e),{rememberKey:r,data:i}=n,a=T.useRef(n.precognitionEndpoint),[o,s]=T.useState($d("function"==typeof i?i():i)),l=T.useRef(null),c=T.useRef(void 0),u=T.useRef([]),[d,h]=r?ix(o,`${r}:data`,u):T.useState(o),[f,p]=r?ix({},`${r}:errors`):T.useState({}),[m,g]=T.useState(!1),[v,y]=T.useState(!1),[b,x]=T.useState(null),[_,w]=T.useState(!1),[S,M]=T.useState(!1),E=T.useRef(e=>e),A=T.useMemo(()=>!Th(d,o),[d,o]),C=T.useRef(null),[P,R]=T.useState(!1),[N,k]=T.useState([]),[L,I]=T.useState([]),O=T.useRef(!1);T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]);const D=T.useRef(!1),F=T.useCallback((...e)=>{const{method:n,url:r,options:i}=Sy.parseSubmitArguments(e,a.current);D.current=!1;const o={...i,onCancelToken:e=>{if(l.current=e,i.onCancelToken)return i.onCancelToken(e)},onBefore:e=>{if(w(!1),M(!1),clearTimeout(c.current),i.onBefore)return i.onBefore(e)},onStart:e=>{if(y(!0),i.onStart)return i.onStart(e)},onProgress:e=>{if(x(e||null),i.onProgress)return i.onProgress(e)},onSuccess:async e=>{t.current&&(y(!1),x(null),p({}),g(!1),w(!0),M(!0),c.current=setTimeout(()=>{t.current&&M(!1)},px.get("form.recentlySuccessfulDuration")));const n=i.onSuccess?await i.onSuccess(e):null;return t.current&&!D.current&&h(e=>(s($d(e)),e)),n},onError:e=>{if(t.current&&(y(!1),x(null),p(e),g(!0)),i.onError)return i.onError(e)},onCancel:()=>{if(t.current&&(y(!1),x(null)),i.onCancel)return i.onCancel()},onFinish:e=>{if(t.current&&(y(!1),x(null)),l.current=null,i.onFinish)return i.onFinish(e)}},u=E.current(d);"delete"===n?_b.delete(r,{...o,data:u}):_b[n](r,u,o)},[d,p,E]),U=T.useCallback((e,t)=>{h("string"==typeof e?n=>Oh($d(n),e,t):"function"==typeof e?t=>e(t):e)},[h]),[j,z]=T.useState(!1),B=T.useRef(d);T.useEffect(()=>{B.current=d});const V=T.useCallback((e,t)=>{D.current=!0;let n={};void 0===e?(n={...B.current},s(B.current),z(!0)):s(r=>(n="string"==typeof e?Oh($d(r),e,t):Object.assign($d(r),e),n)),C.current?.defaults(n)},[s]);var H,W;H=()=>{j&&(A&&s(d),z(!1))},W=[j],"undefined"==typeof window?T.useEffect(H,W):T.useLayoutEffect(H,W);const G=T.useCallback((...e)=>{0===e.length?h(o):h(t=>e.filter(e=>Mh(o,e)).reduce((e,t)=>Oh(e,t,Wu(o,t)),{...t})),C.current?.reset(...e)},[h,o]),q=T.useCallback((e,t)=>{p(n=>{const r={...n,..."string"==typeof e?{[e]:t}:e};return g(Object.keys(r).length>0),C.current?.setErrors(r),r})},[p,g]),X=T.useCallback((...e)=>{p(t=>{const n=Object.keys(t).reduce((n,r)=>({...n,...e.length>0&&!e.includes(r)?{[r]:t[r]}:{}}),{});return g(Object.keys(n).length>0),C.current&&(0===e.length?C.current.setErrors({}):e.forEach(C.current.forgetError)),n})},[p,g]),$=T.useCallback((...e)=>{G(...e),X(...e)},[G,X]),Y=e=>(t,n={})=>{F(e,t,n)},K=T.useCallback(Y("get"),[F]),Z=T.useCallback(Y("post"),[F]),J=T.useCallback(Y("put"),[F]),Q=T.useCallback(Y("patch"),[F]),ee=T.useCallback(Y("delete"),[F]),te=T.useCallback(()=>{l.current&&l.current.cancel()},[]),ne=T.useCallback(e=>{E.current=e},[]),re={data:d,setData:U,isDirty:A,errors:f,hasErrors:m,processing:v,progress:b,wasSuccessful:_,recentlySuccessful:S,transform:ne,setDefaults:V,reset:G,setError:q,clearErrors:X,resetAndClearErrors:$,submit:F,get:K,post:Z,put:J,patch:Q,delete:ee,cancel:te,dontRemember:(...e)=>(u.current=e,re)},ie=(e,t)=>(t(e),e),ae=T.useCallback(e=>L.includes(e),[L]),oe=T.useCallback(e=>e in f,[f]),se=T.useCallback(e=>"string"==typeof e?N.includes(e):N.length>0,[N]),le=(e,t)=>{if("object"!=typeof e||"target"in e||(t=e,e=void 0),void 0===e)C.current.validate(t);else{const n=Xb(e),r=B.current,i=E.current(r);C.current.validate(n,Wu(i,n),t)}return re};return re.withPrecognition=(...e)=>{if(a.current=Sy.createWayfinderCallback(...e),!C.current){const e=Gb(e=>{const{method:t,url:n}=a.current(),r=B.current,i=E.current(r);return e[t](n,i)},$d(o));C.current=e,e.on("validatingChanged",()=>{R(e.validating())}).on("validatedChanged",()=>{I(e.valid())}).on("touchedChanged",()=>{k(e.touched())}).on("errorsChanged",()=>{const t=O.current?e.errors():(e=>Object.keys(e).reduce((t,n)=>({...t,[n]:Array.isArray(e[n])?e[n][0]:e[n]}),{}))(e.errors());p(t),g(Object.keys(t).length>0),I(e.valid())})}const t=Object.assign(re,{validating:P,validator:()=>C.current,valid:ae,invalid:oe,touched:se,withoutFileValidation:()=>ie(t,()=>C.current?.withoutFileValidation()),touch:(e,...n)=>(Array.isArray(e)?C.current?.touch(e):"string"==typeof e?C.current?.touch([e,...n]):C.current?.touch(e),t),withAllErrors:()=>ie(t,()=>O.current=!0),setValidationTimeout:e=>ie(t,()=>C.current?.setTimeout(e)),validateFiles:()=>ie(t,()=>C.current?.validateFiles()),validate:le,setErrors:e=>ie(t,()=>re.setError(e)),forgetError:e=>ie(t,()=>re.clearErrors(Xb(e)))});return t},a.current?re.withPrecognition(a.current):re}nx.displayName="Inertia";var ox=()=>{};T.forwardRef(({action:e="",method:t="get",headers:n={},queryStringArrayFormat:r="brackets",errorBag:i=null,showProgress:a=!0,transform:o=e=>e,options:s={},onStart:l=ox,onProgress:c=ox,onFinish:u=ox,onBefore:d=ox,onCancel:h=ox,onSuccess:f=ox,onError:p=ox,onCancelToken:m=ox,onSubmitComplete:g=ox,disableWhileProcessing:v=!1,resetOnError:y=!1,resetOnSuccess:b=!1,setDefaultsOnSuccess:x=!1,invalidateCacheTags:_=[],validateFiles:w=!1,validationTimeout:S=1500,withAllErrors:M=!1,children:E,...C},P)=>{const R=()=>{const[e,t]=j();return o(t)},N=ax({}).withPrecognition(()=>L,()=>j()[0]).setValidationTimeout(S);w&&N.validateFiles(),M&&N.withAllErrors(),N.transform(R);const k=T.useRef(void 0),L=T.useMemo(()=>ny(e)?e.method:t.toLowerCase(),[e,t]),[I,O]=T.useState(!1),D=T.useRef(new FormData),F=e=>new FormData(k.current,e),U=e=>Ny(F(e)),j=t=>Jv(L,ny(e)?e.url:e,U(t),r),z=e=>{return t=()=>O("reset"!==e.type&&!Th(U(),Ny(D.current))),void("function"==typeof A.startTransition?A.startTransition(t):setTimeout(t,0));var t},B=(...e)=>(N.clearErrors(...e),N);T.useEffect(()=>{D.current=F(),N.setDefaults(U());const e=["input","change","reset"];return e.forEach(e=>k.current.addEventListener(e,z)),()=>{e.forEach(e=>k.current?.removeEventListener(e,z))}},[]),T.useEffect(()=>{N.setValidationTimeout(S)},[S]),T.useEffect(()=>{w?N.validateFiles():N.withoutFileValidation()},[w]);const V=(...e)=>{k.current&&yb(k.current,D.current,e),N.reset(...e)},H=(...e)=>{B(...e),V(...e)},W=e=>{e&&(!0===e?V():e.length>0&&V(...e))},G=e=>{const[t,v]=j(e),w={headers:n,queryStringArrayFormat:r,errorBag:i,showProgress:a,invalidateCacheTags:_,onCancelToken:m,onBefore:d,onStart:l,onProgress:c,onFinish:u,onCancel:h,onSuccess:(...e)=>{f(...e),g({reset:V,defaults:q}),W(b),!0===x&&q()},onError(...e){p(...e),W(y)},...s};N.transform(()=>o(v)),N.submit(L,t,w),N.transform(R)},q=()=>{D.current=F(),O(!1)},X=()=>({errors:N.errors,hasErrors:N.hasErrors,processing:N.processing,progress:N.progress,wasSuccessful:N.wasSuccessful,recentlySuccessful:N.recentlySuccessful,isDirty:I,clearErrors:B,resetAndClearErrors:H,setError:N.setError,reset:V,submit:G,defaults:q,getData:U,getFormData:F,validator:()=>N.validator(),validating:N.validating,valid:N.valid,invalid:N.invalid,validate:(e,t)=>N.validate(...Sy.mergeHeadersForValidation(e,t,n)),touch:N.touch,touched:N.touched});return T.useImperativeHandle(P,X,[N,I,G]),T.createElement("form",{...C,ref:k,action:ny(e)?e.url:e,method:L,onSubmit:e=>{e.preventDefault(),G(e.nativeEvent.submitter)},inert:v&&N.processing&&"true"},"function"==typeof E?E(X()):E)}).displayName="InertiaForm";var sx=function({children:e,title:t}){const n=T.useContext(Kb),r=T.useMemo(()=>n.createProvider(),[n]),i="undefined"==typeof window;function a(e){const t=Object.keys(e.props).reduce((t,n)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(n))return t;const r=String(e.props[n]);return""===r?t+` ${n}`:t+` ${n}="${i=r,(i=zu(i))&&_h.test(i)?i.replace(xh,bh):i}"`;var i},"");return`<${String(e.type)}${t}>`}function o(e){let t=a(e);return e.props.children&&(t+=function(e){const{children:t}=e.props;return"string"==typeof t?t:Array.isArray(t)?t.reduce((e,t)=>e+o(t),""):""}(e)),e.props.dangerouslySetInnerHTML&&(t+=e.props.dangerouslySetInnerHTML.__html),function(e){return"string"==typeof e.type&&["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}(e)||(t+=`</${String(e.type)}>`),t}function s(e){return o(function(e){return A.cloneElement(e,{[r.preferredAttribute()]:void 0!==e.props["head-key"]?e.props["head-key"]:""})}(e))}function l(e){const n=A.Children.toArray(e).filter(e=>e).map(e=>s(e));return t&&!n.find(e=>e.startsWith("<title"))&&n.push(`<title ${r.preferredAttribute()}>${t}</title>`),n}return T.useEffect(()=>(r.reconnect(),r.update(l(e)),()=>{r.disconnect()}),[r,e,t]),i&&r.update(l(e)),null},lx=(e,t)=>e?e&&"object"==typeof e&&"current"in e?e.current:"string"==typeof e?document.querySelector(e):t:t,cx=(e,t,n=null)=>e?"function"==typeof e?e(t):e:n;T.forwardRef(({data:e,buffer:t=0,as:n="div",manual:r=!1,manualAfter:i=0,preserveUrl:a=!1,reverse:o=!1,autoScroll:s,children:l,startElement:c,endElement:u,itemsElement:d,previous:h,next:f,loading:p,onlyNext:m=!1,onlyPrevious:g=!1,...v},y)=>{const[b,x]=T.useState(null),_=T.useCallback(e=>x(e),[]),[w,S]=T.useState(null),M=T.useCallback(e=>S(e),[]),[E,C]=T.useState(null),P=T.useCallback(e=>C(e),[]),[R,N]=T.useState(!1),[k,L]=T.useState(!1),[I,O]=T.useState(0),[D,F]=T.useState(!1),[U,j]=T.useState(!1),[z,B]=T.useState(null),[V,H]=T.useState(null),[W,G]=T.useState(null);T.useEffect(()=>{const e=c?lx(c,b):b;B(e)},[c,b]),T.useEffect(()=>{const e=u?lx(u,w):w;H(e)},[u,w]),T.useEffect(()=>{const e=d?lx(d,E):E;G(e)},[d,E]);const q=T.useMemo(()=>(e=>{const t=e=>{const t=window.getComputedStyle(e);return!!["scroll","overlay"].includes(t.overflowY)||"auto"===t.overflowY&&(!!["visible","clip"].includes(t.overflowX)||r(t.maxHeight,e.style.height))},n=e=>{const t=window.getComputedStyle(e);return!!["scroll","overlay"].includes(t.overflowX)||"auto"===t.overflowX&&(!!["visible","clip"].includes(t.overflowY)||r(t.maxWidth,e.style.width))},r=(e,t)=>!(!e||"none"===e||"0px"===e)||!(!t||"auto"===t||"0"===t);let i=e?.parentElement;for(;i;){const e=t(i)||n(i);if("contents"!==window.getComputedStyle(i).display&&e)return i;i=i.parentElement}return null})(W),[W]),X=T.useRef({buffer:t,onlyNext:m,onlyPrevious:g,reverse:o,preserveUrl:a});X.current={buffer:t,onlyNext:m,onlyPrevious:g,reverse:o,preserveUrl:a};const[$,Y]=T.useState(null),K=T.useMemo(()=>$?.dataManager,[$]),Z=T.useMemo(()=>$?.elementManager,[$]),J=T.useCallback(()=>{q?q.scrollTo({top:q.scrollHeight,behavior:"instant"}):window.scrollTo({top:document.body.scrollHeight,behavior:"instant"})},[q]);T.useEffect(()=>{if(!W)return;function t(){O(n.dataManager.getRequestCount()),F(n.dataManager.hasPrevious()),j(n.dataManager.hasNext())}const n=Gy({getPropName:()=>e,inReverseMode:()=>X.current.reverse,shouldFetchNext:()=>!X.current.onlyPrevious,shouldFetchPrevious:()=>!X.current.onlyNext,shouldPreserveUrl:()=>X.current.preserveUrl,getTriggerMargin:()=>X.current.buffer,getStartElement:()=>z,getEndElement:()=>V,getItemsElement:()=>W,getScrollableParent:()=>q,onBeforePreviousRequest:()=>N(!0),onBeforeNextRequest:()=>L(!0),onCompletePreviousRequest:()=>{N(!1),t()},onCompleteNextRequest:()=>{L(!1),t()},onDataReset:t});Y(n);const{dataManager:r,elementManager:i}=n;return t(),i.setupObservers(),i.processServerLoadedElements(r.getLastLoadedPage()),ee&&i.enableTriggers(),()=>{n.flush(),Y(null)}},[e,W,z,V,q]);const Q=T.useMemo(()=>r||i>0&&I>=i,[r,i,I]),ee=T.useMemo(()=>!Q,[Q]);T.useEffect(()=>{ee?Z?.enableTriggers():Z?.disableTriggers()},[ee,m,g,z,V]),T.useEffect(()=>{(void 0!==s?s:o)&&J()},[q]),T.useImperativeHandle(y,()=>({fetchNext:K?.fetchNext||(()=>{}),fetchPrevious:K?.fetchPrevious||(()=>{}),hasPrevious:K?.hasPrevious||(()=>!1),hasNext:K?.hasNext||(()=>!1)}),[K]);const te=ee&&!m,ne=ee&&!g,re={loadingPrevious:R,loadingNext:k,hasPrevious:D,hasNext:U},ie={loading:R,fetch:K?.fetchPrevious??(()=>{}),autoMode:te,manualMode:!te,hasMore:D,...re},ae={loading:k,fetch:K?.fetchNext??(()=>{}),autoMode:ne,manualMode:!ne,hasMore:U,...re},oe={loading:R||k,loadingPrevious:R,loadingNext:k},se=[];return c||se.push(T.createElement("div",{ref:_},cx(h,ie,R?cx(p,ie):null))),se.push(T.createElement(n,{...v,ref:P},"function"==typeof l?l(oe):l)),u||se.push(T.createElement("div",{ref:M},cx(f,ae,k?cx(p,ae):null))),T.createElement(A.Fragment,{},...o?[...se].reverse():se)}).displayName="InertiaInfiniteScroll";var ux=()=>{},dx=T.forwardRef(({children:e,as:t="a",data:n={},href:r="",method:i="get",preserveScroll:a=!1,preserveState:o=null,preserveUrl:s=!1,replace:l=!1,only:c=[],except:u=[],headers:d={},queryStringArrayFormat:h="brackets",async:f=!1,onClick:p=ux,onCancelToken:m=ux,onBefore:g=ux,onStart:v=ux,onProgress:y=ux,onFinish:b=ux,onCancel:x=ux,onSuccess:_=ux,onError:w=ux,onPrefetching:S=ux,onPrefetched:M=ux,prefetch:E=!1,cacheFor:A=0,cacheTags:C=[],viewTransition:P=!1,...R},N)=>{const[k,L]=T.useState(0),I=T.useRef(void 0),O=T.useMemo(()=>ny(r)?r.method:i.toLowerCase(),[r,i]),D=T.useMemo(()=>"string"!=typeof t||"a"!==t.toLowerCase()?t:"get"!==O?"button":t.toLowerCase(),[t,O]),F=T.useMemo(()=>Jv(O,ny(r)?r.url:r,n,h),[r,O,n,h]),U=T.useMemo(()=>F[0],[F]),j=T.useMemo(()=>F[1],[F]),z=T.useMemo(()=>({data:j,method:O,preserveScroll:a,preserveState:o??"get"!==O,preserveUrl:s,replace:l,only:c,except:u,headers:d,async:f}),[j,O,a,o,s,l,c,u,d,f]),B=T.useMemo(()=>({...z,viewTransition:P,onCancelToken:m,onBefore:g,onStart(e){L(e=>e+1),v(e)},onProgress:y,onFinish(e){L(e=>e-1),b(e)},onCancel:x,onSuccess:_,onError:w}),[z,P,m,g,v,y,b,x,_,w]),V=T.useMemo(()=>!0===E?["hover"]:!1===E?[]:Array.isArray(E)?E:[E],Array.isArray(E)?E:[E]),H=T.useMemo(()=>0!==A?A:1===V.length&&"click"===V[0]?0:px.get("prefetch.cacheFor"),[A,V]),W=T.useMemo(()=>()=>{_b.prefetch(U,{...z,onPrefetching:S,onPrefetched:M},{cacheFor:H,cacheTags:C})},[U,z,S,M,H,C]);T.useEffect(()=>()=>{clearTimeout(I.current)},[]),T.useEffect(()=>{V.includes("mount")&&setTimeout(()=>W())},V);const G={onClick:e=>{p(e),Xy(e)&&(e.preventDefault(),_b.visit(U,B))}},q={onMouseEnter:()=>{I.current=window.setTimeout(()=>{W()},px.get("prefetch.hoverDelay"))},onMouseLeave:()=>{clearTimeout(I.current)},onClick:G.onClick},X={onMouseDown:e=>{Xy(e)&&(e.preventDefault(),W())},onKeyDown:e=>{$y(e)&&(e.preventDefault(),W())},onMouseUp:e=>{Xy(e)&&(e.preventDefault(),_b.visit(U,B))},onKeyUp:e=>{$y(e)&&(e.preventDefault(),_b.visit(U,B))},onClick:e=>{p(e),Xy(e)&&e.preventDefault()}},$=T.useMemo(()=>"button"===D?{type:"button"}:"a"===D||"string"!=typeof D?{href:U}:{},[D,U]);return T.createElement(D,{...R,...$,ref:N,...V.includes("hover")?q:V.includes("click")?X:G,"data-loading":k>0?"":void 0},e)});dx.displayName="InertiaLink";var hx=dx,fx=_b,px=Mv.extend();const mx=[{label:"DISCOVER",video:"https://ik.imagekit.io/cvdazb0cj/video/discover.mp4",href:"/discover"},{label:"MUSIC",video:"https://www.w3schools.com/html/mov_bbb.mp4",href:"/music"},{label:"ARCHIVE",video:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",href:"/archive"},{label:"VIDEO",video:"https://ik.imagekit.io/cvdazb0cj/video/video.mp4",href:"/video"},{label:"LATEST",video:"https://ik.imagekit.io/cvdazb0cj/video/latest.mp4",href:"/latest"},{label:"STORE",video:"https://ik.imagekit.io/cvdazb0cj/video/store.mp4",href:"/store"}];function gx({open:e,setOpen:t}){const[n,r]=T.useState(!1);return u.jsxs(u.Fragment,{children:[u.jsx(ll.button,{onClick:()=>t(e=>!e),onHoverStart:()=>r(!0),onHoverEnd:()=>r(!1),"aria-label":"Toggle Menu Button",className:"\n                    fixed top-3 left-1/2 -translate-x-1/2 z-5555\n                    w-10 h-10 rounded-full\n                    bg-white/5 backdrop-blur-lg\n                    border border-white/20\n                    flex items-center justify-center\n                ",transition:{duration:.35,ease:"easeOut"},children:u.jsxs("div",{className:"relative w-4 h-4 flex items-center justify-center",children:[u.jsx(ll.div,{className:"w-2.25 h-2.25 rounded-full bg-white",animate:{opacity:e||n?0:1},transition:{duration:.35,ease:"easeOut"}}),u.jsxs(ll.div,{className:"absolute inset-0",animate:{opacity:e||n?1:0},transition:{duration:.35,ease:"easeOut"},children:[u.jsx(ll.span,{className:"absolute left-0 top-1/2 w-full h-[1.5px] bg-white",animate:{rotate:e?45:0,y:e?0:-4},transition:{duration:.35,ease:"easeInOut"}}),u.jsx(ll.span,{className:"absolute left-0 top-1/2 w-full h-[1.5px] bg-white",animate:{opacity:e?0:1},transition:{duration:.2}}),u.jsx(ll.span,{className:"absolute left-0 top-1/2 w-full h-[1.5px] bg-white",animate:{rotate:e?-45:0,y:e?0:4},transition:{duration:.35,ease:"easeInOut"}})]})]})}),u.jsx(Bo,{children:e&&u.jsx(vx,{})})]})}function vx(){const[e,t]=T.useState(null),n=e?.includes("/store.mp4");return u.jsxs(ll.div,{className:"fixed inset-0 z-5554",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.6,ease:"easeInOut"},children:[u.jsx("div",{className:"absolute inset-0",onWheel:e=>e.preventDefault(),onTouchMove:e=>e.preventDefault()}),u.jsx(Bo,{children:e&&u.jsx(ll.video,{src:e,autoPlay:!0,muted:!0,playsInline:!0,className:`\n                            absolute inset-0 w-full h-screen\n                            hidden md:block\n                            ${n?"object-contain bg-black":"object-cover"}\n                        `,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},onTimeUpdate:e=>{const t=e.currentTarget;t.currentTime>=4.2&&(t.currentTime=.05)},onLoadedMetadata:e=>{e.currentTarget.currentTime=0}},e)}),u.jsx("div",{className:"absolute inset-0 bg-black/80"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_40%,rgba(0,0,0,0.9))]"}),u.jsx("div",{className:"relative z-20 h-full flex items-center justify-center",children:u.jsx("div",{className:"\n                        flex flex-col items-center gap-6\n                        md:flex-row md:gap-24\n                    ",onMouseLeave:()=>t(null),children:mx.map(e=>u.jsx(yx,{item:e,setActiveVideo:t},e.label))})})]})}function yx({item:e,setActiveVideo:t}){const[n,r]=T.useState(!1),i=ll(hx);return u.jsxs(i,{href:e.href,onMouseEnter:()=>{r(!0),t(e.video)},onMouseLeave:()=>{r(!1),t(null)},whileTap:{scale:.96},className:"\n                relative select-none cursor-pointer\n                text-2xl font-semibold tracking-[0.15em]\n                text-white/80\n                md:text-sm md:font-normal md:tracking-[0.35em]\n            ",children:[u.jsx(Bo,{children:n&&u.jsxs(ll.svg,{width:"140",height:"140",viewBox:"0 0 140 140",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none",initial:{opacity:0,scale:.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.85},transition:{duration:.35,ease:"easeOut"},children:[u.jsx("defs",{children:u.jsxs("filter",{id:"turbulence",children:[u.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.01",numOctaves:"2",seed:"2",children:u.jsx("animate",{attributeName:"baseFrequency",dur:"4s",values:"0.01;0.02;0.01",repeatCount:"indefinite"})}),u.jsx("feDisplacementMap",{in:"SourceGraphic",scale:"18"})]})}),u.jsx(ll.circle,{cx:"70",cy:"70",r:"46",fill:"none",stroke:"white",strokeWidth:"1",filter:"url(#turbulence)",animate:{rotate:360},transition:{duration:20,ease:"linear",repeat:1/0}})]},"circle")}),u.jsx("span",{className:"relative z-10 md:hover:text-white transition-colors",children:e.label})]})}const bx=ur(!0),xx=ur(0);function _x({freezeLenis:e=!1}){const[t,n]=T.useState(!1),[r,i]=T.useState("idle"),a=T.useId();return T.useEffect(()=>{const t=fx.on("start",()=>{i("entering"),n(!0),e&&window.lenis?.stop&&window.lenis.stop()}),a=fx.on("progress",e=>{(e?.detail?.progress?.percentage??0)>85&&"leaving"!==r&&i("leaving")}),o=fx.on("finish",()=>{setTimeout(()=>{n(!1),i("idle"),e&&window.lenis?.start&&window.lenis.start()},120)});return()=>{t?.(),a?.(),o?.()}},[e,r]),u.jsx(Bo,{children:t&&u.jsxs(ll.div,{className:"pointer-events-none fixed inset-0 z-9999",initial:{opacity:0},animate:{opacity:.85},exit:{opacity:0},transition:{duration:.7,ease:"easeOut"},children:[u.jsxs(ll.div,{className:"absolute inset-0",initial:{filter:"blur(14px) brightness(0.08)"},animate:{filter:"leaving"===r?"blur(18px) brightness(0.06)":"blur(0px) brightness(0.10)"},transition:{duration:.7,ease:"easeOut"},children:[u.jsx("div",{className:"absolute inset-0 bg-black"}),u.jsx("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 50% 45%, rgba(0,0,0,0.25), rgba(0,0,0,0.94) 70%, rgba(0,0,0,0.99) 100%)"}})]}),u.jsx("div",{className:"absolute inset-0 opacity-[0.10] mix-blend-overlay",children:u.jsxs("svg",{className:"h-full w-full",children:[u.jsxs("filter",{id:a,children:[u.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.9",numOctaves:"3",stitchTiles:"stitch"}),u.jsx("feColorMatrix",{type:"saturate",values:"0"})]}),u.jsx("rect",{width:"100%",height:"100%",filter:`url(#${a})`})]})})]})})}var wx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sx=A.createContext&&A.createContext(wx),Mx=["attr","size","title"];function Ex(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tx.apply(this,arguments)}function Ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Cx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ax(Object(n),!0).forEach(function(t){Px(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ax(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Px(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rx(e){return e&&e.map((e,t)=>A.createElement(e.tag,Cx({key:t},e.attr),Rx(e.child)))}function Nx(e){return t=>A.createElement(kx,Tx({attr:Cx({},e.attr)},t),Rx(e.child))}function kx(e){var t=t=>{var n,{attr:r,size:i,title:a}=e,o=Ex(e,Mx),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),A.createElement("svg",Tx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Cx(Cx({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&A.createElement("title",null,a),e.children)};return void 0!==Sx?A.createElement(Sx.Consumer,null,e=>t(e)):t(wx)}function Lx(e){return Nx({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.2 162.7c-48.7 1.8-169.5 15.5-169.5 117.5 0 109.5 138.3 114 183.5 43.2 6.5 10.2 35.4 37.5 45.3 46.8l56.8-56S341 288.9 341 261.4V114.3C341 89 316.5 32 228.7 32 140.7 32 94 87 94 136.3l73.5 6.8c16.3-49.5 54.2-49.5 54.2-49.5 40.7-.1 35.5 29.8 35.5 69.1zm0 86.8c0 80-84.2 68-84.2 17.2 0-47.2 50.5-56.7 84.2-57.8v40.6zm136 163.5c-7.7 10-70 67-174.5 67S34.2 408.5 9.7 379c-6.8-7.7 1-11.3 5.5-8.3C88.5 415.2 203 488.5 387.7 401c7.5-3.7 13.3 2 5.5 12zm39.8 2.2c-6.5 15.8-16 26.8-21.2 31-5.5 4.5-9.5 2.7-6.5-3.8s19.3-46.5 12.7-55c-6.5-8.3-37-4.3-48-3.2-10.8 1-13 2-14-.3-2.3-5.7 21.7-15.5 37.5-17.5 15.7-1.8 41-.8 46 5.7 3.7 5.1 0 27.1-6.5 43.1z"},child:[]}]})(e)}function Ix(e){return Nx({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function Ox(e){return Nx({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M451.46,244.71H576V172H451.46Zm0-173.89v72.67H576V70.82Zm0,275.06H576V273.2H451.46ZM0,447.09H124.54V374.42H0Zm150.47,0H275V374.42H150.47Zm150.52,0H425.53V374.42H301Zm150.47,0H576V374.42H451.46ZM301,345.88H425.53V273.2H301Zm-150.52,0H275V273.2H150.47Zm0-101.17H275V172H150.47Z"},child:[]}]})(e)}function Dx(e){return Nx({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function Fx(e){return Nx({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Ux(e){return Nx({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M111.4 256.3l5.8 65-5.8 68.3c-.3 2.5-2.2 4.4-4.4 4.4s-4.2-1.9-4.2-4.4l-5.6-68.3 5.6-65c0-2.2 1.9-4.2 4.2-4.2 2.2 0 4.1 2 4.4 4.2zm21.4-45.6c-2.8 0-4.7 2.2-5 5l-5 105.6 5 68.3c.3 2.8 2.2 5 5 5 2.5 0 4.7-2.2 4.7-5l5.8-68.3-5.8-105.6c0-2.8-2.2-5-4.7-5zm25.5-24.1c-3.1 0-5.3 2.2-5.6 5.3l-4.4 130 4.4 67.8c.3 3.1 2.5 5.3 5.6 5.3 2.8 0 5.3-2.2 5.3-5.3l5.3-67.8-5.3-130c0-3.1-2.5-5.3-5.3-5.3zM7.2 283.2c-1.4 0-2.2 1.1-2.5 2.5L0 321.3l4.7 35c.3 1.4 1.1 2.5 2.5 2.5s2.2-1.1 2.5-2.5l5.6-35-5.6-35.6c-.3-1.4-1.1-2.5-2.5-2.5zm23.6-21.9c-1.4 0-2.5 1.1-2.5 2.5l-6.4 57.5 6.4 56.1c0 1.7 1.1 2.8 2.5 2.8s2.5-1.1 2.8-2.5l7.2-56.4-7.2-57.5c-.3-1.4-1.4-2.5-2.8-2.5zm25.3-11.4c-1.7 0-3.1 1.4-3.3 3.3L47 321.3l5.8 65.8c.3 1.7 1.7 3.1 3.3 3.1 1.7 0 3.1-1.4 3.1-3.1l6.9-65.8-6.9-68.1c0-1.9-1.4-3.3-3.1-3.3zm25.3-2.2c-1.9 0-3.6 1.4-3.6 3.6l-5.8 70 5.8 67.8c0 2.2 1.7 3.6 3.6 3.6s3.6-1.4 3.9-3.6l6.4-67.8-6.4-70c-.3-2.2-2-3.6-3.9-3.6zm241.4-110.9c-1.1-.8-2.8-1.4-4.2-1.4-2.2 0-4.2.8-5.6 1.9-1.9 1.7-3.1 4.2-3.3 6.7v.8l-3.3 176.7 1.7 32.5 1.7 31.7c.3 4.7 4.2 8.6 8.9 8.6s8.6-3.9 8.6-8.6l3.9-64.2-3.9-177.5c-.4-3-2-5.8-4.5-7.2zm-26.7 15.3c-1.4-.8-2.8-1.4-4.4-1.4s-3.1.6-4.4 1.4c-2.2 1.4-3.6 3.9-3.6 6.7l-.3 1.7-2.8 160.8s0 .3 3.1 65.6v.3c0 1.7.6 3.3 1.7 4.7 1.7 1.9 3.9 3.1 6.4 3.1 2.2 0 4.2-1.1 5.6-2.5 1.7-1.4 2.5-3.3 2.5-5.6l.3-6.7 3.1-58.6-3.3-162.8c-.3-2.8-1.7-5.3-3.9-6.7zm-111.4 22.5c-3.1 0-5.8 2.8-5.8 6.1l-4.4 140.6 4.4 67.2c.3 3.3 2.8 5.8 5.8 5.8 3.3 0 5.8-2.5 6.1-5.8l5-67.2-5-140.6c-.2-3.3-2.7-6.1-6.1-6.1zm376.7 62.8c-10.8 0-21.1 2.2-30.6 6.1-6.4-70.8-65.8-126.4-138.3-126.4-17.8 0-35 3.3-50.3 9.4-6.1 2.2-7.8 4.4-7.8 9.2v249.7c0 5 3.9 8.6 8.6 9.2h218.3c43.3 0 78.6-35 78.6-78.3.1-43.6-35.2-78.9-78.5-78.9zm-296.7-60.3c-4.2 0-7.5 3.3-7.8 7.8l-3.3 136.7 3.3 65.6c.3 4.2 3.6 7.5 7.8 7.5 4.2 0 7.5-3.3 7.5-7.5l3.9-65.6-3.9-136.7c-.3-4.5-3.3-7.8-7.5-7.8zm-53.6-7.8c-3.3 0-6.4 3.1-6.4 6.7l-3.9 145.3 3.9 66.9c.3 3.6 3.1 6.4 6.4 6.4 3.6 0 6.4-2.8 6.7-6.4l4.4-66.9-4.4-145.3c-.3-3.6-3.1-6.7-6.7-6.7zm26.7 3.4c-3.9 0-6.9 3.1-6.9 6.9L227 321.3l3.9 66.4c.3 3.9 3.1 6.9 6.9 6.9s6.9-3.1 6.9-6.9l4.2-66.4-4.2-141.7c0-3.9-3-6.9-6.9-6.9z"},child:[]}]})(e)}function jx(e){return Nx({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"},child:[]}]})(e)}function zx(e){return Nx({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(e)}function Bx(e){return Nx({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Vx(e){return Nx({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function Hx(e){return Nx({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}const Wx=T.forwardRef(function(e,t){const{translations:n,config:r}=rx().props,i=dl(Dl,[0,1200],[0,-1.2]),a=dl(Dl,[0,1200],[0,1.2]);return u.jsxs("footer",{ref:t,className:"relative bg-black min-h-screen overflow-hidden",children:[u.jsx("div",{className:"relative max-w-7xl mx-auto px-6 sm:px-12 md:px-20 pt-20 pb-32",children:u.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-16 mb-20",children:[u.jsxs("div",{className:"max-w-sm",children:[u.jsx(hx,{href:"/",children:u.jsx(ll.img,{src:`${r.services.imagekit.url}/image/Icon1.webp`,alt:"Marsmolys",draggable:!1,className:"h-13 md:h-18 object-contain opacity-90 select-none",animate:{rotate:360},transition:{repeat:1/0,duration:10,ease:"easeInOut"}})}),u.jsxs("div",{className:"flex gap-4 mt-6 text-stone-400",children:[u.jsx("a",{href:"https://www.instagram.com/marsmolys/","aria-label":n.social.instagram,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Fx,{})}),u.jsx("a",{href:"https://www.youtube.com/@marsmolys","aria-label":n.social.youtube,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Vx,{})}),u.jsx("a",{href:"https://www.facebook.com/marsmolysband/","aria-label":n.social.facebook,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Dx,{})}),u.jsx("a",{href:"https://www.tiktok.com/@marsmolys_","aria-label":n.social.tiktok,target:"_blank",rel:"noopener noreferrer",children:u.jsx(zx,{})}),u.jsx("a",{href:"https://www.x.com/marsmolys","aria-label":n.social.x,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Bx,{})})]}),u.jsxs("div",{className:"mt-5 text-xs tracking-widest text-white/70\nopacity-70",children:[" ",(new Date).getFullYear()," Marsmolys. All sound reserved."]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-10 text-sm text-stone-300",children:[u.jsxs("div",{children:[u.jsx("p",{className:"mb-3 text-stone-500 uppercase tracking-widest text-xs",children:"Listen"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"https://music.apple.com/id/artist/marsmolys/1674351189",target:"_blank","aria-label":"Apple Music",rel:"noopener noreferrer",children:"Apple Music"})}),u.jsx("li",{children:u.jsx("a",{href:"https://open.spotify.com/artist/0wZPFPjveC3ub9hsRNb0sH",target:"_blank","aria-label":"Spotify",rel:"noopener noreferrer",children:"Spotify"})}),u.jsx("li",{children:u.jsx("a",{href:"https://soundcloud.com/marsmolys",target:"_blank","aria-label":"SoundCloud",rel:"noopener noreferrer",children:"SoundCloud"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.deezer.com/en/artist/12371686",target:"_blank","aria-label":"Deezer",rel:"noopener noreferrer",children:"Deezer"})}),u.jsx("li",{children:u.jsx("a",{href:"https://marsmolys.bandcamp.com/",target:"_blank","aria-label":"Bandcamp",rel:"noopener noreferrer",children:"Bandcamp"})}),u.jsx("li",{children:u.jsx("a",{href:"https://www.amazon.com/music/player/artists/B071V4J27R/marsmolys",target:"_blank","aria-label":"Amazon Music",rel:"noopener noreferrer",children:"Amazon Music"})}),u.jsx("li",{children:u.jsx("a",{href:"https://music.youtube.com/channel/UC8Fs2UCka-K0j5UYQ5VeqxA",target:"_blank","aria-label":"Youtube",rel:"noopener noreferrer",children:"Youtube"})})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-3 text-stone-500 uppercase tracking-widest text-xs",children:"Contact"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx("a",{href:"mailto:marsmolys@gmail.com?subject=Transmission%20from%20Earth&body=Hey%20Marsmolys%2C%0A%0AJust%20wanted%20to%20reach%20out%20%E2%80%94%20your%20work%20really%20speaks%20to%20me.%0AHere%E2%80%99s%20something%20I%E2%80%99d%20love%20to%20share%E2%80%A6%0A%0A%5BWrite%20your%20message%20here%5D%0A%0AThanks%20for%20keeping%20the%20fire%20alive.%0A%E2%80%94%20From%20Earth\n",rel:"noopener noreferrer",target:"_blank",children:"marsmolys@gmail.com"})}),u.jsx("li",{children:u.jsx("a",{href:"https://wa.me/6285727787469?text=Hello%20Marsmolys%2C%20we%20would%20like%20to%20book%20Marsmolys%20for%20an%20event.%20Please%20let%20us%20know%20the%20availability%20and%20details.%20Thank%20you.",target:"_blank",rel:"noopener noreferrer",children:"Booking / Events / Collaboration"})})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"mb-3 text-stone-500 uppercase tracking-widest text-xs",children:"More"}),u.jsxs("ul",{className:"space-y-2",children:[u.jsx("li",{children:u.jsx(hx,{href:"/discover",children:"Discover"})}),u.jsx("li",{children:u.jsx(hx,{href:"/music",children:"Music"})}),u.jsx("li",{children:u.jsx(hx,{href:"/archive",children:"Archive"})}),u.jsx("li",{children:u.jsx(hx,{href:"/video",children:"Video"})}),u.jsx("li",{children:u.jsx(hx,{href:"/latest",children:"Latest"})}),u.jsx("li",{children:u.jsx(hx,{href:"/store",children:"Store"})})]})]})]})]})}),u.jsx(ll.h1,{className:"\n                    pointer-events-none select-none\n                    absolute left-1/2 -translate-x-1/2 bottom-[-5vw]\n                    uppercase font-extrabold leading-none text-transparent font-['Poppins']! will-change-transform\n                ",style:{fontSize:"16vw",WebkitTextStroke:"1.5px rgba(174, 31, 42, 0.5)",rotateX:i,rotateY:a,transformPerspective:1200,WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",backfaceVisibility:"hidden",transformStyle:"preserve-3d",willChange:"transform"},children:"Marsmolys"})]})}),Gx=Object.freeze(Object.defineProperty({__proto__:null,default:Wx},Symbol.toStringTag,{value:"Module"}));function qx({children:e}){const[t,n]=T.useState(!1),r=T.useRef(null);return T.useEffect(()=>{const e=new _({duration:1.2,easing:e=>1-Math.pow(1-e,3),smoothWheel:!0,wheelMultiplier:1,syncTouch:!0});return requestAnimationFrame(function t(n){e.raf(n),requestAnimationFrame(t)}),e.on("scroll",({scroll:e})=>{Dl.set(e)}),window.lenis=e,function(e,t){function n(){const n=e.scroll,r=window.innerHeight,i=t.getBoundingClientRect().top+n,a=i-.9*r,o=(n-a)/(i-.1*r-a);xx.set(Math.min(1,Math.max(0,o)))}e&&t&&(e.on("scroll",n),n())}(e,r.current),()=>e.destroy()},[]),T.useEffect(()=>{window.lenis&&(t?(window.lenis.stop(),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.touchAction="none",bx.set(!1)):(window.lenis.start(),document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.touchAction="",bx.set(!0)))},[t]),u.jsxs(u.Fragment,{children:[u.jsx(jl,{}),u.jsx(gx,{open:t,setOpen:n}),u.jsxs("main",{"data-lenis-root":!0,className:`\n                     relative text-stone-200 min-h-dvh w-full\n                    ${t?"pointer-events-none select-none":""}\n                `,children:[e,u.jsx(Wx,{ref:r})]})]})}function Xx(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function $x(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Yx(...e){return t=>{let n=!1;const r=e.map(e=>{const r=$x(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():$x(e[t],null)}}}}function Kx(...e){return T.useCallback(Yx(...e),e)}function Zx(e,t=[]){let n=[];const r=()=>{const t=n.map(e=>T.createContext(e));return function(n){const r=n?.[e]||t;return T.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){const i=T.createContext(r),a=n.length;n=[...n,r];const o=t=>{const{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,l=T.useMemo(()=>o,Object.values(o));return u.jsx(s.Provider,{value:l,children:r})};return o.displayName=t+"Provider",[o,function(n,o){const s=o?.[e]?.[a]||i,l=T.useContext(s);if(l)return l;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Jx(r,...t)]}function Jx(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var Qx=globalThis?.document?T.useLayoutEffect:()=>{},e_=C[" useId ".trim().toString()]||(()=>{}),t_=0;function n_(e){const[t,n]=T.useState(e_());return Qx(()=>{n(e=>e??String(t_++))},[e]),e||(t?`radix-${t}`:"")}var r_=C[" useInsertionEffect ".trim().toString()]||Qx;function i_({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=function({defaultProp:e,onChange:t}){const[n,r]=T.useState(e),i=T.useRef(n),a=T.useRef(t);return r_(()=>{a.current=t},[t]),T.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}({defaultProp:t,onChange:n}),s=void 0!==e,l=s?e:i;{const t=T.useRef(void 0!==e);T.useEffect(()=>{t.current;t.current=s},[s,r])}const c=T.useCallback(t=>{if(s){const n=function(e){return"function"==typeof e}(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o]);return[l,c]}function a_(e){const t=o_(e),n=T.forwardRef((e,n)=>{const{children:r,...i}=e,a=T.Children.toArray(r),o=a.find(l_);if(o){const e=o.props.children,r=a.map(t=>t===o?T.Children.count(e)>1?T.Children.only(null):T.isValidElement(e)?e.props.children:null:t);return u.jsx(t,{...i,ref:n,children:T.isValidElement(e)?T.cloneElement(e,void 0,r):null})}return u.jsx(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function o_(e){const t=T.forwardRef((e,t)=>{const{children:n,...r}=e;if(T.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{const t=a(...e);return i(...e),t}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==T.Fragment&&(i.ref=t?Yx(t,e):e),T.cloneElement(n,i)}return T.Children.count(n)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var s_=Symbol("radix.slottable");function l_(e){return T.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===s_}var c_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{const n=a_(`Primitive.${t}`),r=T.forwardRef((e,r)=>{const{asChild:i,...a}=e,o=i?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),u.jsx(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function u_(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...e)=>t.current?.(...e),[])}var d_,h_="dismissableLayer.update",f_="dismissableLayer.pointerDownOutside",p_="dismissableLayer.focusOutside",m_=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),g_=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=T.useContext(m_),[d,h]=T.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=T.useState({}),m=Kx(t,e=>h(e)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,_=b>=y,w=function(e,t=globalThis?.document){const n=u_(e),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const e=e=>{if(e.target&&!r.current){let r=function(){y_(f_,n,a,{discrete:!0})};const a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}(e=>{const t=e.target,n=[...c.branches].some(e=>e.contains(t));_&&!n&&(i?.(e),o?.(e),e.defaultPrevented||s?.())},f),S=function(e,t=globalThis?.document){const n=u_(e),r=T.useRef(!1);return T.useEffect(()=>{const e=e=>{e.target&&!r.current&&y_(p_,n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{const t=e.target;[...c.branches].some(e=>e.contains(t))||(a?.(e),o?.(e),e.defaultPrevented||s?.())},f);return function(e,t=globalThis?.document){const n=u_(e);T.useEffect(()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[n,t])}(e=>{b===c.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),T.useEffect(()=>{if(d)return n&&(0===c.layersWithOutsidePointerEventsDisabled.size&&(d_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),v_(),()=>{n&&1===c.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=d_)}},[d,f,n,c]),T.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),v_())},[d,c]),T.useEffect(()=>{const e=()=>p({});return document.addEventListener(h_,e),()=>document.removeEventListener(h_,e)},[]),u.jsx(c_.div,{...l,ref:m,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:Xx(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Xx(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Xx(e.onPointerDownCapture,w.onPointerDownCapture)})});function v_(){const e=new CustomEvent(h_);document.dispatchEvent(e)}function y_(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Tb.flushSync(()=>e.dispatchEvent(t))}(i,a):i.dispatchEvent(a)}g_.displayName="DismissableLayer",T.forwardRef((e,t)=>{const n=T.useContext(m_),r=T.useRef(null),i=Kx(t,r);return T.useEffect(()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),u.jsx(c_.div,{...e,ref:i})}).displayName="DismissableLayerBranch";var b_="focusScope.autoFocusOnMount",x_="focusScope.autoFocusOnUnmount",__={bubbles:!1,cancelable:!0},w_=T.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=T.useState(null),c=u_(i),d=u_(a),h=T.useRef(null),f=Kx(t,e=>l(e)),p=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let e=function(e){if(p.paused||!s)return;const t=e.target;s.contains(t)?h.current=t:T_(h.current,{select:!0})},t=function(e){if(p.paused||!s)return;const t=e.relatedTarget;null!==t&&(s.contains(t)||T_(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&T_(s)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[r,s,p.paused]),T.useEffect(()=>{if(s){A_.add(p);const e=document.activeElement;if(!s.contains(e)){const t=new CustomEvent(b_,__);s.addEventListener(b_,c),s.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(T_(r,{select:t}),document.activeElement!==n)return}(S_(s).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&T_(s))}return()=>{s.removeEventListener(b_,c),setTimeout(()=>{const t=new CustomEvent(x_,__);s.addEventListener(x_,d),s.dispatchEvent(t),t.defaultPrevented||T_(e??document.body,{select:!0}),s.removeEventListener(x_,d),A_.remove(p)},0)}}},[s,c,d,p]);const m=T.useCallback(e=>{if(!n&&!r)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,a]=function(e){const t=S_(e),n=M_(t,e),r=M_(t.reverse(),e);return[n,r]}(t);r&&a?e.shiftKey||i!==a?e.shiftKey&&i===r&&(e.preventDefault(),n&&T_(a,{select:!0})):(e.preventDefault(),n&&T_(r,{select:!0})):i===t&&e.preventDefault()}},[n,r,p.paused]);return u.jsx(c_.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});function S_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function M_(e,t){for(const n of e)if(!E_(n,{upTo:t}))return n}function E_(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function T_(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}w_.displayName="FocusScope";var A_=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=C_(e,t),e.unshift(t)},remove(t){e=C_(e,t),e[0]?.resume()}}}();function C_(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var P_=T.forwardRef((e,t)=>{const{container:n,...r}=e,[i,a]=T.useState(!1);Qx(()=>a(!0),[]);const o=n||i&&globalThis?.document?.body;return o?Ab.createPortal(u.jsx(c_.div,{...r,ref:t}),o):null});P_.displayName="Portal";var R_=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=T.useState(),r=T.useRef(null),i=T.useRef(e),a=T.useRef("none"),o=e?"mounted":"unmounted",[s,l]=function(e,t){return T.useReducer((e,n)=>t[e][n]??e,e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const e=N_(r.current);a.current="mounted"===s?e:"none"},[s]),Qx(()=>{const t=r.current,n=i.current;if(n!==e){const r=a.current,o=N_(t);l(e?"MOUNT":"none"===o||"none"===t?.display?"UNMOUNT":n&&r!==o?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Qx(()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,o=a=>{const o=N_(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(l("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout(()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)})}},s=e=>{e.target===t&&(a.current=N_(r.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",o),t.addEventListener("animationend",o),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",o),t.removeEventListener("animationend",o)}}l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:T.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):T.Children.only(n),a=Kx(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(i));return"function"==typeof n||r.isPresent?T.cloneElement(i,{ref:a}):null};function N_(e){return e?.animationName||"none"}R_.displayName="Presence";var k_=0;function L_(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var I_=function(){return I_=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},I_.apply(this,arguments)};function O_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"==typeof SuppressedError&&SuppressedError;var D_="right-scroll-bar-position",F_="width-before-scroll-bar";function U_(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var j_="undefined"!=typeof window?T.useLayoutEffect:T.useEffect,z_=new WeakMap;function B_(e,t){var n,r,i,a=(n=null,r=function(t){return e.forEach(function(e){return U_(e,t)})},(i=T.useState(function(){return{value:n,callback:r,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}})[0]).callback=r,i.facade);return j_(function(){var t=z_.get(a);if(t){var n=new Set(t),r=new Set(e),i=a.current;n.forEach(function(e){r.has(e)||U_(e,null)}),r.forEach(function(e){n.has(e)||U_(e,i)})}z_.set(a,e)},[e]),a}function V_(e){return e}var H_=function(e){var t=e.sideCar,n=O_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,I_({},n))};H_.isSideCarExport=!0;var W_=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=V_);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=I_({async:!0,ssr:!1},e),t}(),G_=function(){},q_=T.forwardRef(function(e,t){var n=T.useRef(null),r=T.useState({onScrollCapture:G_,onWheelCapture:G_,onTouchMoveCapture:G_}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noRelative,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,x=O_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,w=B_([n,t]),S=I_(I_({},x),i);return T.createElement(T.Fragment,null,u&&T.createElement(_,{sideCar:W_,removeScrollBar:c,shards:d,noRelative:f,noIsolation:p,inert:m,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:b}),o?T.cloneElement(T.Children.only(s),I_(I_({},S),{ref:w})):T.createElement(y,I_({},S,{className:l,ref:w}),s))});function X_(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=function(){if("undefined"!=typeof __webpack_nonce__)return __webpack_nonce__}();return t&&e.setAttribute("nonce",t),e}q_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},q_.classNames={fullWidth:F_,zeroRight:D_};var $_=function(){var e=0,t=null;return{add:function(n){var r,i;0==e&&(t=X_())&&(i=n,(r=t).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Y_=function(){var e,t=(e=$_(),function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},K_={left:0,top:0,right:0,gap:0},Z_=function(e){return parseInt(e||"",10)||0},J_=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return K_;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Z_(n),Z_(r),Z_(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Q_=Y_(),ew="data-scroll-locked",tw=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(ew,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(D_," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(F_," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(D_," .").concat(D_," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(F_," .").concat(F_," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(ew,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},nw=function(){var e=parseInt(document.body.getAttribute(ew)||"0",10);return isFinite(e)?e:0},rw=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;T.useEffect(function(){return document.body.setAttribute(ew,(nw()+1).toString()),function(){var e=nw()-1;e<=0?document.body.removeAttribute(ew):document.body.setAttribute(ew,e.toString())}},[]);var a=T.useMemo(function(){return J_(i)},[i]);return T.createElement(Q_,{styles:tw(a,!t,i,n?"":"!important")})},iw=!1;if("undefined"!=typeof window)try{var aw=Object.defineProperty({},"passive",{get:function(){return iw=!0,!0}});window.addEventListener("test",aw,aw),window.removeEventListener("test",aw,aw)}catch(KH){iw=!1}var ow=!!iw&&{passive:!1},sw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},lw=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),cw(e,r)){var i=uw(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cw=function(e,t){return"v"===e?function(e){return sw(e,"overflowY")}(t):function(e){return sw(e,"overflowX")}(t)},uw=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},dw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hw=function(e){return[e.deltaX,e.deltaY]},fw=function(e){return e&&"current"in e?e.current:e},pw=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},mw=0,gw=[];function vw(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yw=(bw=function(e){var t=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(mw++)[0],a=T.useState(Y_)[0],o=T.useRef(e);T.useEffect(function(){o.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(fw),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=T.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var i,a=dw(e),s=n.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=window.getSelection(),f=h&&h.anchorNode;if(f&&(f===u||f.contains(u)))return!1;var p=lw(d,u);if(!p)return!0;if(p?i=d:(i="v"===d?"h":"v",p=lw(d,u)),!p)return!1;if(!r.current&&"changedTouches"in e&&(l||c)&&(r.current=i),!i)return!0;var m=r.current||i;return function(e,t,n,r){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,o=n.target,s=t.contains(o),l=!1,c=a>0,u=0,d=0;do{if(!o)break;var h=uw(e,o),f=h[0],p=h[1]-h[2]-i*f;(f||p)&&cw(e,o)&&(u+=p,d+=f);var m=o.parentNode;o=m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?m.host:m}while(!s&&o!==document.body||s&&(t.contains(o)||t===o));return(c&&Math.abs(u)<1||!c&&Math.abs(d)<1)&&(l=!0),l}(m,t,e,"h"===m?l:c)},[]),l=T.useCallback(function(e){var n=e;if(gw.length&&gw[gw.length-1]===a){var r="deltaY"in n?hw(n):dw(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i})[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var l=(o.current.shards||[]).map(fw).filter(Boolean).filter(function(e){return e.contains(n.target)});(l.length>0?s(n,l[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),c=T.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:vw(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=T.useCallback(function(e){n.current=dw(e),r.current=void 0},[]),d=T.useCallback(function(t){c(t.type,hw(t),t.target,s(t,e.lockRef.current))},[]),h=T.useCallback(function(t){c(t.type,dw(t),t.target,s(t,e.lockRef.current))},[]);T.useEffect(function(){return gw.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,ow),document.addEventListener("touchmove",l,ow),document.addEventListener("touchstart",u,ow),function(){gw=gw.filter(function(e){return e!==a}),document.removeEventListener("wheel",l,ow),document.removeEventListener("touchmove",l,ow),document.removeEventListener("touchstart",u,ow)}},[]);var f=e.removeScrollBar,p=e.inert;return T.createElement(T.Fragment,null,p?T.createElement(a,{styles:pw(i)}):null,f?T.createElement(rw,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},W_.useMedium(bw),H_);var bw,xw=T.forwardRef(function(e,t){return T.createElement(q_,I_({},e,{ref:t,sideCar:yw}))});xw.classNames=q_.classNames;var _w=new WeakMap,ww=new WeakMap,Sw={},Mw=0,Ew=function(e){return e&&(e.host||Ew(e.parentNode))},Tw=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=Ew(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);Sw[n]||(Sw[n]=new WeakMap);var a=Sw[n],o=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(_w.get(e)||0)+1,c=(a.get(e)||0)+1;_w.set(e,l),a.set(e,c),o.push(e),1===l&&i&&ww.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){}})};return u(t),s.clear(),Mw++,function(){o.forEach(function(e){var t=_w.get(e)-1,i=a.get(e)-1;_w.set(e,t),a.set(e,i),t||(ww.has(e)||e.removeAttribute(r),ww.delete(e)),i||e.removeAttribute(n)}),--Mw||(_w=new WeakMap,_w=new WeakMap,ww=new WeakMap,Sw={})}},Aw=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Tw(r,i,n,"aria-hidden")):function(){return null}},Cw="Dialog",[Pw]=Zx(Cw),[Rw,Nw]=Pw(Cw),kw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=T.useRef(null),l=T.useRef(null),[c,d]=i_({prop:r,defaultProp:i??!1,onChange:a,caller:Cw});return u.jsx(Rw,{scope:t,triggerRef:s,contentRef:l,contentId:n_(),titleId:n_(),descriptionId:n_(),open:c,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(e=>!e),[d]),modal:o,children:n})};kw.displayName=Cw;var Lw="DialogTrigger",Iw=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nw(Lw,n),a=Kx(t,i.triggerRef);return u.jsx(c_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Jw(i.open),...r,ref:a,onClick:Xx(e.onClick,i.onOpenToggle)})});Iw.displayName=Lw;var Ow="DialogPortal",[Dw,Fw]=Pw(Ow,{forceMount:void 0}),Uw=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Nw(Ow,t);return u.jsx(Dw,{scope:t,forceMount:n,children:T.Children.map(r,e=>u.jsx(R_,{present:n||a.open,children:u.jsx(P_,{asChild:!0,container:i,children:e})}))})};Uw.displayName=Ow;var jw="DialogOverlay",zw=T.forwardRef((e,t)=>{const n=Fw(jw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Nw(jw,e.__scopeDialog);return a.modal?u.jsx(R_,{present:r||a.open,children:u.jsx(Vw,{...i,ref:t})}):null});zw.displayName=jw;var Bw=a_("DialogOverlay.RemoveScroll"),Vw=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nw(jw,n);return u.jsx(xw,{as:Bw,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(c_.div,{"data-state":Jw(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hw="DialogContent",Ww=T.forwardRef((e,t)=>{const n=Fw(Hw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Nw(Hw,e.__scopeDialog);return u.jsx(R_,{present:r||a.open,children:a.modal?u.jsx(Gw,{...i,ref:t}):u.jsx(qw,{...i,ref:t})})});Ww.displayName=Hw;var Gw=T.forwardRef((e,t)=>{const n=Nw(Hw,e.__scopeDialog),r=T.useRef(null),i=Kx(t,n.contentRef,r);return T.useEffect(()=>{const e=r.current;if(e)return Aw(e)},[]),u.jsx(Xw,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xx(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Xx(e.onPointerDownOutside,e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()}),onFocusOutside:Xx(e.onFocusOutside,e=>e.preventDefault())})}),qw=T.forwardRef((e,t)=>{const n=Nw(Hw,e.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return u.jsx(Xw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const a=t.target,o=n.triggerRef.current?.contains(a);o&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),Xw=T.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=Nw(Hw,n),l=T.useRef(null),c=Kx(t,l);return T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??L_()),document.body.insertAdjacentElement("beforeend",e[1]??L_()),k_++,()=>{1===k_&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),k_--}},[]),u.jsxs(u.Fragment,{children:[u.jsx(w_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:u.jsx(g_,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":Jw(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(nS,{titleId:s.titleId}),u.jsx(rS,{contentRef:l,descriptionId:s.descriptionId})]})]})}),$w="DialogTitle";T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nw($w,n);return u.jsx(c_.h2,{id:i.titleId,...r,ref:t})}).displayName=$w;var Yw="DialogDescription";T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nw(Yw,n);return u.jsx(c_.p,{id:i.descriptionId,...r,ref:t})}).displayName=Yw;var Kw="DialogClose",Zw=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Nw(Kw,n);return u.jsx(c_.button,{type:"button",...r,ref:t,onClick:Xx(e.onClick,()=>i.onOpenChange(!1))})});function Jw(e){return e?"open":"closed"}Zw.displayName=Kw;var Qw="DialogTitleWarning",[eS,tS]=function(e,t){const n=T.createContext(t),r=e=>{const{children:t,...r}=e,i=T.useMemo(()=>r,Object.values(r));return u.jsx(n.Provider,{value:i,children:t})};return r.displayName=e+"Provider",[r,function(r){const i=T.useContext(n);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}]}(Qw,{contentName:Hw,titleName:$w,docsSlug:"dialog"}),nS=({titleId:e})=>{const t=tS(Qw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&document.getElementById(e)},[n,e]),null},rS=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tS("DialogDescriptionWarning").contentName}}.`;return T.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&document.getElementById(t)},[n,e,t]),null},iS=kw,aS=Iw,oS=Uw,sS=zw,lS=Ww,cS=Zw;const uS=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},dS=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),hS=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var fS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pS=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...s},l)=>T.createElement("svg",{ref:l,...fS,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:dS("lucide",i),...!a&&!hS(s)&&{"aria-hidden":"true"},...s},[...o.map(([e,t])=>T.createElement(e,t)),...Array.isArray(a)?a:[a]])),mS=(e,t)=>{const n=T.forwardRef(({className:n,...r},i)=>{return T.createElement(pS,{ref:i,iconNode:t,className:dS(`lucide-${a=uS(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var a});return n.displayName=uS(e),n},gS=mS("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),vS=mS("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),yS=mS("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),bS=mS("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=xS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const _S=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),wS="-",SS=[],MS=e=>{const t=AS(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return TS(e);const n=e.split(wS),r=""===n[0]&&n.length>1?1:0;return ES(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],i=n[e];return t?i?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(i,t):t:i||SS}return n[e]||SS}}},ES=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],i=n.nextPart.get(r);if(i){const n=ES(e,t+1,i);if(n)return n}const a=n.validators;if(null===a)return;const o=0===t?e.join(wS):e.slice(t).join(wS),s=a.length;for(let l=0;l<s;l++){const e=a[l];if(e.validator(o))return e.classGroupId}},TS=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),AS=e=>{const{theme:t,classGroups:n}=e;return CS(n,t)},CS=(e,t)=>{const n=_S();for(const r in e){const i=e[r];PS(i,n,r,t)}return n},PS=(e,t,n,r)=>{const i=e.length;for(let a=0;a<i;a++){const i=e[a];RS(i,t,n,r)}},RS=(e,t,n,r)=>{"string"!=typeof e?"function"!=typeof e?LS(e,t,n,r):kS(e,t,n,r):NS(e,t,n)},NS=(e,t,n)=>{(""===e?t:IS(t,e)).classGroupId=n},kS=(e,t,n,r)=>{OS(e)?PS(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},LS=(e,t,n,r)=>{const i=Object.entries(e),a=i.length;for(let o=0;o<a;o++){const[e,a]=i[o];PS(a,IS(t,e),n,r)}},IS=(e,t)=>{let n=e;const r=t.split(wS),i=r.length;for(let a=0;a<i;a++){const e=r[a];let t=n.nextPart.get(e);t||(t=_S(),n.nextPart.set(e,t)),n=t}return n},OS=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,DS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(i,a)=>{n[i]=a,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set(e,t){e in n?n[e]=t:i(e,t)}}},FS=[],US=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),jS=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,a=0;const o=e.length;for(let u=0;u<o;u++){const o=e[u];if(0===r&&0===i){if(":"===o){t.push(e.slice(a,u)),a=u+1;continue}if("/"===o){n=u;continue}}"["===o?r++:"]"===o?r--:"("===o?i++:")"===o&&i--}const s=0===t.length?e:e.slice(a);let l=s,c=!1;return s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0),US(t,c,l,n&&n>a?n-a:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):US(FS,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},zS=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let i=0;i<e.length;i++){const a=e[i],o="["===a[0],s=t.has(a);o||s?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(a)):r.push(a)}return r.length>0&&(r.sort(),n.push(...r)),n}},BS=/\s+/,VS=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=VS(e[r]))&&(n&&(n+=" "),n+=t);return n},HS=[],WS=e=>{const t=t=>t[e]||HS;return t.isThemeGetter=!0,t},GS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,qS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XS=/^\d+\/\d+$/,$S=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ZS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,QS=e=>XS.test(e),eM=e=>!!e&&!Number.isNaN(Number(e)),tM=e=>!!e&&Number.isInteger(Number(e)),nM=e=>e.endsWith("%")&&eM(e.slice(0,-1)),rM=e=>$S.test(e),iM=()=>!0,aM=e=>YS.test(e)&&!KS.test(e),oM=()=>!1,sM=e=>ZS.test(e),lM=e=>JS.test(e),cM=e=>!dM(e)&&!vM(e),uM=e=>MM(e,CM,oM),dM=e=>GS.test(e),hM=e=>MM(e,PM,aM),fM=e=>MM(e,RM,eM),pM=e=>MM(e,TM,oM),mM=e=>MM(e,AM,lM),gM=e=>MM(e,kM,sM),vM=e=>qS.test(e),yM=e=>EM(e,PM),bM=e=>EM(e,NM),xM=e=>EM(e,TM),_M=e=>EM(e,CM),wM=e=>EM(e,AM),SM=e=>EM(e,kM,!0),MM=(e,t,n)=>{const r=GS.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},EM=(e,t,n=!1)=>{const r=qS.exec(e);return!!r&&(r[1]?t(r[1]):n)},TM=e=>"position"===e||"percentage"===e,AM=e=>"image"===e||"url"===e,CM=e=>"length"===e||"size"===e||"bg-size"===e,PM=e=>"length"===e,RM=e=>"number"===e,NM=e=>"family-name"===e,kM=e=>"shadow"===e,LM=((e,...t)=>{let n,r,i,a;const o=e=>{const t=r(e);if(t)return t;const a=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=t,o=[],s=e.trim().split(BS);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!f,m=r(p?h.substring(0,f):h);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:a(u).join(":"),v=d?g+"!":g,y=v+m;if(o.indexOf(y)>-1)continue;o.push(y);const b=i(m,p);for(let n=0;n<b.length;++n){const e=b[n];o.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,a),a};return a=s=>{const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:DS(e.cacheSize),parseClassName:jS(e),sortModifiers:zS(e),...MS(e)}))(l),r=n.cache.get,i=n.cache.set,a=o,o(s)},(...e)=>a(((...e)=>{let t,n,r=0,i="";for(;r<e.length;)(t=e[r++])&&(n=VS(t))&&(i&&(i+=" "),i+=n);return i})(...e))})(()=>{const e=WS("color"),t=WS("font"),n=WS("text"),r=WS("font-weight"),i=WS("tracking"),a=WS("leading"),o=WS("breakpoint"),s=WS("container"),l=WS("spacing"),c=WS("radius"),u=WS("shadow"),d=WS("inset-shadow"),h=WS("text-shadow"),f=WS("drop-shadow"),p=WS("blur"),m=WS("perspective"),g=WS("aspect"),v=WS("ease"),y=WS("animate"),b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",vM,dM],x=()=>[vM,dM,l],_=()=>[QS,"full","auto",...x()],w=()=>[tM,"none","subgrid",vM,dM],S=()=>["auto",{span:["full",tM,vM,dM]},tM,vM,dM],M=()=>[tM,"auto",vM,dM],E=()=>["auto","min","max","fr",vM,dM],T=()=>["auto",...x()],A=()=>[QS,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],C=()=>[e,vM,dM],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",xM,pM,{position:[vM,dM]}],R=()=>["auto","cover","contain",_M,uM,{size:[vM,dM]}],N=()=>[nM,yM,hM],k=()=>["","none","full",c,vM,dM],L=()=>["",eM,yM,hM],I=()=>[eM,nM,xM,pM],O=()=>["","none",p,vM,dM],D=()=>["none",eM,vM,dM],F=()=>["none",eM,vM,dM],U=()=>[eM,vM,dM],j=()=>[QS,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rM],breakpoint:[rM],color:[iM],container:[rM],"drop-shadow":[rM],ease:["in","out","in-out"],font:[cM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rM],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rM],shadow:[rM],spacing:["px",eM],text:[rM],"text-shadow":[rM],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",QS,dM,vM,g]}],container:["container"],columns:[{columns:[eM,dM,vM,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:b()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:_()}],"inset-x":[{"inset-x":_()}],"inset-y":[{"inset-y":_()}],start:[{start:_()}],end:[{end:_()}],top:[{top:_()}],right:[{right:_()}],bottom:[{bottom:_()}],left:[{left:_()}],visibility:["visible","invisible","collapse"],z:[{z:[tM,"auto",vM,dM]}],basis:[{basis:[QS,"full","auto",s,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[eM,QS,"auto","initial","none",dM]}],grow:[{grow:["",eM,vM,dM]}],shrink:[{shrink:["",eM,vM,dM]}],order:[{order:[tM,"first","last","none",vM,dM]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":E()}],"auto-rows":[{"auto-rows":E()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[s,"screen",...A()]}],"min-w":[{"min-w":[s,"screen","none",...A()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[o]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",n,yM,hM]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,vM,fM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",nM,dM]}],"font-family":[{font:[bM,dM,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,vM,dM]}],"line-clamp":[{"line-clamp":[eM,"none",vM,fM]}],leading:[{leading:[a,...x()]}],"list-image":[{"list-image":["none",vM,dM]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vM,dM]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[eM,"from-font","auto",vM,hM]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[eM,"auto",vM,dM]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vM,dM]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vM,dM]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:P()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tM,vM,dM],radial:["",vM,dM],conic:[tM,vM,dM]},wM,mM]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:N()}],"gradient-via-pos":[{via:N()}],"gradient-to-pos":[{to:N()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:L()}],"border-w-x":[{"border-x":L()}],"border-w-y":[{"border-y":L()}],"border-w-s":[{"border-s":L()}],"border-w-e":[{"border-e":L()}],"border-w-t":[{"border-t":L()}],"border-w-r":[{"border-r":L()}],"border-w-b":[{"border-b":L()}],"border-w-l":[{"border-l":L()}],"divide-x":[{"divide-x":L()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":L()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[eM,vM,dM]}],"outline-w":[{outline:["",eM,yM,hM]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,SM,gM]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",d,SM,gM]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[eM,hM]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":L()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,SM,gM]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[eM,vM,dM]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[eM]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[vM,dM]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[eM]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:P()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vM,dM]}],filter:[{filter:["","none",vM,dM]}],blur:[{blur:O()}],brightness:[{brightness:[eM,vM,dM]}],contrast:[{contrast:[eM,vM,dM]}],"drop-shadow":[{"drop-shadow":["","none",f,SM,gM]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",eM,vM,dM]}],"hue-rotate":[{"hue-rotate":[eM,vM,dM]}],invert:[{invert:["",eM,vM,dM]}],saturate:[{saturate:[eM,vM,dM]}],sepia:[{sepia:["",eM,vM,dM]}],"backdrop-filter":[{"backdrop-filter":["","none",vM,dM]}],"backdrop-blur":[{"backdrop-blur":O()}],"backdrop-brightness":[{"backdrop-brightness":[eM,vM,dM]}],"backdrop-contrast":[{"backdrop-contrast":[eM,vM,dM]}],"backdrop-grayscale":[{"backdrop-grayscale":["",eM,vM,dM]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[eM,vM,dM]}],"backdrop-invert":[{"backdrop-invert":["",eM,vM,dM]}],"backdrop-opacity":[{"backdrop-opacity":[eM,vM,dM]}],"backdrop-saturate":[{"backdrop-saturate":[eM,vM,dM]}],"backdrop-sepia":[{"backdrop-sepia":["",eM,vM,dM]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vM,dM]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[eM,"initial",vM,dM]}],ease:[{ease:["linear","initial",v,vM,dM]}],delay:[{delay:[eM,vM,dM]}],animate:[{animate:["none",y,vM,dM]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,vM,dM]}],"perspective-origin":[{"perspective-origin":b()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[vM,dM,"","none","gpu","cpu"]}],"transform-origin":[{origin:b()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:j()}],"translate-x":[{"translate-x":j()}],"translate-y":[{"translate-y":j()}],"translate-z":[{"translate-z":j()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vM,dM]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vM,dM]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[eM,yM,hM,fM]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function IM(...e){return LM(function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=xS(e))&&(r&&(r+=" "),r+=t);return r}(e))}function OM({...e}){return u.jsx(iS,{"data-slot":"dialog",...e})}function DM({...e}){return u.jsx(aS,{"data-slot":"dialog-trigger",...e})}function FM({...e}){return u.jsx(oS,{"data-slot":"dialog-portal",...e})}function UM({className:e,...t}){return u.jsx(sS,{"data-slot":"dialog-overlay",className:IM("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-9999 bg-black/50",e),...t})}function jM({className:e,children:t,showCloseButton:n=!0,...r}){return u.jsxs(FM,{"data-slot":"dialog-portal",children:[u.jsx(UM,{}),u.jsxs(lS,{"data-slot":"dialog-content",className:IM("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-9999 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%]  rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...r,children:[t,n&&u.jsxs(cS,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-3 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 z-9999 text-white",children:[u.jsx(bS,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}var zM=T.createContext(void 0),BM="ScrollArea",[VM]=Zx(BM),[HM,WM]=VM(BM),GM=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[s,l]=T.useState(null),[c,d]=T.useState(null),[h,f]=T.useState(null),[p,m]=T.useState(null),[g,v]=T.useState(null),[y,b]=T.useState(0),[x,_]=T.useState(0),[w,S]=T.useState(!1),[M,E]=T.useState(!1),A=Kx(t,e=>l(e)),C=function(e){const t=T.useContext(zM);return e||t||"ltr"}(i);return u.jsx(HM,{scope:n,type:r,dir:C,scrollHideDelay:a,scrollArea:s,viewport:c,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:w,onScrollbarXEnabledChange:S,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:M,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:_,children:u.jsx(c_.div,{dir:C,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});GM.displayName=BM;var qM="ScrollAreaViewport",XM=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=WM(qM,n),s=Kx(t,T.useRef(null),o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(c_.div,{"data-radix-scroll-area-viewport":"",...a,ref:s,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});XM.displayName=qM;var $M="ScrollAreaScrollbar",YM=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=WM($M,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,s="horizontal"===e.orientation;return T.useEffect(()=>(s?a(!0):o(!0),()=>{s?a(!1):o(!1)}),[s,a,o]),"hover"===i.type?u.jsx(KM,{...r,ref:t,forceMount:n}):"scroll"===i.type?u.jsx(ZM,{...r,ref:t,forceMount:n}):"auto"===i.type?u.jsx(JM,{...r,ref:t,forceMount:n}):"always"===i.type?u.jsx(QM,{...r,ref:t}):null});YM.displayName=$M;var KM=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=WM($M,e.__scopeScrollArea),[a,o]=T.useState(!1);return T.useEffect(()=>{const e=i.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),o(!0)},r=()=>{t=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(R_,{present:n||a,children:u.jsx(JM,{"data-state":a?"visible":"hidden",...r,ref:t})})}),ZM=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=WM($M,e.__scopeScrollArea),a="horizontal"===e.orientation,o=yE(()=>l("SCROLL_END"),100),[s,l]=(c="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},T.useReducer((e,t)=>d[e][t]??e,c));var c,d;return T.useEffect(()=>{if("idle"===s){const e=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[s,i.scrollHideDelay,l]),T.useEffect(()=>{const e=i.viewport,t=a?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(l("SCROLL"),o()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}},[i.viewport,a,l,o]),u.jsx(R_,{present:n||"hidden"!==s,children:u.jsx(QM,{"data-state":"hidden"===s?"hidden":"visible",...r,ref:t,onPointerEnter:Xx(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Xx(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),JM=T.forwardRef((e,t)=>{const n=WM($M,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=T.useState(!1),s="horizontal"===e.orientation,l=yE(()=>{if(n.viewport){const e=n.viewport.offsetWidth<n.viewport.scrollWidth,t=n.viewport.offsetHeight<n.viewport.scrollHeight;o(s?e:t)}},10);return bE(n.viewport,l),bE(n.content,l),u.jsx(R_,{present:r||a,children:u.jsx(QM,{"data-state":a?"visible":"hidden",...i,ref:t})})}),QM=T.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=WM($M,e.__scopeScrollArea),a=T.useRef(null),o=T.useRef(0),[s,l]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=hE(s.viewport,s.content),d={...r,sizes:s,onSizesChange:l,hasThumb:Boolean(c>0&&c<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,n,r="ltr"){const i=fE(n),a=i/2,o=t||a,s=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d="ltr"===r?[0,u]:[-1*u,0];return mE([l,c],d)(e)}(e,o.current,s,t)}return"horizontal"===n?u.jsx(eE,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=pE(i.viewport.scrollLeft,s,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=h(e,i.dir))}}):"vertical"===n?u.jsx(tE,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=pE(i.viewport.scrollTop,s);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=h(e))}}):null}),eE=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=WM($M,e.__scopeScrollArea),[o,s]=T.useState(),l=T.useRef(null),c=Kx(t,l,a.onScrollbarXChange);return T.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(iE,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fE(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),gE(r,n)&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:dE(o.paddingLeft),paddingEnd:dE(o.paddingRight)}})}})}),tE=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=WM($M,e.__scopeScrollArea),[o,s]=T.useState(),l=T.useRef(null),c=Kx(t,l,a.onScrollbarYChange);return T.useEffect(()=>{l.current&&s(getComputedStyle(l.current))},[l]),u.jsx(iE,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fE(n)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),gE(r,n)&&t.preventDefault()}},onResize:()=>{l.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:dE(o.paddingTop),paddingEnd:dE(o.paddingBottom)}})}})}),[nE,rE]=VM($M),iE=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...f}=e,p=WM($M,n),[m,g]=T.useState(null),v=Kx(t,e=>g(e)),y=T.useRef(null),b=T.useRef(""),x=p.viewport,_=r.content-r.viewport,w=u_(d),S=u_(l),M=yE(h,10);function E(e){if(y.current){const t=e.clientX-y.current.left,n=e.clientY-y.current.top;c({x:t,y:n})}}return T.useEffect(()=>{const e=e=>{const t=e.target,n=m?.contains(t);n&&w(e,_)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[x,m,_,w]),T.useEffect(S,[r,S]),bE(m,M),bE(p.content,M),u.jsx(nE,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:u_(a),onThumbPointerUp:u_(o),onThumbPositionChange:S,onThumbPointerDown:u_(s),children:u.jsx(c_.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:Xx(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),y.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(e))}),onPointerMove:Xx(e.onPointerMove,E),onPointerUp:Xx(e.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=b.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),aE="ScrollAreaThumb",oE=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=rE(aE,e.__scopeScrollArea);return u.jsx(R_,{present:n||i.hasThumb,children:u.jsx(sE,{ref:t,...r})})}),sE=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=WM(aE,n),o=rE(aE,n),{onThumbPositionChange:s}=o,l=Kx(t,e=>o.onThumbChange(e)),c=T.useRef(void 0),d=yE(()=>{c.current&&(c.current(),c.current=void 0)},100);return T.useEffect(()=>{const e=a.viewport;if(e){const t=()=>{if(d(),!c.current){const t=vE(e,s);c.current=t,s()}};return s(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[a.viewport,d,s]),u.jsx(c_.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Xx(e.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;o.onThumbPointerDown({x:n,y:r})}),onPointerUp:Xx(e.onPointerUp,o.onThumbPointerUp)})});oE.displayName=aE;var lE="ScrollAreaCorner",cE=T.forwardRef((e,t)=>{const n=WM(lE,e.__scopeScrollArea),r=Boolean(n.scrollbarX&&n.scrollbarY);return"scroll"!==n.type&&r?u.jsx(uE,{...e,ref:t}):null});cE.displayName=lE;var uE=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=WM(lE,n),[a,o]=T.useState(0),[s,l]=T.useState(0),c=Boolean(a&&s);return bE(i.scrollbarX,()=>{const e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),l(e)}),bE(i.scrollbarY,()=>{const e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),o(e)}),c?u.jsx(c_.div,{...r,ref:t,style:{width:a,height:s,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function dE(e){return e?parseInt(e,10):0}function hE(e,t){const n=e/t;return isNaN(n)?0:n}function fE(e){const t=hE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function pE(e,t,n="ltr"){const r=fE(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,s=a-r,l=function(e,[t,n]){return Math.min(n,Math.max(t,e))}(e,"ltr"===n?[0,o]:[-1*o,0]);return mE([0,o],[0,s])(l)}function mE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function gE(e,t){return e>0&&e<t}var vE=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,s=n.top!==a.top;(o||s)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function yE(e,t){const n=u_(e),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bE(e,t){const n=u_(t);Qx(()=>{let t=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}},[e,n])}var xE=GM,_E=XM,wE=cE;function SE({className:e,children:t,...n}){return u.jsxs(xE,{"data-slot":"scroll-area",className:IM("relative",e),...n,children:[u.jsx(_E,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),u.jsx(ME,{}),u.jsx(wE,{})]})}function ME({className:e,orientation:t="vertical",...n}){return u.jsx(YM,{"data-slot":"scroll-area-scrollbar",orientation:t,className:IM("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:u.jsx(oE,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function EE({seo:e}){if(!e||!e.meta)return null;const{meta:t,canonical:n,schema:r}=e;return u.jsxs(sx,{title:t.title,children:[u.jsx("meta",{name:"description",content:t.description}),t.keywords&&u.jsx("meta",{name:"keywords",content:t.keywords}),u.jsx("meta",{name:"author",content:"Marsmolys"}),u.jsx("link",{rel:"canonical",href:n}),u.jsx("meta",{property:"og:title",content:t.og_title}),u.jsx("meta",{property:"og:description",content:t.og_description}),u.jsx("meta",{property:"og:type",content:t.og_type||"website"}),u.jsx("meta",{property:"og:url",content:n}),u.jsx("meta",{property:"og:image",content:t.og_image}),u.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),u.jsx("meta",{name:"twitter:title",content:t.twitter_title}),u.jsx("meta",{name:"twitter:description",content:t.twitter_description}),u.jsx("meta",{name:"twitter:image",content:t.og_image}),r&&u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}})]})}function TE({href:e,label:t="HOME",position:n="left"}){const r="left"===n;return u.jsx(ll.div,{initial:{opacity:0,x:r?-10:10},animate:{opacity:1,x:0},className:`\n                fixed top-6 ${r?"left-6":"right-6"}\n                z-100\n                backdrop-blur-lg\n                bg-white/5\n                rounded-full\n                px-4 py-2\n                isolation-isolate\n            `,children:u.jsxs(hx,{href:e,className:"\n                    group flex items-center gap-3\n                    text-xs tracking-[0.35em]\n                    text-white\n                    mix-blend-difference\n                    transition-colors\n                ",children:[r&&u.jsx("span",{className:"block w-6 h-px bg-white opacity-70"}),t,!r&&u.jsx("span",{className:"block w-6 h-px bg-white opacity-70"})]})})}const AE=Object.freeze(Object.defineProperty({__proto__:null,default:TE},Symbol.toStringTag,{value:"Module"}));function CE({album:e}){const[t,n]=T.useState(!1);T.useEffect(()=>{if(window.lenis)return t?(window.lenis.stop(),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.touchAction="none"):(window.lenis.start(),document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.touchAction=""),()=>{document.body.style.overflow=""}},[t]);const r=[{name:"Spotify",url:e.spotify_url,icon:u.jsx(jx,{})},{name:"Apple Music",url:e.apple_url,icon:u.jsx(Ix,{})},{name:"YouTube",url:e.youtube_url,icon:u.jsx(Vx,{})},{name:"Amazon",url:e.amazon_url,icon:u.jsx(Lx,{})},{name:"Deezer",url:e.deezer_url,icon:u.jsx(Ox,{})},{name:"SoundCloud",url:e.soundcloud_url,icon:u.jsx(Ux,{})}].filter(e=>e.url);return r.length?u.jsxs(OM,{open:t,onOpenChange:n,children:[u.jsx(DM,{asChild:!0,children:u.jsxs("button",{className:"\n                group relative\n                px-14 py-5\n                text-sm tracking-[0.4em]\n                text-stone-100\n                bg-transparent\n                border border-stone-700/60\n                backdrop-blur-sm\n                transition-all duration-700\n                hover:border-stone-400\n                w-60 text-nowrap cursor-pointer\n            ",children:[u.jsx("span",{className:"relative z-10",children:"STREAM"}),u.jsx("span",{className:"\n              absolute inset-0\n              bg-[radial-gradient(circle_at_center,rgba(120,140,255,0.4),transparent_65%)]\n              opacity-0\n              group-hover:opacity-100\n              transition-opacity duration-700\n            "})]})}),u.jsxs(jM,{className:"\n    max-w-lg\n    bg-black/80\n    backdrop-blur-2xl\n    border border-white/10\n    shadow-[0_0_120px_rgba(120,140,255,0.25)]\n    overflow-hidden\n    p-0\n  ",children:[u.jsx("div",{className:"\n      pointer-events-none\n      absolute -top-32 -left-24 -right-24 -bottom-24\n      z-0\n      bg-[radial-gradient(circle_at_50%_0%,rgba(120,140,255,0.45),transparent_55%),radial-gradient(circle_at_80%_70%,rgba(255,120,180,0.22),transparent_45%)]\n      blur-2xl\n    "}),u.jsx("div",{className:"\n      relative z-20\n      flex justify-end\n      px-6\n    "}),u.jsxs(SE,{"data-lenis-prevent":!0,className:"\n      relative z-10\n      max-h-[75vh]\n      overflow-y-auto\n      overscroll-contain\n      no-scrollbar\n      scrollbar-gutter-stable\n      px-8\n    ",children:[u.jsx("div",{className:"flex justify-center pt-16 mb-10",children:u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"\n            absolute -inset-4\n            rounded-full\n            border border-indigo-400/30\n          "}),u.jsx("div",{className:"\n            absolute -inset-8\n            rounded-full\n            bg-[radial-gradient(circle_at_center,rgba(120,140,255,0.35),transparent_65%)]\n          "}),u.jsx("img",{src:e.cover_url,alt:e.title,draggable:!1,onDragStart:e=>e.preventDefault(),className:"\n            relative z-10\n            w-48 h-48\n            rounded-full\n            object-cover\n            border border-white/20\n            shadow-[0_0_80px_rgba(120,140,255,0.45)] select-none\n          "})]})}),u.jsx("div",{className:"text-center mb-10",children:u.jsx("p",{className:"text-[10px] tracking-[0.6em] text-stone-400",children:"STREAM CHANNELS"})}),u.jsxs("div",{className:"space-y-5",children:[r.map((e,t)=>u.jsxs(hx,{href:e.url,target:"_blank",className:"\n            group\n            relative\n            flex items-center justify-between\n            px-6 py-5\n            rounded-2xl\n            border border-white/10\n            bg-white/[0.04]\n            text-xs tracking-[0.35em] uppercase\n            text-stone-300\n            transition-all duration-500\n            hover:text-white\n            hover:border-indigo-400/50\n            hover:bg-white/[0.08]\n          ",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("span",{className:"text-lg opacity-70 group-hover:opacity-100 transition",children:e.icon}),e.name]}),u.jsx("span",{className:"\n              w-10 h-px\n              bg-stone-600\n              group-hover:bg-indigo-300\n              transition\n            "})]},t)),u.jsx("div",{className:" flex items-center justify-center",children:u.jsx("span",{className:"text-stone-500 text-xs mb-5",children:"You have accepted the use of cookies for this service"})})]})]})]})]}):null}function PE({tracks:e}){return Array.isArray(e)&&0!==e.length?1===e.length?u.jsx(RE,{track:e[0]}):2===e.length?u.jsx(NE,{tracks:e}):u.jsx(kE,{tracks:e}):null}function RE({track:e}){return u.jsx("section",{className:"relative py-40 px-6 bg-black text-center",children:u.jsxs("div",{className:"max-w-xl mx-auto space-y-10",children:[u.jsx("span",{className:"text-xs tracking-[0.45em] text-stone-500",children:"SINGLE"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("span",{className:"block text-6xl font-light text-stone-700",children:"01"}),u.jsx("h2",{className:"text-2xl md:text-3xl text-stone-100 tracking-wide",children:e.title}),e.duration_ms&&u.jsx("span",{className:"block text-sm text-stone-500",children:IE(e.duration_ms)})]}),e.preview_url&&u.jsx("button",{className:"btn-outline mt-6",children:"PLAY PREVIEW"})]})})}function NE({tracks:e}){return u.jsx("section",{className:"relative py-40 px-6 bg-black",children:u.jsxs("div",{className:"max-w-3xl mx-auto space-y-16",children:[u.jsx("div",{className:"text-center",children:u.jsx("span",{className:"text-xs tracking-[0.45em] text-stone-500",children:"TRACKS"})}),u.jsx("ul",{className:"space-y-10",children:e.map((e,t)=>u.jsxs(ll.li,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center gap-6",children:[u.jsx("span",{className:"text-3xl font-light text-stone-600 w-12",children:String(e.track_number).padStart(2,"0")}),u.jsxs("div",{children:[u.jsx("span",{className:"block text-stone-200 tracking-wide",children:e.title}),e.duration_ms&&u.jsx("span",{className:"text-xs text-stone-500",children:IE(e.duration_ms)})]})]},e.id))})]})})}function kE({tracks:e}){const t=Math.ceil(e.length/2),n={A:e.slice(0,t),B:e.slice(t)};return u.jsx("section",{className:"relative py-40 px-6 bg-black",children:u.jsx("div",{className:"max-w-5xl mx-auto grid md:grid-cols-2 gap-24",children:Object.entries(n).map(([e,t])=>u.jsxs("div",{className:"space-y-10",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("span",{className:"text-xs tracking-[0.4em] text-stone-400",children:["SIDE ",e]}),u.jsx("div",{className:"flex-1 h-px bg-stone-800"})]}),u.jsx("ul",{className:"space-y-8",children:t.map(e=>u.jsxs("li",{className:"flex gap-6 text-stone-300",children:[u.jsx("span",{className:"text-stone-600 w-10",children:String(e.track_number).padStart(2,"0")}),u.jsx("span",{children:e.title})]},e.id))})]},e))})})}function LE({image:e,album:t}){return u.jsx("section",{className:"relative h-[80vh] overflow-hidden",children:u.jsxs(ll.div,{initial:{scale:1.1,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:1.2},viewport:{once:!0},className:"absolute inset-0",children:[u.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${e})`}}),u.jsx("div",{className:"absolute inset-0 bg-black/60"}),u.jsxs("div",{className:"absolute inset-0 flex items-center flex-col justify-center gap-10",children:[u.jsx("span",{className:"\n        relative z-10\n        text-xs tracking-[0.5em]\n        font-semibold\n        text-stone-200\n    ",children:"EXPERIENCE THE ALBUM"}),u.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-center gap-3",children:[u.jsx(CE,{album:t}),t.bandcamp_url&&u.jsxs("a",{href:t.bandcamp_url,target:"_blank",className:"\n                group relative\n                px-14 py-5\n                text-sm tracking-[0.4em]\n                text-stone-100\n                bg-transparent\n                border border-stone-700/60\n                backdrop-blur-sm\n                transition-all duration-700\n                hover:border-stone-400\n                w-60 text-nowrap\n            ",children:[u.jsx("span",{className:"relative z-10",children:"BUY ALBUM"}),u.jsx("span",{className:"\n              absolute inset-0\n              bg-[radial-gradient(circle_at_center,rgba(120,140,255,0.4),transparent_65%)]\n              opacity-0\n              group-hover:opacity-100\n              transition-opacity duration-700\n            "})]})]})]})]})})}function IE(e){return`${Math.floor(e/6e4)}:${Math.floor(e%6e4/1e3).toString().padStart(2,"0")}`}const OE=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{album:e,seo:t}=rx().props,n=dl(Dl,[0,600],[0,-80]);return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsx(TE,{href:"/music",label:"MUSIC",position:"right"}),u.jsxs(ll.section,{style:{y:n},className:"\n                    relative min-h-dvh\n                    flex items-center justify-center\n                    overflow-hidden\n                    bg-black\n                ",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-black/80 to-black"}),u.jsx(ll.img,{src:e.cover_url,alt:e.title,initial:{opacity:0,scale:.92},animate:{opacity:1,scale:1},transition:{duration:1.2},draggable:!1,onDragStart:e=>e.preventDefault(),className:"\n                        relative z-10\n                        w-65 md:w-105\n                        shadow-[0_0_120px_rgba(255,255,255,0.08)] select-none\n                    "}),u.jsx("span",{className:"absolute bottom-10 text-xs tracking-[0.4em] text-stone-500",children:"SCROLL TO DECODE"})]}),u.jsx("section",{className:"relative py-24 px-6 bg-black",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("span",{className:"block text-xs tracking-[0.4em] text-stone-500 mb-4",children:"ALBUM"}),u.jsx("h1",{className:"text-3xl md:text-4xl mb-4",style:{fontFamily:"Nickson"},children:e.title}),u.jsxs("span",{className:"text-sm text-stone-400",children:["Released ",e.release_date?.slice(0,4)]})]})}),u.jsx(PE,{tracks:e.tracks}),u.jsx(LE,{image:e.cover_url,album:e})]})]})}},Symbol.toStringTag,{value:"Module"}));function DE(e,t,n=40,r=-40){return dl(Dl,[e,t],[n,r])}function FE({src:e,alt:t,className:n="",objectClass:r="object-cover"}){const i=T.useRef(null),[a,o]=T.useState(!1),[s,l]=T.useState(!1);return T.useEffect(()=>{l(!1)},[e]),T.useEffect(()=>{const e=i.current;if(!e)return;const t=new IntersectionObserver(([e])=>{e.isIntersecting&&(o(!0),t.disconnect())},{root:null,rootMargin:"50px 0px",threshold:.01});return t.observe(e),()=>t.disconnect()},[]),u.jsxs("div",{ref:i,className:`relative h-full w-full overflow-hidden ${n}`,children:[u.jsx("img",{src:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='1000'%3E%3Cdefs%3E%3CradialGradient id='g' cx='30%25' cy='20%25' r='80%25'%3E%3Cstop offset='0%25' stop-color='rgba(255,255,255,0.10)'/%3E%3Cstop offset='45%25' stop-color='rgba(255,255,255,0.04)'/%3E%3Cstop offset='100%25' stop-color='rgba(0,0,0,0.85)'/%3E%3C/radialGradient%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='black'/%3E%3Crect width='100%25' height='100%25' fill='url(%23g)'/%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.12'/%3E%3C/svg%3E",alt:t,"aria-hidden":"true",draggable:!1,className:`absolute inset-0 h-full w-full ${r} blur-2xl scale-[1.08]`}),a&&u.jsx("img",{src:e,alt:t,loading:"lazy",decoding:"async",draggable:!1,onLoad:()=>l(!0),className:["absolute inset-0 h-full w-full",r,"transition-all duration-700 ease-out will-change-transform",s?"opacity-100 blur-0 scale-100":"opacity-0 blur-xl scale-[1.04]"].join(" ")}),u.jsx("div",{className:["pointer-events-none absolute inset-0 transition-opacity duration-500",s?"opacity-0":"opacity-100 bg-black/25"].join(" ")})]})}function UE({open:e,items:t=[],index:n=0,onClose:r,onPrev:i,onNext:a,onSelectIndex:o}){const s=t?.[n],l=t?.length??0,[c,d]=T.useState(!1),[h,f]=T.useState(!0),[p,m]=T.useState(1),[g,v]=T.useState({x:0,y:0}),[y,b]=T.useState(!1),[x,_]=T.useState(!1),[w,S]=T.useState(!1),[M,E]=T.useState(0),A=T.useRef(null),C=T.useRef(0),P=T.useRef(null),R=T.useRef(null),N=T.useRef(null),k=n>0,L=n<l-1,I=(s?.type??"image").toLowerCase(),O="image"===I,D="video"===I,F="youtube"===I,U="vimeo"===I,j=F||U,z=()=>{f(!0),P.current&&clearTimeout(P.current)},B=(e=1400)=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>f(!1),e)},V=()=>{m(1),v({x:0,y:0})},H=()=>{O&&m(e=>Math.min(3.5,+(e+.25).toFixed(2)))},W=()=>{O&&m(e=>{const t=Math.max(1,+(e-.25).toFixed(2));return 1===t&&v({x:0,y:0}),t})},G=T.useMemo(()=>x?{touchAction:"auto"}:O?{touchAction:p>1?"none":"pan-y"}:{touchAction:"auto"},[x,O,p]),q=T.useMemo(()=>x?{onTouchStart:void 0,onTouchMove:void 0,onTouchEnd:void 0}:{onTouchStart:e=>{if(z(),B(1400),O&&(1===e.touches.length&&(lastTouchRef.current={x:e.touches[0].clientX,y:e.touches[0].clientY}),2===e.touches.length)){const t=e.touches[0],n=e.touches[1];pinchRef.current={startDist:dist(t,n),startZoom:p}}},onTouchMove:e=>{if(O&&!(p<=1)){if(e.preventDefault(),1===e.touches.length&&lastTouchRef.current){const t=e.touches[0].clientX,n=e.touches[0].clientY,r=t-lastTouchRef.current.x,i=n-lastTouchRef.current.y;return lastTouchRef.current={x:t,y:n},void v(e=>$(e.x+r,e.y+i))}if(2===e.touches.length&&pinchRef.current){const t=e.touches[0],n=e.touches[1],r=dist(t,n)/pinchRef.current.startDist,i=pinchRef.current.startZoom*r,a=Math.max(1,Math.min(3.5,i));m(+a.toFixed(2)),a<=1.01&&v({x:0,y:0})}}},onTouchEnd:()=>{lastTouchRef.current=null,pinchRef.current=null,B(1400)}},[x,O,p]);T.useEffect(()=>{if(!e)return;const t=document.documentElement,n=document.body,r=window.scrollY||window.pageYOffset,i=t.style.overflow,a=n.style.overflow,o=n.style.position,s=n.style.top,l=n.style.width,c=n.style.paddingRight,u=window.innerWidth-t.clientWidth;return u>0&&(n.style.paddingRight=`${u}px`),t.style.overflow="hidden",n.style.overflow="hidden",n.style.position="fixed",n.style.top=`-${r}px`,n.style.width="100%",()=>{t.style.overflow=i,n.style.overflow=a,n.style.position=o,n.style.top=s,n.style.width=l,n.style.paddingRight=c,window.scrollTo(0,r)}},[e]),T.useEffect(()=>(d(!0),()=>d(!1)),[]),T.useEffect(()=>{if(e){if(V(),N.current)try{N.current.pause(),N.current.currentTime=0}catch{}O||S(!1)}},[n,e]),T.useEffect(()=>{if(!e)return;const t=e=>{if("Escape"!==e.key){if(!x)if("ArrowLeft"!==e.key)if("ArrowRight"!==e.key){if(O){if("+"===e.key||"="===e.key)return void H();if("-"===e.key)return void W();if("r"===e.key.toLowerCase())return void V()}"g"!==e.key.toLowerCase()||_(e=>!e)}else L&&a?.();else k&&i?.()}else r?.()};return window.addEventListener("keydown",t,{passive:!1}),()=>window.removeEventListener("keydown",t)},[e,x,k,L,i,a,r,O]),T.useEffect(()=>{if(e)return z(),B(1400),()=>{P.current&&clearTimeout(P.current)}},[e]),T.useEffect(()=>{if(!e)return;if(!w)return;if(x)return;if(!O)return;let t=!1,r=null;return(()=>{C.current=performance.now(),E(0);const e=n=>{if(t)return;const r=n-C.current,i=Math.min(1,r/2200);E(i),i<1&&(A.current=requestAnimationFrame(e))};A.current=requestAnimationFrame(e),r=setTimeout(()=>{if(!t)return n>=l-1?(S(!1),void E(0)):void a?.()},2200)})(),()=>{t=!0,r&&clearTimeout(r),A.current&&cancelAnimationFrame(A.current)}},[e,w,x,n,l,a,O]);const X=()=>{b(!1),B(1400)},$=(e,t)=>{const n=420*(p-1);return{x:Math.max(-n,Math.min(n,e)),y:Math.max(-n,Math.min(n,t))}},Y=T.useMemo(()=>t??[],[t]),K=function(e){if(!e)return null;try{const t=new URL(e);return t.hostname.includes("youtu.be")?t.pathname.replace("/",""):t.hostname.includes("youtube.com")?t.searchParams.get("v"):null}catch{return null}}(s?.src),Z=function(e){if(!e)return null;try{const t=new URL(e);if(!t.hostname.includes("vimeo.com"))return null;const n=t.pathname.split("/").filter(Boolean),r=n[n.length-1];return r?r.replace(/\D/g,""):null}catch{return null}}(s?.src),J=T.useMemo(()=>F?K?`https://www.youtube-nocookie.com/embed/${K}?autoplay=0&mute=1&rel=0&modestbranding=1&playsinline=1`:null:U&&Z?`https://player.vimeo.com/video/${Z}?autoplay=1&muted=1&title=0&byline=0&portrait=0`:null,[F,U,K,Z]),Q=`${I}-${n}-${J??"no-src"}`;return c&&e&&s?Tb.createPortal(u.jsx(Bo,{children:u.jsxs(ll.div,{ref:R,className:"\n                fixed inset-0 z-999999\n                overscroll-none\n                pt-[env(safe-area-inset-top)]\n                pb-[env(safe-area-inset-bottom)]\n                pl-[env(safe-area-inset-left)]\n                pr-[env(safe-area-inset-right)]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onMouseMove:()=>{z(),B(1400)},onClick:()=>{z(),B(1600)},children:[u.jsx("div",{className:"absolute inset-0 bg-black"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.55] bg-[radial-gradient(circle_at_25%_20%,rgba(255,255,255,0.10),transparent_50%),radial-gradient(circle_at_75%_70%,rgba(140,190,255,0.10),transparent_55%),radial-gradient(circle_at_55%_40%,rgba(180,130,255,0.08),transparent_55%)]"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.85] bg-[radial-gradient(ellipse_at_center,rgba(0,0,0,0.10)_0%,rgba(0,0,0,0.75)_55%,rgba(0,0,0,0.95)_100%)]"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.10] mix-blend-overlay [background-image:url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22160%22 height=%22160%22%3E%3Cfilter id=%22n%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.85%22 numOctaves=%222%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22160%22 height=%22160%22 filter=%22url(%23n)%22 opacity=%220.35%22/%3E%3C/svg%3E')"}),u.jsx(Bo,{children:h&&u.jsxs(ll.div,{className:"\n                            absolute left-3 right-3 top-3 z-10\n                            flex flex-col md:flex-row\n                            md:items-center md:justify-between\n                            gap-2\n                            ",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.18},onClick:e=>e.stopPropagation(),children:[O&&u.jsxs("div",{className:"flex flex-wrap items-center justify-between md:justify-start gap-2 rounded-full bg-black/35 px-2 py-2 ring-1 ring-white/10 backdrop-blur-xl w-full md:w-auto",children:[u.jsx(jE,{title:"Zoom In (+)",disabled:!O,onClick:()=>{z(),H()},icon:u.jsx(zE,{})}),u.jsx(jE,{title:"Zoom Out (-)",disabled:!O,onClick:()=>{z(),W()},icon:u.jsx(BE,{})}),u.jsx(jE,{title:"Reset (R)",disabled:!O,onClick:()=>{z(),V()},icon:u.jsx(VE,{})}),u.jsx("div",{className:"mx-1 h-5 w-px bg-white/10"}),u.jsx("div",{className:"px-2 text-[11px] tracking-[0.25em] text-white/55",children:O?`${Math.round(100*p)}%`:"MEDIA"})]}),u.jsx(Bo,{children:h&&!O&&u.jsx(ll.div,{className:"hidden md:flex pointer-events-none flex-wrap items-center justify-between md:justify-start gap-2 rounded-full bg-black/35 px-2 py-2 ring-1 ring-white/10 backdrop-blur-xl w-full md:w-auto",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18},children:u.jsxs("div",{className:"bg-black/35 px-4 py-2 text-[11px] tracking-[0.35em] text-white/65 backdrop-blur-xl",children:[n+1,"/",l]})})}),u.jsxs("div",{className:"hidden md:flex items-center gap-3 rounded-full bg-black/35 px-4 py-2 ring-1 ring-white/10 backdrop-blur-xl",children:[u.jsx("div",{className:"text-[11px] tracking-[0.35em] text-white/65 uppercase",children:s.title??"UNTITLED"}),u.jsx("div",{className:"h-4 w-px bg-white/10"}),u.jsx("div",{className:"text-[11px] tracking-[0.35em] text-white/35",children:s.year??""})]}),u.jsxs("div",{className:"order-first md:order-last flex flex-wrap items-center justify-between md:justify-start gap-2 rounded-full bg-black/35 px-2 py-2 ring-1 ring-white/10 backdrop-blur-xl w-full md:w-auto",children:[u.jsx(jE,{title:"Grid (G)",active:x,onClick:()=>{z(),_(e=>!e)},icon:u.jsx(HE,{})}),O&&u.jsx(u.Fragment,{children:u.jsx(jE,{title:w?"Pause":"Play",active:w,disabled:!O,onClick:()=>{z(),S(e=>!e),E(0)},icon:u.jsx(WE,{playing:w,progress:w?M:0})})}),u.jsx("div",{className:"mx-1 h-5 w-px bg-white/10"}),u.jsx(jE,{title:"Close (Esc)",onClick:()=>r?.(),icon:u.jsx(XE,{})})]})]})}),u.jsx(Bo,{children:h&&O&&u.jsx(ll.div,{className:"hidden md:flex pointer-events-none absolute left-4 top-18 md:top-18.5 z-10",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18},children:u.jsxs("div",{className:"rounded-full bg-black/35 px-4 py-2 text-[11px] tracking-[0.35em] text-white/65 ring-1 ring-white/10 backdrop-blur-xl",children:[n+1,"/",l]})})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-2 sm:p-3 md:p-8",onWheel:!x&&O?e=>{O&&(e.preventDefault(),z(),B(1400),Math.sign(e.deltaY)>0?W():H())}:void 0,style:G,...q,children:u.jsxs("div",{className:"relative h-full w-full max-w-350 md:px-0",children:[u.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-xl md:rounded-2xl ring-1 ring-white/10 shadow-[0_40px_160px_rgba(0,0,0,0.75)]"}),u.jsxs(ll.div,{className:"absolute inset-0 flex items-center justify-center rounded-xl md:rounded-2xl overflow-hidden bg-black/20",initial:{opacity:0,scale:.985},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.99},transition:{duration:.2},onClick:e=>e.stopPropagation(),children:[O&&u.jsx(ll.img,{src:s.cover,alt:s.title??"image",draggable:!1,className:"max-h-full max-w-full select-none object-contain",style:{transform:`translate3d(${g.x}px, ${g.y}px, 0) scale(${p})`,cursor:p>1?y?"grabbing":"grab":"zoom-in"},onDoubleClick:e=>{e.stopPropagation(),z(),1===p?m(2):V()},onMouseDown:e=>{p<=1||(e.preventDefault(),O&&(p<=1||(b(!0),z())))},onMouseUp:()=>X(),onMouseLeave:()=>X(),onMouseMove:e=>{if(!y)return;e.preventDefault();const t=g.x+e.movementX,n=g.y+e.movementY;v($(t,n))}}),D&&u.jsx("div",{className:"w-full h-full flex items-center justify-center p-3 md:p-6",children:u.jsx("div",{className:"w-full max-w-5xl overflow-hidden rounded-2xl bg-black/35 ring-1 ring-white/10 backdrop-blur-xl",children:u.jsx("video",{ref:N,className:"w-full h-full",style:{aspectRatio:"16 / 9"},controls:!0,playsInline:!0,preload:"metadata",poster:s.cover,src:s.src},`video-${n}-${s?.src??"no-src"}`)})}),j&&u.jsx("div",{className:"w-full h-full flex items-center justify-center p-3 md:p-6",children:u.jsx("div",{className:"w-full max-w-5xl overflow-hidden rounded-2xl bg-black/35 ring-1 ring-white/10 backdrop-blur-xl",children:u.jsx("div",{className:"w-full",style:{aspectRatio:"16 / 9"},children:J?u.jsx("iframe",{className:"h-full w-full",src:J,title:s.title??"Embed",allow:"autoplay; encrypted-media; picture-in-picture",allowFullScreen:!0},Q):u.jsx("div",{className:"grid h-full w-full place-items-center p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-xs tracking-[0.35em] text-white/60 uppercase",children:"Invalid Embed URL"}),u.jsx("div",{className:"mt-2 text-sm text-white/40 break-all max-w-[80ch]",children:String(s?.src??"")})]})})})})})]})]})}),u.jsx(Bo,{children:h&&!x&&u.jsxs(u.Fragment,{children:[u.jsx(ll.button,{type:"button",className:"\n                                absolute left-2 sm:left-3\n                                top-1/2 -translate-y-1/2\n                                z-10\n                                rounded-full bg-black/35 p-3 sm:p-3.5\n                                ring-1 ring-white/10 backdrop-blur-xl\n                                text-white/70 hover:text-white\n                                disabled:opacity-30 disabled:hover:text-white/70\n                                md:left-3\n                                ",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.18},disabled:!k,onClick:e=>{e.stopPropagation(),z(),k&&i?.()},"aria-label":"Previous",title:"Previous ()",children:u.jsx($E,{})}),u.jsx(ll.button,{type:"button",className:"\n                                absolute right-2 sm:right-3\n                                top-1/2 -translate-y-1/2\n                                z-10\n                                rounded-full bg-black/35 p-3 sm:p-3.5\n                                ring-1 ring-white/10 backdrop-blur-xl\n                                text-white/70 hover:text-white\n                                disabled:opacity-30 disabled:hover:text-white/70\n                                md:right-3\n                                ",initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.18},disabled:!L,onClick:e=>{e.stopPropagation(),z(),L&&a?.()},"aria-label":"Next",title:"Next ()",children:u.jsx(YE,{})})]})}),u.jsx(Bo,{children:x&&u.jsxs(ll.div,{className:"absolute inset-0 z-20",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},onClick:e=>{e.stopPropagation(),z(),_(!1)},onWheel:e=>e.stopPropagation(),onTouchMove:e=>e.stopPropagation(),children:[u.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-md"}),u.jsx(ll.div,{className:"absolute left-1/2 top-1/2 w-[92vw] max-w-300 -translate-x-1/2 -translate-y-1/2",initial:{scale:.98,opacity:0,y:8},animate:{scale:1,opacity:1,y:0},exit:{scale:.98,opacity:0,y:8},transition:{duration:.18},onClick:e=>e.stopPropagation(),children:u.jsxs("div",{className:"rounded-2xl bg-black/40 ring-1 ring-white/10 shadow-[0_30px_120px_rgba(0,0,0,0.7)] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsx("div",{className:"text-[11px] tracking-[0.45em] text-white/60 uppercase",children:"GRID"}),u.jsx("button",{type:"button",onClick:()=>_(!1),className:"rounded-full bg-white/10 px-3 py-1 text-[11px] tracking-[0.35em] text-white/70 ring-1 ring-white/10 hover:bg-white/15",children:"CLOSE"})]}),u.jsx(SE,{className:"h-[70vh] p-4",children:u.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3",children:Y.map((e,t)=>u.jsxs("button",{type:"button",onClick:()=>{o?.(t),_(!1)},className:`relative overflow-hidden rounded-xl ring-1 ${t===n?"ring-white/40":"ring-white/10"} bg-white/5`,children:[u.jsx("img",{src:e.cover,alt:e.title??"thumb",loading:"lazy",decoding:"async",className:"h-20 w-full object-cover",draggable:!1}),u.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/60 via-transparent to-transparent"}),u.jsx("div",{className:"absolute left-2 top-2 rounded-full bg-black/40 px-2 py-1 text-[9px] tracking-[0.35em] text-white/60 ring-1 ring-white/10",children:(e.type??"image").toUpperCase()})]},e.id??t))})})]})})]})}),u.jsx(Bo,{children:h&&u.jsx(ll.div,{className:"pointer-events-none absolute bottom-3 left-1/2 -translate-x-1/2 z-10 md:hidden",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.18},children:u.jsxs("div",{className:"\n          flex items-center gap-2\n          rounded-full\n          bg-black/35 px-4 py-2\n          ring-1 ring-white/10 backdrop-blur-xl\n          max-w-[92vw]\n        ",children:[u.jsx("div",{className:"\n            min-w-0 flex-1\n            text-wrap\n            text-[11px] uppercase\n            tracking-[0.32em]\n            text-white/70\n          ",children:s.title??"UNTITLED"}),u.jsx("div",{className:"h-4 w-px bg-white/10"}),u.jsxs("div",{className:"\n            shrink-0\n            rounded-full\n            bg-white/5 px-2 py-1\n            text-[10px]\n            tracking-[0.28em]\n            text-white/55\n            ring-1 ring-white/10\n          ",children:[n+1,"/",l]})]})})})]})}),document.body):null}function jE({title:e,icon:t,onClick:n,active:r=!1,disabled:i=!1}){return u.jsx("button",{type:"button",title:e,onClick:i?void 0:n,disabled:i,className:"grid place-items-center rounded-full p-2 transition "+(i?"opacity-30 cursor-not-allowed":r?"bg-white/15 text-white ring-1 ring-white/20":"bg-white/0 text-white/70 hover:bg-white/10 hover:text-white ring-1 ring-transparent hover:ring-white/10"),children:u.jsx("span",{className:"block h-5 w-5",children:t})})}function zE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:u.jsx("path",{d:"M12 5v14M5 12h14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function BE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:u.jsx("path",{d:"M5 12h14",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function VE(){return u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:[u.jsx("path",{d:"M20 12a8 8 0 1 1-2.34-5.66",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),u.jsx("path",{d:"M20 4v6h-6",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}function HE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:u.jsx("path",{d:"M4 4h7v7H4V4Zm9 0h7v7h-7V4ZM4 13h7v7H4v-7Zm9 0h7v7h-7v-7Z",stroke:"currentColor",strokeWidth:"1.4",strokeLinejoin:"round"})})}function WE({playing:e,progress:t}){const n=2*Math.PI*9,r=n*(1-Math.max(0,Math.min(1,t)));return u.jsxs("span",{className:"relative block h-5 w-5",children:[u.jsx("span",{className:"absolute inset-0",children:e?u.jsx(qE,{}):u.jsx(GE,{})}),e&&u.jsxs("svg",{className:"absolute -inset-1",viewBox:"0 0 20 20",fill:"none",children:[u.jsx("circle",{cx:10,cy:10,r:9,stroke:"currentColor",strokeWidth:2,opacity:"0.18"}),u.jsx("circle",{cx:10,cy:10,r:9,stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeDasharray:n,strokeDashoffset:r,transform:"rotate(-90 10 10)",opacity:"0.85"})]})]})}function GE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:u.jsx("path",{d:"M9 7l10 5-10 5V7Z",stroke:"currentColor",strokeWidth:"1.6",strokeLinejoin:"round"})})}function qE(){return u.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:[u.jsx("path",{d:"M8 7v10",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"}),u.jsx("path",{d:"M16 7v10",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})]})}function XE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-full w-full",children:u.jsx("path",{d:"M6 6l12 12M18 6L6 18",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round"})})}function $E(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"size-5",children:u.jsx("path",{d:"M14.5 6.5L9 12l5.5 5.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function YE(){return u.jsx("svg",{viewBox:"0 0 24 24",fill:"none",className:"size-5",children:u.jsx("path",{d:"M9.5 6.5L15 12l-5.5 5.5",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"})})}function KE({item:e,index:t,onOpen:n}){return u.jsxs(ll.button,{type:"button",onClick:n,className:"group relative aspect-3/4 w-full overflow-hidden bg-white/5 ring-1 ring-white/10 shadow-[0_20px_80px_rgba(0,0,0,0.55)]",initial:!1,whileHover:"hover",whileTap:{scale:.98},children:[u.jsx(ll.div,{layoutId:`cosmic-img-${e.id??t}`,className:"absolute inset-0",variants:{hover:{scale:1.06,filter:"contrast(1.08) saturate(1.05)"}},transition:{type:"spring",stiffness:220,damping:22},children:u.jsx(FE,{src:e.cover,alt:e.title??"image",className:"absolute inset-0",objectClass:"object-cover"})}),u.jsxs(ll.div,{className:"pointer-events-none absolute inset-0 opacity-0",variants:{hover:{opacity:1}},transition:{duration:.25},children:[u.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/75 via-black/20 to-transparent"}),u.jsx("div",{className:"absolute -left-20 -top-20 h-56 w-56 bg-white/10 blur-2xl"}),u.jsx("div",{className:"absolute -right-24 top-10 h-56 w-56 bg-blue-200/10 blur-2xl"})]}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx(ll.div,{className:"absolute inset-x-0 bottom-0 p-3 text-left",initial:{opacity:0,y:10},variants:{hover:{opacity:1,y:0}},transition:{duration:.25},children:u.jsxs("div",{className:"flex items-end justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate text-sm font-medium text-white/90",children:e.title??"Untitled"}),u.jsx("div",{className:"truncate text-[11px] tracking-[0.25em] text-white/45",children:e.year??""})]}),u.jsx("div",{className:"shrink-0 rounded-full bg-white/10 px-2 py-1 text-[10px] tracking-[0.35em] text-white/60 ring-1 ring-white/10",children:"VIEW"})]})})]})}const ZE=Object.freeze(Object.defineProperty({__proto__:null,default:function({items:e,seo:t}){const n=DE(0,800,0,-60),[r,i]=T.useState(!1),[a,o]=T.useState(0),s=T.useMemo(()=>e?.[a]??null,[a]),l=e=>{e&&((new Image).src=e)},c=t=>{l(e[t]?.cover),l(e[t+1]?.cover),l(e[t-1]?.cover)};return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsx(Go,{children:u.jsxs("div",{className:"relative w-full",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 opacity-[0.08] bg-[radial-gradient(circle_at_20%_15%,rgba(255,255,255,0.12),transparent_40%),radial-gradient(circle_at_80%_30%,rgba(120,170,255,0.10),transparent_45%),radial-gradient(circle_at_40%_80%,rgba(180,120,255,0.08),transparent_45%)]"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.08] mix-blend-overlay [background-image:url('data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22120%22 height=%22120%22%3E%3Cfilter id=%22n%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%222%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22120%22 height=%22120%22 filter=%22url(%23n)%22 opacity=%220.35%22/%3E%3C/svg%3E')"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.35] bg-[radial-gradient(ellipse_at_center,transparent_45%,rgba(0,0,0,0.85)_85%)]"})]}),u.jsx(ll.section,{className:"relative py-28 md:py-40 text-center",style:{y:n},children:u.jsxs(ll.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,ease:[.22,1,.36,1]},children:[u.jsx("span",{className:"block text-xs tracking-[0.5em] text-stone-400 mb-6 uppercase",children:"ARCHIVE"}),u.jsx("h1",{className:"text-3xl md:text-4xl font-['Nickson']",children:"Marsmolys Archive"}),u.jsx("p",{className:"max-w-2xl text-sm leading-relaxed text-stone-400 mx-auto",children:"The collection of artifacts, albums, artworks, and documentation."})]})}),u.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 py-8",children:e.map((e,t)=>u.jsx(KE,{item:e,index:t,onOpen:()=>{return c(e=t),o(e),void i(!0);var e}},e.id??t))}),u.jsx(Bo,{children:r&&s&&u.jsx(UE,{open:r,items:e,index:a,onClose:()=>i(!1),onPrev:()=>o(e=>Math.max(0,e-1)),onNext:()=>o(t=>Math.min(e.length-1,t+1)),onSelectIndex:e=>o(e)})})]})})]})]})}},Symbol.toStringTag,{value:"Module"})),JE=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{discover:e,seo:t}=rx().props,n=DE(0,800,0,-60);return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsxs("section",{className:"\n        relative\n        w-full\n        overflow-hidden\n        flex items-center justify-center\n\n        /* MOBILE */\n        aspect-video\n\n        /* DESKTOP */\n        md:aspect-auto\n        md:min-h-dvh\n    ",children:[u.jsxs("div",{className:"absolute inset-0",children:[u.jsx("img",{src:e.url_image,alt:e.title,className:"\n                w-full h-full\n                object-cover\n                object-[50%_15%]\n                md:object-center\n            "}),u.jsx("div",{className:"absolute inset-0 bg-black/50"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_35%,rgba(0,0,0,0.95))]"})]}),u.jsxs(ll.div,{style:{y:n},initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:1},className:"\n            relative z-10\n            text-center\n            px-6\n            max-w-2xl\n            flex flex-col items-center justify-center\n        ",children:[u.jsx("span",{className:"block text-xs tracking-[0.5em] text-stone-400 mb-6",children:"DISCOVER"}),u.jsx("h1",{className:"text-3xl md:text-4xl mb-8 font-[Nickson]",children:'"The Bitter Metaphor of Reality"'})]})]}),u.jsx("section",{className:"relative py-32 px-6 bg-black",children:u.jsx(ll.div,{style:{y:n},initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:1},className:"\n    max-w-3xl mx-auto ql-content\n    text-stone-300\n    leading-relaxed\n    space-y-6\n",dangerouslySetInnerHTML:{__html:e.description}})}),u.jsx("section",{className:"relative h-[80vh] overflow-hidden",children:u.jsxs(ll.div,{initial:{scale:1.1,opacity:0},whileInView:{scale:1,opacity:1},transition:{duration:1.4},viewport:{once:!0},className:"absolute inset-0",children:[u.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:"url(/images/discover/2.jpeg)"}}),u.jsx("div",{className:"absolute inset-0"})]})}),u.jsxs("section",{className:"h-[60vh] flex flex-col items-center justify-center gap-10 bg-black",children:[u.jsx("span",{className:"text-xs tracking-[0.4em] text-stone-500",children:"END OF TRANSMISSION"}),u.jsx(hx,{href:"/",className:"text-sm tracking-[0.3em] text-stone-300 hover:text-white transition",children:"RETURN TO HOME"})]})]})]})}},Symbol.toStringTag,{value:"Module"}));function QE(){const e=DE(0,800,0,-60),t=dl(Dl,[0,600],[1,1.75]),n=dl(Dl,[0,500],[1,0]),r=cl(0),i=cl(0),a=fl(r,{stiffness:120,damping:20}),o=fl(i,{stiffness:120,damping:20});T.useEffect(()=>{const e=e=>{if(!bx.get())return;const t=14*(e.clientX/window.innerWidth-.5),n=-14*(e.clientY/window.innerHeight-.5);i.set(t),r.set(n)};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]);const s=dl(o,[-14,14],[-18,18]),l=dl(o,[-14,0,14],[.15,.35,.15]);return u.jsxs(ll.section,{style:{y:e},className:"\n                relative min-h-dvh\n                flex items-center justify-center\n                overflow-hidden\n                perspective-distant\n            ",children:[u.jsxs(ll.div,{className:"relative z-10 select-none",style:{scale:t,opacity:n,rotateX:a,rotateY:o,transformStyle:"preserve-3d",willChange:"transform"},children:[u.jsx(ll.img,{src:"/images/logo_white.PNG",alt:"Marsmolys Logo","aria-hidden":!0,className:"absolute inset-0 w-[78vw] max-w-175 min-w-65 object-contain",style:{transform:"translateZ(-80px)",x:s,opacity:.12,filter:"brightness(0.3)"}}),u.jsx(ll.img,{src:"/images/logo_white.PNG",alt:"Marsmolys Logo","aria-hidden":!0,className:"absolute inset-0 w-[78vw] max-w-175 min-w-65 object-contain",style:{transform:"translateZ(-50px)",x:s,opacity:l,filter:"brightness(0.45)"}}),u.jsx(ll.img,{src:"/images/logo_white.PNG",alt:"Marsmolys Logo","aria-hidden":!0,className:"absolute inset-0 w-[78vw] max-w-175 min-w-65 object-contain",style:{transform:"translateZ(-25px)",x:s,opacity:.4,filter:"brightness(0.65)"}}),u.jsx(ll.img,{src:"/images/logo_white.PNG",alt:"Marsmolys",draggable:!1,className:"relative w-[78vw] max-w-175 min-w-65 object-contain"})]}),u.jsx(ll.div,{className:"\n                    absolute bottom-10 z-20\n                    w-full text-center\n                    text-xs tracking-[0.35em]\n                    text-stone-400\n                ",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:1},children:"WHEN THE SUN BEGINS TO RISE, WHERE STORIES LIVE BEHIND THE EYES"})]})}const eT=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"})),tT=ll(hx);function nT({href:e,text:t,ariaLabel:n}){return u.jsxs(tT,{href:e,initial:"rest",whileHover:"hover",animate:"rest",className:"\n        mt-4 relative inline-flex items-center gap-2\n        text-white/70 hover:text-white\n        transition\n        overflow-visible\n    ","aria-label":n,children:[u.jsx(ll.span,{variants:{rest:{x:0,y:0},hover:{x:2,y:-1,scale:1.06,transition:{type:"spring",stiffness:260,damping:18}}},"aria-hidden":"true",children:t}),u.jsx("span",{className:"sr-only",children:n}),u.jsxs(ll.span,{className:"relative flex items-center",variants:{rest:{x:0,y:0,rotate:0},hover:{x:10,y:-6,rotate:35,transition:{type:"spring",stiffness:200,damping:14}}},children:[u.jsx(Hx,{className:"size-3 mt-px","aria-hidden":"true",focusable:"false"}),u.jsx(ll.span,{variants:{rest:{opacity:0,scaleX:0},hover:{opacity:[0,.4,0],scaleX:[.6,1.4],transition:{duration:.45,ease:"easeOut"}}},className:"\n                absolute -left-2.5 top-1/2\n                h-0.5 w-6\n                -translate-y-1/2\n                bg-linear-to-r\n                from-white/40\n                to-transparent\n                blur-[1px]\n                origin-right\n                pointer-events-none\n            "})]}),u.jsx(ll.span,{"aria-hidden":!0,variants:{rest:{opacity:0,scale:.6},hover:{opacity:[0,.25,0],scale:[.9,1.6],transition:{duration:.8,ease:"easeOut"}}},className:"\n            absolute inset-0\n            rounded-full\n            bg-white/10\n            blur-2xl\n            -z-10\n            pointer-events-none\n        "})]})}function rT(){const{config:e}=rx().props,t=T.useRef(null),n=T.useRef(0),r=T.useRef(1),i=cl(0),a=()=>{t.current&&(n.current=t.current.offsetTop,r.current=t.current.offsetHeight||1)};T.useEffect(()=>{a(),requestAnimationFrame(a),setTimeout(a,150);const e=new ResizeObserver(()=>a());return t.current&&e.observe(t.current),window.addEventListener("resize",a),()=>{e.disconnect(),window.removeEventListener("resize",a)}},[]),T.useEffect(()=>{const e=Dl.on("change",e=>{i.set(e)});return()=>e()},[]);const o=dl(i,e=>{const t=n.current,i=r.current||1;return Math.min(Math.max((e-t)/i,0),1)}),s=dl(o,[0,.07],[0,1]),l=dl(o,[0,.07],[12,0]),c=[`${e.services.imagekit.url}/image/discover/1.jpeg?tr=w-1200,q-80,f-webp,fo-auto,pr-true`,`${e.services.imagekit.url}/image/discover/2.jpeg?tr=w-1200,q-80,f-webp,c-fill,fo-auto`,`${e.services.imagekit.url}/image/discover/2.jpg?tr=w-1200,q-80,f-webp,fo-auto,pr-true`,`${e.services.imagekit.url}/image/discover/4.jpg?tr=w-1200,q-80,f-webp,c-fill,fo-top`],d=c.length,h=c.map((e,t)=>dl(o,[t/d,(t+1)/d],[.1,1])),f=c.map((e,t)=>dl(o,[t/d,t/d+.01],[0,1]));return u.jsx("section",{ref:t,className:"relative h-[580vh] w-full mb-10",children:u.jsxs("div",{className:"sticky top-0 h-screen w-full overflow-hidden transform-gpu backface-hidden",children:[c.map((e,t)=>u.jsxs(ll.div,{className:"absolute inset-0 will-change-transform transform-gpu",style:{opacity:f[t],scale:h[t],zIndex:t+1},children:[u.jsx("div",{className:"absolute inset-0 bg-black/65"}),u.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_40%,rgba(0,0,0,0.9))]"}),u.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:`url(${e})`}})]},e)),u.jsx(ll.div,{style:{opacity:s,y:l},className:"relative z-50 flex h-full items-center justify-center px-6",children:u.jsxs("div",{className:"max-w-xl text-center space-y-6",children:[u.jsx("h2",{className:"text-xs tracking-[0.4em] text-stone-300",children:"DISCOVER"}),u.jsx("h3",{className:"text-2xl",style:{fontFamily:"Nickson"},children:"The Bitter Metaphor of Reality"}),u.jsx("p",{className:"text-lg md:text-xl text-stone-100 leading-relaxed",children:"Greetings. We are Marsmolys, a psychedelic hard rock band from Yogyakarta. On October 10th, 2025, we officially released our second full-length album, The Progeny of Holy Moly on digital streaming platforms. Consisting of 12 tracks, this album serves as a collective record of our journey through the jungle that is Indonesias music scene. Life marches forward, even when thorny paths leave us scarred illustrates the essence of The Progeny of Holy Moly."}),u.jsx(nT,{href:"/discover",text:"Read more",ariaLabel:"Discovering about Marsmolys"})]})})]})})}const iT=Object.freeze(Object.defineProperty({__proto__:null,default:rT},Symbol.toStringTag,{value:"Module"})),aT="182",oT=1,sT=3,lT=0,cT=1,uT=2,dT=100,hT=101,fT=102,pT=200,mT=201,gT=202,vT=203,yT=204,bT=205,xT=206,_T=207,wT=208,ST=209,MT=210,ET=211,TT=212,AT=213,CT=214,PT=0,RT=1,NT=2,kT=3,LT=4,IT=5,OT=6,DT=7,FT=0,UT=1,jT=2,zT=1,BT=2,VT=3,HT=4,WT=5,GT=6,qT=7,XT="attached",$T="detached",YT=300,KT=301,ZT=302,JT=303,QT=304,eA=306,tA=1e3,nA=1001,rA=1002,iA=1003,aA=1004,oA=1005,sA=1006,lA=1007,cA=1008,uA=1009,dA=1010,hA=1011,fA=1012,pA=1013,mA=1014,gA=1015,vA=1016,yA=1017,bA=1018,xA=1020,_A=35902,wA=35899,SA=1021,MA=1022,EA=1023,TA=1026,AA=1027,CA=1028,PA=1029,RA=1030,NA=1031,kA=1033,LA=33776,IA=33777,OA=33778,DA=33779,FA=35840,UA=35841,jA=35842,zA=35843,BA=36196,VA=37492,HA=37496,WA=37488,GA=37489,qA=37490,XA=37491,$A=37808,YA=37809,KA=37810,ZA=37811,JA=37812,QA=37813,eC=37814,tC=37815,nC=37816,rC=37817,iC=37818,aC=37819,oC=37820,sC=37821,lC=36492,cC=36494,uC=36495,dC=36283,hC=36284,fC=36285,pC=36286,mC=2300,gC=2301,vC=2302,yC=2400,bC=2401,xC=2402,_C=2500,wC=2501,SC="",MC="srgb",EC="srgb-linear",TC="linear",AC="srgb",CC=7680,PC=512,RC=513,NC=514,kC=515,LC=516,IC=517,OC=518,DC=519,FC=35044,UC="300 es",jC=2e3,zC=2001;function BC(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const VC={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function HC(e,t){return new VC[e](t)}function WC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GC(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function qC(){const e=GC("canvas");return e.style.display="block",e}const XC={};let $C=null;function YC(...e){const t="THREE."+e.shift();$C&&$C("log",t,...e)}function KC(...e){const t="THREE."+e.shift();$C&&$C("warn",t,...e)}function ZC(...e){const t="THREE."+e.shift();$C&&$C("error",t,...e)}function JC(...e){const t=e.join(" ");t in XC||(XC[t]=!0,KC(...e))}class QC{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return void 0!==n&&void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){const n=this._listeners;if(void 0===n)return;const r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){const t=this._listeners;if(void 0===t)return;const n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const eP=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tP=1234567;const nP=Math.PI/180,rP=180/Math.PI;function iP(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(eP[255&e]+eP[e>>8&255]+eP[e>>16&255]+eP[e>>24&255]+"-"+eP[255&t]+eP[t>>8&255]+"-"+eP[t>>16&15|64]+eP[t>>24&255]+"-"+eP[63&n|128]+eP[n>>8&255]+"-"+eP[n>>16&255]+eP[n>>24&255]+eP[255&r]+eP[r>>8&255]+eP[r>>16&255]+eP[r>>24&255]).toLowerCase()}function aP(e,t,n){return Math.max(t,Math.min(n,e))}function oP(e,t){return(e%t+t)%t}function sP(e,t,n){return(1-n)*e+n*t}function lP(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function cP(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const uP={DEG2RAD:nP,RAD2DEG:rP,generateUUID:iP,clamp:aP,euclideanModulo:oP,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:sP,damp:function(e,t,n,r){return sP(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(oP(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(tP=e);let t=tP+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*nP},radToDeg:function(e){return e*rP},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),c=a((t+r)/2),u=o((t+r)/2),d=a((t-r)/2),h=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:KC("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:cP,denormalize:lP};class dP{constructor(e=0,t=0){dP.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=aP(this.x,e.x,t.x),this.y=aP(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=aP(this.x,e,t),this.y=aP(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(aP(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(aP(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class hP{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,a,o){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3],d=i[a+0],h=i[a+1],f=i[a+2],p=i[a+3];if(o<=0)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(o>=1)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=s*d+l*h+c*f+u*p;e<0&&(d=-d,h=-h,f=-f,p=-p,e=-e);let t=1-o;if(e<.9995){const n=Math.acos(e),r=Math.sin(n);t=Math.sin(t*n)/r,s=s*t+d*(o=Math.sin(o*n)/r),l=l*t+h*o,c=c*t+f*o,u=u*t+p*o}else{s=s*t+d*o,l=l*t+h*o,c=c*t+f*o,u=u*t+p*o;const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,a){const o=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[a],d=i[a+1],h=i[a+2],f=i[a+3];return e[t]=o*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-o*h,e[t+2]=l*f+c*h+o*d-s*u,e[t+3]=c*f-o*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),c=o(r/2),u=o(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:KC("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+o+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(a-r)*e}else if(n>o&&n>u){const e=2*Math.sqrt(1+n-o-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(i+l)/e}else if(o>u){const e=2*Math.sqrt(1+o-n-u);this._w=(i-l)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-o);this._w=(a-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(aP(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+a*o+r*l-i*s,this._y=r*c+a*s+i*o-n*l,this._z=i*c+a*l+n*s-r*o,this._w=a*c-n*o-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,r=e._y,i=e._z,a=e._w,o=this.dot(e);o<0&&(n=-n,r=-r,i=-i,a=-a,o=-o);let s=1-t;if(o<.9995){const e=Math.acos(o),l=Math.sin(e);s=Math.sin(s*e)/l,t=Math.sin(t*e)/l,this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this._onChangeCallback()}else this._x=this._x*s+n*t,this._y=this._y*s+r*t,this._z=this._z*s+i*t,this._w=this._w*s+a*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fP{constructor(e=0,t=0,n=0){fP.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(mP.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(mP.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),c=2*(o*t-i*r),u=2*(i*n-a*t);return this.x=t+s*l+a*u-o*c,this.y=n+s*c+o*l-i*u,this.z=r+s*u+i*c-a*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=aP(this.x,e.x,t.x),this.y=aP(this.y,e.y,t.y),this.z=aP(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=aP(this.x,e,t),this.y=aP(this.y,e,t),this.z=aP(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(aP(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return pP.copy(this).projectOnVector(e),this.sub(pP)}reflect(e){return this.sub(pP.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(aP(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const pP=new fP,mP=new hP;class gP{constructor(e,t,n,r,i,a,o,s,l){gP.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l)}set(e,t,n,r,i,a,o,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*v+s*x,i[3]=a*m+o*y+s*_,i[6]=a*g+o*b+s*w,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*_,i[7]=l*g+c*b+u*w,i[2]=d*p+h*v+f*x,i[5]=d*m+h*y+f*_,i[8]=d*g+h*b+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8];return t*a*c-t*o*l-n*i*c+n*o*s+r*i*l-r*a*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=c*a-o*l,d=o*s-c*i,h=l*i-a*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(o*n-r*a)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,a,o){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(vP.makeScale(e,t)),this}rotate(e){return this.premultiply(vP.makeRotation(-e)),this}translate(e,t){return this.premultiply(vP.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const vP=new gP,yP=(new gP).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),bP=(new gP).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function xP(){const e={enabled:!0,workingColorSpace:EC,spaces:{},convert:function(e,t,n){return!1!==this.enabled&&t!==n&&t&&n?(this.spaces[t].transfer===AC&&(e.r=wP(e.r),e.g=wP(e.g),e.b=wP(e.b)),this.spaces[t].primaries!==this.spaces[n].primaries&&(e.applyMatrix3(this.spaces[t].toXYZ),e.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===AC&&(e.r=SP(e.r),e.g=SP(e.g),e.b=SP(e.b)),e):e},workingToColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},colorSpaceToWorking:function(e,t){return this.convert(e,t,this.workingColorSpace)},getPrimaries:function(e){return this.spaces[e].primaries},getTransfer:function(e){return e===SC?TC:this.spaces[e].transfer},getToneMappingMode:function(e){return this.spaces[e].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(e,t=this.workingColorSpace){return e.fromArray(this.spaces[t].luminanceCoefficients)},define:function(e){Object.assign(this.spaces,e)},_getMatrix:function(e,t,n){return e.copy(this.spaces[t].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(e){return this.spaces[e].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(e=this.workingColorSpace){return this.spaces[e].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(t,n){return JC("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),e.workingToColorSpace(t,n)},toWorkingColorSpace:function(t,n){return JC("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),e.colorSpaceToWorking(t,n)}},t=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return e.define({[EC]:{primaries:t,whitePoint:r,transfer:TC,toXYZ:yP,fromXYZ:bP,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:MC},outputColorSpaceConfig:{drawingBufferColorSpace:MC}},[MC]:{primaries:t,whitePoint:r,transfer:AC,toXYZ:yP,fromXYZ:bP,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:MC}}}),e}const _P=xP();function wP(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function SP(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let MP;class EP{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{void 0===MP&&(MP=GC("canvas")),MP.width=e.width,MP.height=e.height;const t=MP.getContext("2d");e instanceof ImageData?t.putImageData(e,0,0):t.drawImage(e,0,0,e.width,e.height),n=MP}return n.toDataURL(t)}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=GC("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*wP(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*wP(t[e]/255)):t[e]=wP(t[e]);return{data:t,width:e.width,height:e.height}}return KC("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let TP=0;class AP{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:TP++}),this.uuid=iP(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):null!==t?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(CP(r[t].image)):e.push(CP(r[t]))}else e=CP(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function CP(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?EP.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(KC("Texture: Unable to serialize Texture."),{})}let PP=0;const RP=new fP;class NP extends QC{constructor(e=NP.DEFAULT_IMAGE,t=NP.DEFAULT_MAPPING,n=1001,r=1001,i=1006,a=1008,o=1023,s=uA,l=NP.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:PP++}),this.uuid=iP(),this.name="",this.source=new AP(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=a,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=s,this.offset=new dP(0,0),this.repeat=new dP(1,1),this.center=new dP(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new gP,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(RP).x}get height(){return this.source.getSize(RP).y}get depth(){return this.source.getSize(RP).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(void 0===n){KC(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&n&&r.isVector2&&n.isVector2||r&&n&&r.isVector3&&n.isVector3||r&&n&&r.isMatrix3&&n.isMatrix3?r.copy(n):this[t]=n:KC(`Texture.setValues(): property '${t}' does not exist.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==YT)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case tA:e.x=e.x-Math.floor(e.x);break;case nA:e.x=e.x<0?0:1;break;case rA:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case tA:e.y=e.y-Math.floor(e.y);break;case nA:e.y=e.y<0?0:1;break;case rA:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}NP.DEFAULT_IMAGE=null,NP.DEFAULT_MAPPING=YT,NP.DEFAULT_ANISOTROPY=1;class kP{constructor(e=0,t=0,n=0,r=1){kP.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const a=.01,o=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<a&&Math.abs(u-p)<a&&Math.abs(f-m)<a){if(Math.abs(c+d)<o&&Math.abs(u+p)<o&&Math.abs(f+m)<o&&Math.abs(l+h+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<a?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<a?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=x/r):v<a?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=aP(this.x,e.x,t.x),this.y=aP(this.y,e.y,t.y),this.z=aP(this.z,e.z,t.z),this.w=aP(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=aP(this.x,e,t),this.y=aP(this.y,e,t),this.z=aP(this.z,e,t),this.w=aP(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(aP(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class LP extends QC{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:sA,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new kP(0,0,e,t),this.scissorTest=!1,this.viewport=new kP(0,0,e,t);const r={width:e,height:t,depth:n.depth},i=new NP(r);this.textures=[];const a=n.count;for(let o=0;o<a;o++)this.textures[o]=i.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:sA,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==e.mapping&&(t.mapping=e.mapping),void 0!==e.wrapS&&(t.wrapS=e.wrapS),void 0!==e.wrapT&&(t.wrapT=e.wrapT),void 0!==e.wrapR&&(t.wrapR=e.wrapR),void 0!==e.magFilter&&(t.magFilter=e.magFilter),void 0!==e.minFilter&&(t.minFilter=e.minFilter),void 0!==e.format&&(t.format=e.format),void 0!==e.type&&(t.type=e.type),void 0!==e.anisotropy&&(t.anisotropy=e.anisotropy),void 0!==e.colorSpace&&(t.colorSpace=e.colorSpace),void 0!==e.flipY&&(t.flipY=e.flipY),void 0!==e.generateMipmaps&&(t.generateMipmaps=e.generateMipmaps),void 0!==e.internalFormat&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==e&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n,!0!==this.textures[r].isData3DTexture&&(this.textures[r].isArrayTexture=this.textures[r].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const n=Object.assign({},e.textures[t].image);this.textures[t].source=new AP(n)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class IP extends LP{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class OP extends NP{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=iA,this.minFilter=iA,this.wrapR=nA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class DP extends NP{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=iA,this.minFilter=iA,this.wrapR=nA,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FP{constructor(e=new fP(1/0,1/0,1/0),t=new fP(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(jP.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(jP.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=jP.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,jP):jP.fromBufferAttribute(r,t),jP.applyMatrix4(e.matrixWorld),this.expandByPoint(jP);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),zP.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),zP.copy(n.boundingBox)),zP.applyMatrix4(e.matrixWorld),this.union(zP)}const r=e.children;for(let i=0,a=r.length;i<a;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,jP),jP.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(XP),$P.subVectors(this.max,XP),BP.subVectors(e.a,XP),VP.subVectors(e.b,XP),HP.subVectors(e.c,XP),WP.subVectors(VP,BP),GP.subVectors(HP,VP),qP.subVectors(BP,HP);let t=[0,-WP.z,WP.y,0,-GP.z,GP.y,0,-qP.z,qP.y,WP.z,0,-WP.x,GP.z,0,-GP.x,qP.z,0,-qP.x,-WP.y,WP.x,0,-GP.y,GP.x,0,-qP.y,qP.x,0];return!!ZP(t,BP,VP,HP,$P)&&(t=[1,0,0,0,1,0,0,0,1],!!ZP(t,BP,VP,HP,$P)&&(YP.crossVectors(WP,GP),t=[YP.x,YP.y,YP.z],ZP(t,BP,VP,HP,$P)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jP).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(jP).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(UP[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),UP[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),UP[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),UP[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),UP[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),UP[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),UP[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),UP[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(UP)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const UP=[new fP,new fP,new fP,new fP,new fP,new fP,new fP,new fP],jP=new fP,zP=new FP,BP=new fP,VP=new fP,HP=new fP,WP=new fP,GP=new fP,qP=new fP,XP=new fP,$P=new fP,YP=new fP,KP=new fP;function ZP(e,t,n,r,i){for(let a=0,o=e.length-3;a<=o;a+=3){KP.fromArray(e,a);const o=i.x*Math.abs(KP.x)+i.y*Math.abs(KP.y)+i.z*Math.abs(KP.z),s=t.dot(KP),l=n.dot(KP),c=r.dot(KP);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>o)return!1}return!0}const JP=new FP,QP=new fP,eR=new fP;class tR{constructor(e=new fP,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):JP.setFromPoints(e).getCenter(n);let r=0;for(let i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;QP.subVectors(e,this.center);const t=QP.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(QP,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(eR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(QP.copy(e.center).add(eR)),this.expandByPoint(QP.copy(e.center).sub(eR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const nR=new fP,rR=new fP,iR=new fP,aR=new fP,oR=new fP,sR=new fP,lR=new fP;class cR{constructor(e=new fP,t=new fP(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,nR)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=nR.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(nR.copy(this.origin).addScaledVector(this.direction,t),nR.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){rR.copy(e).add(t).multiplyScalar(.5),iR.copy(t).sub(e).normalize(),aR.copy(this.origin).sub(rR);const i=.5*e.distanceTo(t),a=-this.direction.dot(iR),o=aR.dot(this.direction),s=-aR.dot(iR),l=aR.lengthSq(),c=Math.abs(1-a*a);let u,d,h,f;if(c>0)if(u=a*s-o,d=a*o-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+a*d+2*o)+d*(a*u+d+2*s)+l}else d=i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-a*i+o)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(a*i+o)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=a>0?-i:i,u=Math.max(0,-(a*d+o)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(rR).addScaledVector(iR,d),h}intersectSphere(e,t){nR.subVectors(e.center,this.origin);const n=nR.dot(this.direction),r=nR.dot(nR)-n*n,i=e.radius*e.radius;if(r>i)return null;const a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}intersectsSphere(e){return!(e.radius<0)&&this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,a,o,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),u>=0?(o=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(o=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,nR)}intersectTriangle(e,t,n,r,i){oR.subVectors(t,e),sR.subVectors(n,e),lR.crossVectors(oR,sR);let a,o=this.direction.dot(lR);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}aR.subVectors(this.origin,e);const s=a*this.direction.dot(sR.crossVectors(aR,sR));if(s<0)return null;const l=a*this.direction.dot(oR.cross(aR));if(l<0)return null;if(s+l>o)return null;const c=-a*aR.dot(lR);return c<0?null:this.at(c/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class uR{constructor(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m){uR.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m)}set(e,t,n,r,i,a,o,s,l,c,u,d,h,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new uR).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return 0===this.determinant()?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(0===e.determinant())return this.identity();const t=this.elements,n=e.elements,r=1/dR.setFromMatrixColumn(e,0).length(),i=1/dR.setFromMatrixColumn(e,1).length(),a=1/dR.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-o*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=a*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*o,t[4]=r*o-n,t[8]=a*l,t[1]=a*u,t[5]=a*c,t[9]=-o,t[2]=n*o-r,t[6]=i+e*o,t[10]=a*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*o,t[4]=-a*u,t[8]=r+n*o,t[1]=n+r*o,t[5]=a*c,t[9]=i-e*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){const e=a*c,n=a*u,r=o*c,i=o*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=a*c,t[9]=-o*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=a*s,n=a*l,r=o*s,i=o*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=a*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=o*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fR,e,pR)}lookAt(e,t,n){const r=this.elements;return vR.subVectors(e,t),0===vR.lengthSq()&&(vR.z=1),vR.normalize(),mR.crossVectors(n,vR),0===mR.lengthSq()&&(1===Math.abs(n.z)?vR.x+=1e-4:vR.z+=1e-4,vR.normalize(),mR.crossVectors(n,vR)),mR.normalize(),gR.crossVectors(vR,mR),r[0]=mR.x,r[4]=gR.x,r[8]=vR.x,r[1]=mR.y,r[5]=gR.y,r[9]=vR.y,r[2]=mR.z,r[6]=gR.z,r[10]=vR.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],M=r[12],E=r[1],T=r[5],A=r[9],C=r[13],P=r[2],R=r[6],N=r[10],k=r[14],L=r[3],I=r[7],O=r[11],D=r[15];return i[0]=a*_+o*E+s*P+l*L,i[4]=a*w+o*T+s*R+l*I,i[8]=a*S+o*A+s*N+l*O,i[12]=a*M+o*C+s*k+l*D,i[1]=c*_+u*E+d*P+h*L,i[5]=c*w+u*T+d*R+h*I,i[9]=c*S+u*A+d*N+h*O,i[13]=c*M+u*C+d*k+h*D,i[2]=f*_+p*E+m*P+g*L,i[6]=f*w+p*T+m*R+g*I,i[10]=f*S+p*A+m*N+g*O,i[14]=f*M+p*C+m*k+g*D,i[3]=v*_+y*E+b*P+x*L,i[7]=v*w+y*T+b*R+x*I,i[11]=v*S+y*A+b*N+x*O,i[15]=v*M+y*C+b*k+x*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14],f=e[3],p=e[7],m=e[11],g=e[15],v=s*h-l*d,y=o*h-l*u,b=o*d-s*u,x=a*h-l*c,_=a*d-s*c,w=a*u-o*c;return t*(p*v-m*y+g*b)-n*(f*v-m*x+g*_)+r*(f*y-p*x+g*w)-i*(f*b-p*_+m*w)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*d*l+p*s*h-o*m*h-u*s*g+o*d*g,y=f*d*l-c*m*l-f*s*h+a*m*h+c*s*g-a*d*g,b=c*p*l-f*u*l+f*o*h-a*p*h-c*o*g+a*u*g,x=f*u*s-c*p*s-f*o*d+a*p*d+c*o*m-a*u*m,_=t*v+n*y+r*b+i*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/_;return e[0]=v*w,e[1]=(p*d*i-u*m*i-p*r*h+n*m*h+u*r*g-n*d*g)*w,e[2]=(o*m*i-p*s*i+p*r*l-n*m*l-o*r*g+n*s*g)*w,e[3]=(u*s*i-o*d*i-u*r*l+n*d*l+o*r*h-n*s*h)*w,e[4]=y*w,e[5]=(c*m*i-f*d*i+f*r*h-t*m*h-c*r*g+t*d*g)*w,e[6]=(f*s*i-a*m*i-f*r*l+t*m*l+a*r*g-t*s*g)*w,e[7]=(a*d*i-c*s*i+c*r*l-t*d*l-a*r*h+t*s*h)*w,e[8]=b*w,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*g-t*u*g)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(c*o*i-a*u*i-c*n*l+t*u*l+a*n*h-t*o*h)*w,e[12]=x*w,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*m-t*o*m)*w,e[15]=(a*u*r-c*o*r+c*n*s-t*u*s-a*n*d+t*o*d)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,c=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,c*o+n,c*s-r*a,0,l*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,c=a+a,u=o+o,d=i*l,h=i*c,f=i*u,p=a*c,m=a*u,g=o*u,v=s*l,y=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(h+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(d+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(d+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;if(e.x=r[12],e.y=r[13],e.z=r[14],0===this.determinant())return n.set(1,1,1),t.identity(),this;let i=dR.set(r[0],r[1],r[2]).length();const a=dR.set(r[4],r[5],r[6]).length(),o=dR.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),hR.copy(this);const s=1/i,l=1/a,c=1/o;return hR.elements[0]*=s,hR.elements[1]*=s,hR.elements[2]*=s,hR.elements[4]*=l,hR.elements[5]*=l,hR.elements[6]*=l,hR.elements[8]*=c,hR.elements[9]*=c,hR.elements[10]*=c,t.setFromRotationMatrix(hR),n.x=i,n.y=a,n.z=o,this}makePerspective(e,t,n,r,i,a,o=2e3,s=!1){const l=this.elements,c=2*i/(t-e),u=2*i/(n-r),d=(t+e)/(t-e),h=(n+r)/(n-r);let f,p;if(s)f=i/(a-i),p=a*i/(a-i);else if(o===jC)f=-(a+i)/(a-i),p=-2*a*i/(a-i);else{if(o!==zC)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);f=-a/(a-i),p=-a*i/(a-i)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,n,r,i,a,o=2e3,s=!1){const l=this.elements,c=2/(t-e),u=2/(n-r),d=-(t+e)/(t-e),h=-(n+r)/(n-r);let f,p;if(s)f=1/(a-i),p=a/(a-i);else if(o===jC)f=-2/(a-i),p=-(a+i)/(a-i);else{if(o!==zC)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);f=-1/(a-i),p=-i/(a-i)}return l[0]=c,l[4]=0,l[8]=0,l[12]=d,l[1]=0,l[5]=u,l[9]=0,l[13]=h,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const dR=new fP,hR=new uR,fR=new fP(0,0,0),pR=new fP(1,1,1),mR=new fP,gR=new fP,vR=new fP,yR=new uR,bR=new hP;class xR{constructor(e=0,t=0,n=0,r=xR.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(aP(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-aP(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(aP(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-aP(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(aP(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-aP(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:KC("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return yR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(yR,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return bR.setFromEuler(this),this.setFromQuaternion(bR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}xR.DEFAULT_ORDER="XYZ";class _R{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let wR=0;const SR=new fP,MR=new hP,ER=new uR,TR=new fP,AR=new fP,CR=new fP,PR=new hP,RR=new fP(1,0,0),NR=new fP(0,1,0),kR=new fP(0,0,1),LR={type:"added"},IR={type:"removed"},OR={type:"childadded",child:null},DR={type:"childremoved",child:null};class FR extends QC{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:wR++}),this.uuid=iP(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=FR.DEFAULT_UP.clone();const e=new fP,t=new xR,n=new hP,r=new fP(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new uR},normalMatrix:{value:new gP}}),this.matrix=new uR,this.matrixWorld=new uR,this.matrixAutoUpdate=FR.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=FR.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _R,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return MR.setFromAxisAngle(e,t),this.quaternion.multiply(MR),this}rotateOnWorldAxis(e,t){return MR.setFromAxisAngle(e,t),this.quaternion.premultiply(MR),this}rotateX(e){return this.rotateOnAxis(RR,e)}rotateY(e){return this.rotateOnAxis(NR,e)}rotateZ(e){return this.rotateOnAxis(kR,e)}translateOnAxis(e,t){return SR.copy(e).applyQuaternion(this.quaternion),this.position.add(SR.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(RR,e)}translateY(e){return this.translateOnAxis(NR,e)}translateZ(e){return this.translateOnAxis(kR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ER.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?TR.copy(e):TR.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),AR.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ER.lookAt(AR,TR,this.up):ER.lookAt(TR,AR,this.up),this.quaternion.setFromRotationMatrix(ER),r&&(ER.extractRotation(r.matrixWorld),MR.setFromRotationMatrix(ER),this.quaternion.premultiply(MR.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(ZC("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(LR),OR.child=e,this.dispatchEvent(OR),OR.child=null):ZC("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(IR),DR.child=e,this.dispatchEvent(DR),DR.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ER.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ER.multiply(e.parent.matrixWorld)),e.applyMatrix4(ER),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(LR),OR.child=e,this.dispatchEvent(OR),OR.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(AR,e,CR),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(AR,PR,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox?e.boundingBox.toJSON():void 0,boundingSphere:e.boundingSphere?e.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(e=>({...e})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(r.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=a(e.geometries),r=a(e.materials),i=a(e.textures),o=a(e.images),s=a(e.shapes),l=a(e.skeletons),c=a(e.animations),u=a(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),o.length>0&&(n.images=o),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function a(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}FR.DEFAULT_UP=new fP(0,1,0),FR.DEFAULT_MATRIX_AUTO_UPDATE=!0,FR.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const UR=new fP,jR=new fP,zR=new fP,BR=new fP,VR=new fP,HR=new fP,WR=new fP,GR=new fP,qR=new fP,XR=new fP,$R=new kP,YR=new kP,KR=new kP;class ZR{constructor(e=new fP,t=new fP,n=new fP){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),UR.subVectors(e,t),r.cross(UR);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){UR.subVectors(r,t),jR.subVectors(n,t),zR.subVectors(e,t);const a=UR.dot(UR),o=UR.dot(jR),s=UR.dot(zR),l=jR.dot(jR),c=jR.dot(zR),u=a*l-o*o;if(0===u)return i.set(0,0,0),null;const d=1/u,h=(l*s-o*c)*d,f=(a*c-o*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,BR)&&BR.x>=0&&BR.y>=0&&BR.x+BR.y<=1}static getInterpolation(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,BR)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,BR.x),s.addScaledVector(a,BR.y),s.addScaledVector(o,BR.z),s)}static getInterpolatedAttribute(e,t,n,r,i,a){return $R.setScalar(0),YR.setScalar(0),KR.setScalar(0),$R.fromBufferAttribute(e,t),YR.fromBufferAttribute(e,n),KR.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector($R,i.x),a.addScaledVector(YR,i.y),a.addScaledVector(KR,i.z),a}static isFrontFacing(e,t,n,r){return UR.subVectors(n,t),jR.subVectors(e,t),UR.cross(jR).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return UR.subVectors(this.c,this.b),jR.subVectors(this.a,this.b),.5*UR.cross(jR).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ZR.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ZR.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return ZR.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return ZR.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ZR.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let a,o;VR.subVectors(r,n),HR.subVectors(i,n),GR.subVectors(e,n);const s=VR.dot(GR),l=HR.dot(GR);if(s<=0&&l<=0)return t.copy(n);qR.subVectors(e,r);const c=VR.dot(qR),u=HR.dot(qR);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return a=s/(s-c),t.copy(n).addScaledVector(VR,a);XR.subVectors(e,i);const h=VR.dot(XR),f=HR.dot(XR);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return o=l/(l-f),t.copy(n).addScaledVector(HR,o);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return WR.subVectors(i,r),o=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(WR,o);const g=1/(m+p+d);return a=p*g,o=d*g,t.copy(n).addScaledVector(VR,a).addScaledVector(HR,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const JR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},QR={h:0,s:0,l:0},eN={h:0,s:0,l:0};function tN(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class nN{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=MC){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,_P.colorSpaceToWorking(this,t),this}setRGB(e,t,n,r=_P.workingColorSpace){return this.r=e,this.g=t,this.b=n,_P.colorSpaceToWorking(this,r),this}setHSL(e,t,n,r=_P.workingColorSpace){if(e=oP(e,1),t=aP(t,0,1),n=aP(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=tN(i,r,e+1/3),this.g=tN(i,r,e),this.b=tN(i,r,e-1/3)}return _P.colorSpaceToWorking(this,r),this}setStyle(e,t=MC){function n(t){void 0!==t&&parseFloat(t)<1&&KC("Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:KC("Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=r[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===i)return this.setHex(parseInt(n,16),t);KC("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=MC){const n=JR[e.toLowerCase()];return void 0!==n?this.setHex(n,t):KC("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wP(e.r),this.g=wP(e.g),this.b=wP(e.b),this}copyLinearToSRGB(e){return this.r=SP(e.r),this.g=SP(e.g),this.b=SP(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=MC){return _P.workingToColorSpace(rN.copy(this),e),65536*Math.round(aP(255*rN.r,0,255))+256*Math.round(aP(255*rN.g,0,255))+Math.round(aP(255*rN.b,0,255))}getHexString(e=MC){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=_P.workingColorSpace){_P.workingToColorSpace(rN.copy(this),t);const n=rN.r,r=rN.g,i=rN.b,a=Math.max(n,r,i),o=Math.min(n,r,i);let s,l;const c=(o+a)/2;if(o===a)s=0,l=0;else{const e=a-o;switch(l=c<=.5?e/(a+o):e/(2-a-o),a){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=_P.workingColorSpace){return _P.workingToColorSpace(rN.copy(this),t),e.r=rN.r,e.g=rN.g,e.b=rN.b,e}getStyle(e=MC){_P.workingToColorSpace(rN.copy(this),e);const t=rN.r,n=rN.g,r=rN.b;return e!==MC?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(QR),this.setHSL(QR.h+e,QR.s+t,QR.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(QR),e.getHSL(eN);const n=sP(QR.h,eN.h,t),r=sP(QR.s,eN.s,t),i=sP(QR.l,eN.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rN=new nN;nN.NAMES=JR;let iN=0;class aN extends QC{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:iN++}),this.uuid=iP(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=yT,this.blendDst=bT,this.blendEquation=dT,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nN(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=CC,this.stencilZFail=CC,this.stencilZPass=CC,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){KC(`Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:KC(`Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==yT&&(n.blendSrc=this.blendSrc),this.blendDst!==bT&&(n.blendDst=this.blendDst),this.blendEquation!==dT&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==CC&&(n.stencilFail=this.stencilFail),this.stencilZFail!==CC&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==CC&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!1===this.allowOverride&&(n.allowOverride=!1),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class oN extends aN{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nN(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xR,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const sN=lN();function lN(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;!(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,a[l]=e|t}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function cN(e){Math.abs(e)>65504&&KC("DataUtils.toHalfFloat(): Value out of range."),e=aP(e,-65504,65504),sN.floatView[0]=e;const t=sN.uint32View[0],n=t>>23&511;return sN.baseTable[n]+((8388607&t)>>sN.shiftTable[n])}function uN(e){const t=e>>10;return sN.uint32View[0]=sN.mantissaTable[sN.offsetTable[t]+(1023&e)]+sN.exponentTable[t],sN.floatView[0]}const dN=new fP,hN=new dP;let fN=0;class pN{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:fN++}),this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=FC,this.updateRanges=[],this.gpuType=gA,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)hN.fromBufferAttribute(this,t),hN.applyMatrix3(e),this.setXY(t,hN.x,hN.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.applyMatrix3(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.applyMatrix4(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.applyNormalMatrix(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)dN.fromBufferAttribute(this,t),dN.transformDirection(e),this.setXYZ(t,dN.x,dN.y,dN.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=lP(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=cP(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=lP(t,this.array)),t}setX(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=lP(t,this.array)),t}setY(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=lP(t,this.array)),t}setZ(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=lP(t,this.array)),t}setW(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array),i=cP(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==FC&&(e.usage=this.usage),e}}class mN extends pN{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class gN extends pN{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class vN extends pN{constructor(e,t,n){super(new Float32Array(e),t,n)}}let yN=0;const bN=new uR,xN=new FR,_N=new fP,wN=new FP,SN=new FP,MN=new fP;class EN extends QC{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yN++}),this.uuid=iP(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(BC(e)?gN:mN)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new gP).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return bN.makeRotationFromQuaternion(e),this.applyMatrix4(bN),this}rotateX(e){return bN.makeRotationX(e),this.applyMatrix4(bN),this}rotateY(e){return bN.makeRotationY(e),this.applyMatrix4(bN),this}rotateZ(e){return bN.makeRotationZ(e),this.applyMatrix4(bN),this}translate(e,t,n){return bN.makeTranslation(e,t,n),this.applyMatrix4(bN),this}scale(e,t,n){return bN.makeScale(e,t,n),this.applyMatrix4(bN),this}lookAt(e){return xN.lookAt(e),xN.updateMatrix(),this.applyMatrix4(xN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_N).negate(),this.translate(_N.x,_N.y,_N.z),this}setFromPoints(e){const t=this.getAttribute("position");if(void 0===t){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}this.setAttribute("position",new vN(t,3))}else{const n=Math.min(e.length,t.count);for(let r=0;r<n;r++){const n=e[r];t.setXYZ(r,n.x,n.y,n.z||0)}e.length>t.count&&KC("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new FP);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return ZC("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new fP(-1/0,-1/0,-1/0),new fP(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];wN.setFromBufferAttribute(e),this.morphTargetsRelative?(MN.addVectors(this.boundingBox.min,wN.min),this.boundingBox.expandByPoint(MN),MN.addVectors(this.boundingBox.max,wN.max),this.boundingBox.expandByPoint(MN)):(this.boundingBox.expandByPoint(wN.min),this.boundingBox.expandByPoint(wN.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&ZC('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new tR);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return ZC("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new fP,1/0);if(e){const n=this.boundingSphere.center;if(wN.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];SN.setFromBufferAttribute(n),this.morphTargetsRelative?(MN.addVectors(wN.min,SN.min),wN.expandByPoint(MN),MN.addVectors(wN.max,SN.max),wN.expandByPoint(MN)):(wN.expandByPoint(SN.min),wN.expandByPoint(SN.max))}wN.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)MN.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(MN));if(t)for(let i=0,a=t.length;i<a;i++){const a=t[i],o=this.morphTargetsRelative;for(let t=0,i=a.count;t<i;t++)MN.fromBufferAttribute(a,t),o&&(_N.fromBufferAttribute(e,t),MN.add(_N)),r=Math.max(r,n.distanceToSquared(MN))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&ZC('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void ZC("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new pN(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),o=[],s=[];for(let S=0;S<n.count;S++)o[S]=new fP,s[S]=new fP;const l=new fP,c=new fP,u=new fP,d=new dP,h=new dP,f=new dP,p=new fP,m=new fP;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),d.fromBufferAttribute(i,e),h.fromBufferAttribute(i,t),f.fromBufferAttribute(i,r),c.sub(l),u.sub(l),h.sub(d),f.sub(d);const a=1/(h.x*f.y-f.x*h.y);isFinite(a)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-h.y).multiplyScalar(a),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-f.x).multiplyScalar(a),o[e].add(p),o[t].add(p),o[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,M=v.length;S<M;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new fP,b=new fP,x=new fP,_=new fP;function w(e){x.fromBufferAttribute(r,e),_.copy(x);const t=o[e];y.copy(t),y.sub(x.multiplyScalar(x.dot(t))).normalize(),b.crossVectors(_,t);const n=b.dot(s[e])<0?-1:1;a.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,M=v.length;S<M;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new pN(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new fP,i=new fP,a=new fP,o=new fP,s=new fP,l=new fP,c=new fP,u=new fP;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),a.fromBufferAttribute(t,p),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),o.add(c),s.add(c),l.add(c),n.setXYZ(h,o.x,o.y,o.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),a.fromBufferAttribute(t,e+2),c.subVectors(a,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)MN.fromBufferAttribute(e,t),MN.normalize(),e.setXYZ(t,MN.x,MN.y,MN.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r);let o=0,s=0;for(let l=0,c=t.length;l<c;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)a[s++]=n[o++]}return new pN(a,r,i)}if(null===this.index)return KC("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new EN,n=this.index.array,r=this.attributes;for(const o in r){const i=e(r[o],n);t.setAttribute(o,i)}const i=this.morphAttributes;for(const o in i){const r=[],a=i[o];for(let t=0,i=a.length;t<i;t++){const i=e(a[t],n);r.push(i)}t.morphAttributes[o]=r}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,s=a.length;o<s;o++){const e=a[o];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(e.data.boundingSphere=o.toJSON()),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone());const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let l=0,c=a.length;l<c;l++){const e=a[l];this.addGroup(e.start,e.count,e.materialIndex)}const o=e.boundingBox;null!==o&&(this.boundingBox=o.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const TN=new uR,AN=new cR,CN=new tR,PN=new fP,RN=new fP,NN=new fP,kN=new fP,LN=new fP,IN=new fP,ON=new fP,DN=new fP;class FN extends FR{constructor(e=new EN,t=new oN){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(i&&o){IN.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=o[n],s=i[n];0!==r&&(LN.fromBufferAttribute(s,e),a?IN.addScaledVector(LN,r):IN.addScaledVector(LN.sub(t),r))}t.add(IN)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),CN.copy(n.boundingSphere),CN.applyMatrix4(i),AN.copy(e.ray).recast(e.near),!1===CN.containsPoint(AN.origin)){if(null===AN.intersectSphere(CN,PN))return;if(AN.origin.distanceToSquared(PN)>(e.far-e.near)**2)return}TN.copy(i).invert(),AN.copy(e.ray).applyMatrix4(TN),null!==n.boundingBox&&!1===AN.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,AN)}}_computeIntersections(e,t,n){let r;const i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==o)if(Array.isArray(a))for(let f=0,p=d.length;f<p;f++){const i=d[f],s=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(o.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3)r=UN(this,s,e,n,l,c,u,o.getX(a),o.getX(a+1),o.getX(a+2)),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}else for(let f=Math.max(0,h.start),p=Math.min(o.count,h.start+h.count);f<p;f+=3)r=UN(this,a,e,n,l,c,u,o.getX(f),o.getX(f+1),o.getX(f+2)),r&&(r.faceIndex=Math.floor(f/3),t.push(r));else if(void 0!==s)if(Array.isArray(a))for(let f=0,p=d.length;f<p;f++){const i=d[f],o=a[i.materialIndex];for(let a=Math.max(i.start,h.start),d=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));a<d;a+=3)r=UN(this,o,e,n,l,c,u,a,a+1,a+2),r&&(r.faceIndex=Math.floor(a/3),r.face.materialIndex=i.materialIndex,t.push(r))}else for(let f=Math.max(0,h.start),p=Math.min(s.count,h.start+h.count);f<p;f+=3)r=UN(this,a,e,n,l,c,u,f,f+1,f+2),r&&(r.faceIndex=Math.floor(f/3),t.push(r))}}function UN(e,t,n,r,i,a,o,s,l,c){e.getVertexPosition(s,RN),e.getVertexPosition(l,NN),e.getVertexPosition(c,kN);const u=function(e,t,n,r,i,a,o,s){let l;if(l=1===t.side?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,0===t.side,s),null===l)return null;DN.copy(s),DN.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(DN);return c<n.near||c>n.far?null:{distance:c,point:DN.clone(),object:e}}(e,t,n,r,RN,NN,kN,ON);if(u){const e=new fP;ZR.getBarycoord(ON,RN,NN,kN,e),i&&(u.uv=ZR.getInterpolatedAttribute(i,s,l,c,e,new dP)),a&&(u.uv1=ZR.getInterpolatedAttribute(a,s,l,c,e,new dP)),o&&(u.normal=ZR.getInterpolatedAttribute(o,s,l,c,e,new fP),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const t={a:s,b:l,c:c,normal:new fP,materialIndex:0};ZR.getNormal(RN,NN,kN,t.normal),u.face=t,u.barycoord=e}return u}class jN extends EN{constructor(e=1,t=1,n=1,r=1,i=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};const o=this;r=Math.floor(r),i=Math.floor(i),a=Math.floor(a);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,a,f,p,m,g,v){const y=a/m,b=f/g,x=a/2,_=f/2,w=p/2,S=m+1,M=g+1;let E=0,T=0;const A=new fP;for(let o=0;o<M;o++){const a=o*b-_;for(let s=0;s<S;s++){const d=s*y-x;A[e]=d*r,A[t]=a*i,A[n]=w,l.push(A.x,A.y,A.z),A[e]=0,A[t]=0,A[n]=p>0?1:-1,c.push(A.x,A.y,A.z),u.push(s/m),u.push(1-o/g),E+=1}}for(let o=0;o<g;o++)for(let e=0;e<m;e++){const t=d+e+S*o,n=d+e+S*(o+1),r=d+(e+1)+S*(o+1),i=d+(e+1)+S*o;s.push(t,n,i),s.push(n,r,i),T+=6}o.addGroup(h,T,v),h+=T,d+=E}f("z","y","x",-1,-1,n,t,e,a,i,0),f("z","y","x",1,-1,n,t,-e,a,i,1),f("x","z","y",1,1,e,n,t,r,a,2),f("x","z","y",1,-1,e,n,-t,r,a,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new vN(l,3)),this.setAttribute("normal",new vN(c,3)),this.setAttribute("uv",new vN(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jN(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zN(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(KC("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function BN(e){const t={};for(let n=0;n<e.length;n++){const r=zN(e[n]);for(const e in r)t[e]=r[e]}return t}function VN(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:_P.workingColorSpace}const HN={clone:zN,merge:BN};class WN extends aN{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zN(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class GN extends FR{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new uR,this.projectionMatrix=new uR,this.projectionMatrixInverse=new uR,this.coordinateSystem=jC,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const qN=new fP,XN=new dP,$N=new dP;class YN extends GN{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*rP*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*nP*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*rP*Math.atan(Math.tan(.5*nP*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){qN.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(qN.x,qN.y).multiplyScalar(-e/qN.z),qN.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(qN.x,qN.y).multiplyScalar(-e/qN.z)}getViewSize(e,t){return this.getViewBounds(e,XN,$N),t.subVectors($N,XN)}setViewOffset(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*nP*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const a=this.view;if(null!==this.view&&this.view.enabled){const e=a.fullWidth,o=a.fullHeight;i+=a.offsetX*r/e,t-=a.offsetY*n/o,r*=a.width/e,n*=a.height/o}const o=this.filmOffset;0!==o&&(i+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const KN=-90;class ZN extends FR{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new YN(KN,1,e,t);r.layers=this.layers,this.add(r);const i=new YN(KN,1,e,t);i.layers=this.layers,this.add(i);const a=new YN(KN,1,e,t);a.layers=this.layers,this.add(a);const o=new YN(KN,1,e,t);o.layers=this.layers,this.add(o);const s=new YN(KN,1,e,t);s.layers=this.layers,this.add(s);const l=new YN(KN,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,a,o,s]=t;for(const l of t)this.remove(l);if(e===jC)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==zC)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,a,o,s,l,c]=this.children,u=e.getRenderTarget(),d=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,a),e.setRenderTarget(n,2,r),e.render(t,o),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,d,h),e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class JN extends NP{constructor(e=[],t=301,n,r,i,a,o,s,l,c){super(e,t,n,r,i,a,o,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class QN extends IP{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new JN(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new jN(5,5,5),i=new WN({name:"CubemapFromEquirect",uniforms:zN(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;const a=new FN(r,i),o=t.minFilter;return t.minFilter===cA&&(t.minFilter=sA),new ZN(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,n=!0,r=!0){const i=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}class ek extends FR{constructor(){super(),this.isGroup=!0,this.type="Group"}}const tk={type:"move"};class nk{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ek,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ek,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fP,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fP),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ek,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fP,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fP),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,a=null;const o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;for(const a of e.hand.values()){const e=t.getJointPose(a,n),r=this._getHandJoint(l,a);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],o=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&o>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&o<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(tk)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new ek;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class rk{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new nN(e),this.density=t}clone(){return new rk(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ik{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new nN(e),this.near=t,this.far=n}clone(){return new ik(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ak extends FR{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new xR,this.environmentIntensity=1,this.environmentRotation=new xR,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class ok{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=FC,this.updateRanges=[],this.version=0,this.uuid=iP()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=iP()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=iP()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const sk=new fP;class lk{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)sk.fromBufferAttribute(this,t),sk.applyMatrix4(e),this.setXYZ(t,sk.x,sk.y,sk.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)sk.fromBufferAttribute(this,t),sk.applyNormalMatrix(e),this.setXYZ(t,sk.x,sk.y,sk.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)sk.fromBufferAttribute(this,t),sk.transformDirection(e),this.setXYZ(t,sk.x,sk.y,sk.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=lP(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=cP(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=cP(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=cP(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=cP(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=cP(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=lP(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=lP(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=lP(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=lP(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array),i=cP(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){YC("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new pN(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new lk(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){YC("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class ck extends aN{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nN(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let uk;const dk=new fP,hk=new fP,fk=new fP,pk=new dP,mk=new dP,gk=new uR,vk=new fP,yk=new fP,bk=new fP,xk=new dP,_k=new dP,wk=new dP;class Sk extends FR{constructor(e=new ck){if(super(),this.isSprite=!0,this.type="Sprite",void 0===uk){uk=new EN;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new ok(e,5);uk.setIndex([0,1,2,0,2,3]),uk.setAttribute("position",new lk(t,3,0,!1)),uk.setAttribute("uv",new lk(t,2,3,!1))}this.geometry=uk,this.material=e,this.center=new dP(.5,.5),this.count=1}raycast(e,t){null===e.camera&&ZC('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hk.setFromMatrixScale(this.matrixWorld),gk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fk.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&hk.multiplyScalar(-fk.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const a=this.center;Mk(vk.set(-.5,-.5,0),fk,a,hk,r,i),Mk(yk.set(.5,-.5,0),fk,a,hk,r,i),Mk(bk.set(.5,.5,0),fk,a,hk,r,i),xk.set(0,0),_k.set(1,0),wk.set(1,1);let o=e.ray.intersectTriangle(vk,yk,bk,!1,dk);if(null===o&&(Mk(yk.set(-.5,.5,0),fk,a,hk,r,i),_k.set(0,1),o=e.ray.intersectTriangle(vk,bk,yk,!1,dk),null===o))return;const s=e.ray.origin.distanceTo(dk);s<e.near||s>e.far||t.push({distance:s,point:dk.clone(),uv:ZR.getInterpolation(dk,vk,yk,bk,xk,_k,wk,new dP),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Mk(e,t,n,r,i,a){pk.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(mk.x=a*pk.x-i*pk.y,mk.y=i*pk.x+a*pk.y):mk.copy(pk),e.copy(t),e.x+=mk.x,e.y+=mk.y,e.applyMatrix4(gk)}const Ek=new fP,Tk=new fP;class Ak extends FR{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const e=t.splice(n,1);return this.remove(e[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){Ek.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(Ek);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Ek.setFromMatrixPosition(e.matrixWorld),Tk.setFromMatrixPosition(this.matrixWorld);const n=Ek.distanceTo(Tk)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const Ck=new fP,Pk=new kP,Rk=new kP,Nk=new fP,kk=new uR,Lk=new fP,Ik=new tR,Ok=new uR,Dk=new cR;class Fk extends FN{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=XT,this.bindMatrix=new uR,this.bindMatrixInverse=new uR,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new FP),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Lk),this.boundingBox.expandByPoint(Lk)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new tR),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Lk),this.boundingSphere.expandByPoint(Lk)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),Ik.copy(this.boundingSphere),Ik.applyMatrix4(r),!1!==e.ray.intersectsSphere(Ik)&&(Ok.copy(r).invert(),Dk.copy(e.ray).applyMatrix4(Ok),null!==this.boundingBox&&!1===Dk.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,Dk)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kP,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===XT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$T?this.bindMatrixInverse.copy(this.bindMatrix).invert():KC("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;Pk.fromBufferAttribute(r.attributes.skinIndex,e),Rk.fromBufferAttribute(r.attributes.skinWeight,e),Ck.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=Rk.getComponent(i);if(0!==e){const r=Pk.getComponent(i);kk.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(Nk.copy(Ck).applyMatrix4(kk),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Uk extends FR{constructor(){super(),this.isBone=!0,this.type="Bone"}}class jk extends NP{constructor(e=null,t=1,n=1,r,i,a,o,s,l=1003,c=1003,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const zk=new uR,Bk=new uR;class Vk{constructor(e=[],t=[]){this.uuid=iP(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){KC("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new uR)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new uR;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,a=e.length;i<a;i++){const r=e[i]?e[i].matrixWorld:Bk;zk.multiplyMatrices(r,t[i]),zk.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Vk(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new jk(t,e,e,EA,gA);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const r=e.bones[n];let i=t[r];void 0===i&&(KC("Skeleton: No bone found with UUID:",r),i=new Uk),this.bones.push(i),this.boneInverses.push((new uR).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const a=n[r];e.boneInverses.push(a.toArray())}return e}}class Hk extends pN{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Wk=new uR,Gk=new uR,qk=[],Xk=new FP,$k=new uR,Yk=new FN,Kk=new tR;class Zk extends FN{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Hk(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,$k)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new FP),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Wk),Xk.copy(e.boundingBox).applyMatrix4(Wk),this.boundingBox.union(Xk)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new tR),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,Wk),Kk.copy(e.boundingSphere).applyMatrix4(Wk),this.boundingSphere.union(Kk)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let a=0;a<n.length;a++)n[a]=r[i+a]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(Yk.geometry=this.geometry,Yk.material=this.material,void 0!==Yk.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Kk.copy(this.boundingSphere),Kk.applyMatrix4(n),!1!==e.ray.intersectsSphere(Kk)))for(let i=0;i<r;i++){this.getMatrixAt(i,Wk),Gk.multiplyMatrices(n,Wk),Yk.matrixWorld=Gk,Yk.raycast(e,qk);for(let e=0,n=qk.length;e<n;e++){const n=qk[e];n.instanceId=i,n.object=this,t.push(n)}qk.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Hk(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new jk(new Float32Array(r*this.count),r,this.count,CA,gA));const i=this.morphTexture.source.data.data;let a=0;for(let l=0;l<n.length;l++)a+=n[l];const o=this.geometry.morphTargetsRelative?1:1-a,s=r*e;i[s]=o,i.set(n,s+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const Jk=new fP,Qk=new fP,eL=new gP;class tL{constructor(e=new fP(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Jk.subVectors(n,t).cross(Qk.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Jk),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||eL.getNormalMatrix(e),r=this.coplanarPoint(Jk).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const nL=new tR,rL=new dP(.5,.5),iL=new fP;class aL{constructor(e=new tL,t=new tL,n=new tL,r=new tL,i=new tL,a=new tL){this.planes=[e,t,n,r,i,a]}set(e,t,n,r,i,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3,n=!1){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],u=i[5],d=i[6],h=i[7],f=i[8],p=i[9],m=i[10],g=i[11],v=i[12],y=i[13],b=i[14],x=i[15];if(r[0].setComponents(l-a,h-c,g-f,x-v).normalize(),r[1].setComponents(l+a,h+c,g+f,x+v).normalize(),r[2].setComponents(l+o,h+u,g+p,x+y).normalize(),r[3].setComponents(l-o,h-u,g-p,x-y).normalize(),n)r[4].setComponents(s,d,m,b).normalize(),r[5].setComponents(l-s,h-d,g-m,x-b).normalize();else if(r[4].setComponents(l-s,h-d,g-m,x-b).normalize(),t===jC)r[5].setComponents(l+s,h+d,g+m,x+b).normalize();else{if(t!==zC)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);r[5].setComponents(s,d,m,b).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),nL.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),nL.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(nL)}intersectsSprite(e){nL.center.set(0,0,0);const t=rL.distanceTo(e.center);return nL.radius=.7071067811865476+t,nL.applyMatrix4(e.matrixWorld),this.intersectsSphere(nL)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(iL.x=r.normal.x>0?e.max.x:e.min.x,iL.y=r.normal.y>0?e.max.y:e.min.y,iL.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(iL)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}const oL=new uR,sL=new aL;class lL{constructor(){this.coordinateSystem=jC}intersectsObject(e,t){if(!t.isArrayCamera||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sL.setFromProjectionMatrix(oL,r.coordinateSystem,r.reversedDepth),sL.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sL.setFromProjectionMatrix(oL,r.coordinateSystem,r.reversedDepth),sL.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sL.setFromProjectionMatrix(oL,r.coordinateSystem,r.reversedDepth),sL.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sL.setFromProjectionMatrix(oL,r.coordinateSystem,r.reversedDepth),sL.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||0===t.cameras.length)return!1;for(let n=0;n<t.cameras.length;n++){const r=t.cameras[n];if(oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),sL.setFromProjectionMatrix(oL,r.coordinateSystem,r.reversedDepth),sL.containsPoint(e))return!0}return!1}clone(){return new lL}}function cL(e,t){return e-t}function uL(e,t){return e.z-t.z}function dL(e,t){return t.z-e.z}class hL{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,r){const i=this.pool,a=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1,index:-1});const o=i[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=n,o.index=r}reset(){this.list.length=0,this.index=0}}const fL=new uR,pL=new nN(1,1,1),mL=new aL,gL=new lL,vL=new FP,yL=new tR,bL=new fP,xL=new fP,_L=new fP,wL=new hL,SL=new FN,ML=[];function EL(e,t,n=0){const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let a=0;a<i;a++)for(let i=0;i<r;i++)t.setComponent(a+n,i,e.getComponent(a,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}function TL(e,t){if(e.constructor!==t.constructor){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)t[r]=e[r]}else{const n=Math.min(e.length,t.length);t.set(new e.constructor(e.buffer,0,n))}}class AL extends FN{constructor(e,t,n=2*t,r){super(new EN,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new jk(t,e,e,EA,gA);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new jk(t,e,e,PA,mA);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new jk(t,e,e,EA,gA);n.colorSpace=_P.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:a,itemSize:o,normalized:s}=i,l=new a.constructor(n*o),c=new pN(l,o,s);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new pN(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||!1===t[e].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new FP);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,fL),this.getBoundingBoxAt(r,vL).applyMatrix4(fL),e.union(vL)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new tR);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,fL),this.getBoundingSphereAt(r,yL).applyMatrix4(fL),e.union(yL)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const t={visible:!0,active:!0,geometryIndex:e};let n=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(cL),n=this._availableInstanceIds.shift(),this._instanceInfo[n]=t):(n=this._instanceInfo.length,this._instanceInfo.push(t));const r=this._matricesTexture;fL.identity().toArray(r.image.data,16*n),r.needsUpdate=!0;const i=this._colorsTexture;return i&&(pL.toArray(i.image.data,4*n),i.needsUpdate=!0),this._visibilityChanged=!0,n}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},i=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=-1===t?e.getAttribute("position").count:t;const a=e.getIndex();if(null!==a&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=-1===n?a.count:n),-1!==r.indexStart&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let o;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(cL),o=this._availableGeometryIds.shift(),i[o]=r):(o=this._geometryCount,this._geometryCount++,i.push(r)),this.setGeometryAt(o,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,o}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const s=o.vertexStart,l=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in n.attributes){const e=t.getAttribute(c),r=n.getAttribute(c);EL(e,r,s);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(s*i,l*i)}if(r){const e=o.indexStart,n=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let t=0;t<a.count;t++)i.setX(e+t,s+a.getX(t));for(let t=a.count,r=n;t<r;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,null!==t.boundingBox&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,null!==t.boundingSphere&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||!1===t[e].active)return this;const n=this._instanceInfo;for(let r=0,i=n.length;r<i;r++)n[r].active&&n[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,r=n.map((e,t)=>t).sort((e,t)=>n[e].vertexStart-n[t].vertexStart),i=this.geometry;for(let a=0,o=n.length;a<o;a++){const o=r[a],s=n[o];if(!1!==s.active){if(null!==i.index){if(s.indexStart!==t){const{indexStart:n,vertexStart:r,reservedIndexCount:a}=s,o=i.index,l=o.array,c=e-r;for(let e=n;e<n+a;e++)l[e]=l[e]+c;o.array.copyWithin(t,n,n+a),o.addUpdateRange(t,a),o.needsUpdate=!0,s.indexStart=t}t+=s.reservedIndexCount}if(s.vertexStart!==e){const{vertexStart:t,reservedVertexCount:n}=s,r=i.attributes;for(const i in r){const a=r[i],{array:o,itemSize:s}=a;o.copyWithin(e*s,t*s,(t+n)*s),a.addUpdateRange(e*s,n*s),a.needsUpdate=!0}s.vertexStart=e}e+=s.reservedVertexCount,s.start=i.index?s.indexStart:s.vertexStart,this._nextIndexStart=i.index?s.indexStart+s.reservedIndexCount:0,this._nextVertexStart=s.vertexStart+s.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingBox){const e=new FP,t=n.index,i=n.attributes.position;for(let n=r.start,a=r.start+r.count;n<a;n++){let r=n;t&&(r=t.getX(r)),e.expandByPoint(bL.fromBufferAttribute(i,r))}r.boundingBox=e}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,r=this._geometryInfo[e];if(null===r.boundingSphere){const t=new tR;this.getBoundingBoxAt(e,vL),vL.getCenter(t.center);const i=n.index,a=n.attributes.position;let o=0;for(let e=r.start,n=r.start+r.count;e<n;e++){let n=e;i&&(n=i.getX(n)),bL.fromBufferAttribute(a,n),o=Math.max(o,t.center.distanceToSquared(bL))}t.radius=Math.sqrt(o),r.boundingSphere=t}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,16*e),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,16*e)}setColorAt(e,t){return this.validateInstanceId(e),null===this._colorsTexture&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,4*e),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,4*e)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t||(this._instanceInfo[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(cL);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),i=new Int32Array(e);TL(this._multiDrawCounts,r),TL(this._multiDrawStarts,i),this._multiDrawCounts=r,this._multiDrawStarts=i,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,s=this._colorsTexture;a.dispose(),this._initIndirectTexture(),TL(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),TL(o.image.data,this._matricesTexture.image.data),s&&(s.dispose(),this._initColorsTexture(),TL(s.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(e=>e.active);if(Math.max(...n.map(e=>e.vertexStart+e.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(e=>e.indexStart+e.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new EN,this._initializeGeometry(r));const i=this.geometry;r.index&&TL(r.index.array,i.index.array);for(const a in r.attributes)TL(r.attributes[a].array,i.attributes[a].array)}raycast(e,t){const n=this._instanceInfo,r=this._geometryInfo,i=this.matrixWorld,a=this.geometry;SL.material=this.material,SL.geometry.index=a.index,SL.geometry.attributes=a.attributes,null===SL.geometry.boundingBox&&(SL.geometry.boundingBox=new FP),null===SL.geometry.boundingSphere&&(SL.geometry.boundingSphere=new tR);for(let o=0,s=n.length;o<s;o++){if(!n[o].visible||!n[o].active)continue;const a=n[o].geometryIndex,s=r[a];SL.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(o,SL.matrixWorld).premultiply(i),this.getBoundingBoxAt(a,SL.geometry.boundingBox),this.getBoundingSphereAt(a,SL.geometry.boundingSphere),SL.raycast(e,ML);for(let e=0,n=ML.length;e<n;e++){const n=ML[e];n.object=this,n.batchId=o,t.push(n)}ML.length=0}SL.material=null,SL.geometry.index=null,SL.geometry.attributes={},SL.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(e=>({...e,boundingBox:null!==e.boundingBox?e.boundingBox.clone():null,boundingSphere:null!==e.boundingSphere?e.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(e=>({...e})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=null===a?1:a.array.BYTES_PER_ELEMENT,s=this._instanceInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._geometryInfo,d=this.perObjectFrustumCulled,h=this._indirectTexture,f=h.image.data,p=n.isArrayCamera?gL:mL;d&&!n.isArrayCamera&&(fL.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),mL.setFromProjectionMatrix(fL,n.coordinateSystem,n.reversedDepth));let m=0;if(this.sortObjects){fL.copy(this.matrixWorld).invert(),bL.setFromMatrixPosition(n.matrixWorld).applyMatrix4(fL),xL.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(fL);for(let r=0,i=s.length;r<i;r++)if(s[r].visible&&s[r].active){const e=s[r].geometryIndex;this.getMatrixAt(r,fL),this.getBoundingSphereAt(e,yL).applyMatrix4(fL);let t=!1;if(d&&(t=!p.intersectsSphere(yL,n)),!t){const t=u[e],n=_L.subVectors(yL.center,bL).dot(xL);wL.push(t.start,t.count,n,r)}}const e=wL.list,t=this.customSort;null===t?e.sort(i.transparent?dL:uL):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[m]=t.start*o,c[m]=t.count,f[m]=t.index,m++}wL.reset()}else for(let g=0,v=s.length;g<v;g++)if(s[g].visible&&s[g].active){const e=s[g].geometryIndex;let t=!1;if(d&&(this.getMatrixAt(g,fL),this.getBoundingSphereAt(e,yL).applyMatrix4(fL),t=!p.intersectsSphere(yL,n)),!t){const t=u[e];l[m]=t.start*o,c[m]=t.count,f[m]=g,m++}}h.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,a){this.onBeforeRender(e,null,r,i,a)}}class CL extends aN{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nN(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const PL=new fP,RL=new fP,NL=new uR,kL=new cR,LL=new tR,IL=new fP,OL=new fP;class DL extends FR{constructor(e=new EN,t=new CL){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)PL.fromBufferAttribute(t,e-1),RL.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=PL.distanceTo(RL);e.setAttribute("lineDistance",new vN(n,1))}else KC("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),LL.copy(n.boundingSphere),LL.applyMatrix4(r),LL.radius+=i,!1===e.ray.intersectsSphere(LL))return;NL.copy(r).invert(),kL.copy(e.ray).applyMatrix4(NL);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,a.start),r=Math.min(c.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=c.getX(i),r=c.getX(i+1),a=FL(this,e,kL,s,n,r,i);a&&t.push(a)}if(this.isLineLoop){const i=c.getX(r-1),a=c.getX(n),o=FL(this,e,kL,s,i,a,r-1);o&&t.push(o)}}else{const n=Math.max(0,a.start),r=Math.min(u.count,a.start+a.count);for(let i=n,a=r-1;i<a;i+=l){const n=FL(this,e,kL,s,i,i+1,i);n&&t.push(n)}if(this.isLineLoop){const i=FL(this,e,kL,s,r-1,n,r-1);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function FL(e,t,n,r,i,a,o){const s=e.geometry.attributes.position;if(PL.fromBufferAttribute(s,i),RL.fromBufferAttribute(s,a),n.distanceSqToSegment(PL,RL,IL,OL)>r)return;IL.applyMatrix4(e.matrixWorld);const l=t.ray.origin.distanceTo(IL);return l<t.near||l>t.far?void 0:{distance:l,point:OL.clone().applyMatrix4(e.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:e}}const UL=new fP,jL=new fP;class zL extends DL{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)UL.fromBufferAttribute(t,e),jL.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+UL.distanceTo(jL);e.setAttribute("lineDistance",new vN(n,1))}else KC("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class BL extends DL{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class VL extends aN{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nN(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const HL=new uR,WL=new cR,GL=new tR,qL=new fP;class XL extends FR{constructor(e=new EN,t=new VL){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),GL.copy(n.boundingSphere),GL.applyMatrix4(r),GL.radius+=i,!1===e.ray.intersectsSphere(GL))return;HL.copy(r).invert(),WL.copy(e.ray).applyMatrix4(HL);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,c=n.attributes.position;if(null!==l)for(let u=Math.max(0,a.start),d=Math.min(l.count,a.start+a.count);u<d;u++){const n=l.getX(u);qL.fromBufferAttribute(c,n),$L(qL,n,s,r,e,t,this)}else for(let u=Math.max(0,a.start),d=Math.min(c.count,a.start+a.count);u<d;u++)qL.fromBufferAttribute(c,u),$L(qL,u,s,r,e,t,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function $L(e,t,n,r,i,a,o){const s=WL.distanceSqToPoint(e);if(s<n){const n=new fP;WL.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,faceIndex:null,barycoord:null,object:o})}}class YL extends NP{constructor(e,t,n,r,i=1006,a=1006,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const c=this;"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,c._requestVideoFrameCallbackId=e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){0!==this._requestVideoFrameCallbackId&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class KL extends NP{constructor(e,t,n,r,i,a,o,s,l,c,u,d){super(null,a,o,s,l,c,r,i,u,d),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class ZL extends NP{constructor(e,t,n=1014,r,i,a,o=1003,s=1003,l,c=1026,u=1){if(c!==TA&&c!==AA)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super({width:e,height:t,depth:u},r,i,a,o,s,c,n,l),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new AP(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class JL extends ZL{constructor(e,t=1014,n=301,r,i,a=1003,o=1003,s,l=1026){const c={width:e,height:e,depth:1},u=[c,c,c,c,c,c];super(e,e,t,n,r,i,a,o,s,l),this.image=u,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class QL extends NP{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class eI extends EN{constructor(e=1,t=1,n=4,r=8,i=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:r,heightSegments:i},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),r=Math.max(3,Math.floor(r)),i=Math.max(1,Math.floor(i));const a=[],o=[],s=[],l=[],c=t/2,u=Math.PI/2*e,d=t,h=2*u+d,f=2*n+i,p=r+1,m=new fP,g=new fP;for(let v=0;v<=f;v++){let y=0,b=0,x=0,_=0;if(v<=n){const t=v/n,r=t*Math.PI/2;b=-c-e*Math.cos(r),x=e*Math.sin(r),_=-e*Math.cos(r),y=t*u}else if(v<=n+i){const r=(v-n)/i;b=r*t-c,x=e,_=0,y=u+r*d}else{const t=(v-n-i)/n,r=t*Math.PI/2;b=c+e*Math.sin(r),x=e*Math.cos(r),_=e*Math.sin(r),y=u+d+t*u}const w=Math.max(0,Math.min(1,y/h));let S=0;0===v?S=.5/r:v===f&&(S=-.5/r);for(let e=0;e<=r;e++){const t=e/r,n=t*Math.PI*2,i=Math.sin(n),a=Math.cos(n);g.x=-x*a,g.y=b,g.z=x*i,o.push(g.x,g.y,g.z),m.set(-x*a,_,x*i),m.normalize(),s.push(m.x,m.y,m.z),l.push(t+S,w)}if(v>0){const e=(v-1)*p;for(let t=0;t<r;t++){const n=e+t,r=e+t+1,i=v*p+t,o=v*p+t+1;a.push(n,r,i),a.push(r,o,i)}}}this.setIndex(a),this.setAttribute("position",new vN(o,3)),this.setAttribute("normal",new vN(s,3)),this.setAttribute("uv",new vN(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eI(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class tI extends EN{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],a=[],o=[],s=[],l=new fP,c=new dP;a.push(0,0,0),o.push(0,0,1),s.push(.5,.5);for(let u=0,d=3;u<=t;u++,d+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),a.push(l.x,l.y,l.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new vN(a,3)),this.setAttribute("normal",new vN(o,3)),this.setAttribute("uv",new vN(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class nI extends EN{constructor(e=1,t=1,n=1,r=32,i=1,a=!1,o=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,a=new dP,p=new fP;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*s+o,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),d.push(0,b,0),a.x=.5*n+.5,a.y=.5*i*b+.5,h.push(a.x,a.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const a=new fP,v=new fP;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+o,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),a.set(l,b,p).normalize(),d.push(a.x,a.y,a.z),h.push(t,1-g),c.push(f++)}p.push(c)}for(let n=0;n<r;n++)for(let r=0;r<i;r++){const a=p[r][n],o=p[r+1][n],s=p[r+1][n+1],l=p[r][n+1];(e>0||0!==r)&&(c.push(a,o,l),y+=3),(t>0||r!==i-1)&&(c.push(o,s,l),y+=3)}l.addGroup(g,y,0),g+=y}(),!1===a&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new vN(u,3)),this.setAttribute("normal",new vN(d,3)),this.setAttribute("uv",new vN(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nI(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rI extends nI{constructor(e=1,t=1,n=32,r=1,i=!1,a=0,o=2*Math.PI){super(0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}static fromJSON(e){return new rI(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class iI extends EN{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],a=[];function o(e,t,n,r){const i=r+1,a=[];for(let o=0;o<=i;o++){a[o]=[];const r=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o;for(let e=0;e<=l;e++)a[o][e]=0===e&&o===i?r:r.clone().lerp(s,e/l)}for(let o=0;o<i;o++)for(let e=0;e<2*(i-o)-1;e++){const t=Math.floor(e/2);e%2==0?(s(a[o][t+1]),s(a[o+1][t]),s(a[o][t])):(s(a[o][t+1]),s(a[o+1][t+1]),s(a[o+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(a[t]=e.x-1),0===n.x&&0===n.z&&(a[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function d(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new fP,r=new fP,i=new fP;for(let a=0;a<t.length;a+=3)l(t[a+0],n),l(t[a+1],r),l(t[a+2],i),o(n,r,i,e)}(r),function(e){const t=new fP;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new fP;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=u(e)/2/Math.PI+.5,r=d(e)/Math.PI+.5;a.push(n,1-r)}(function(){const e=new fP,t=new fP,n=new fP,r=new fP,o=new dP,s=new dP,l=new dP;for(let d=0,h=0;d<i.length;d+=9,h+=6){e.set(i[d+0],i[d+1],i[d+2]),t.set(i[d+3],i[d+4],i[d+5]),n.set(i[d+6],i[d+7],i[d+8]),o.set(a[h+0],a[h+1]),s.set(a[h+2],a[h+3]),l.set(a[h+4],a[h+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(o,h+0,e,f),c(s,h+2,t,f),c(l,h+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){const t=a[e+0],n=a[e+2],r=a[e+4],i=Math.max(t,n,r),o=Math.min(t,n,r);i>.9&&o<.1&&(t<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new vN(i,3)),this.setAttribute("normal",new vN(i.slice(),3)),this.setAttribute("uv",new vN(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iI(e.vertices,e.indices,e.radius,e.detail)}}class aI extends iI{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aI(e.radius,e.detail)}}const oI=new fP,sI=new fP,lI=new fP,cI=new ZR;class uI extends EN{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(nP*t),a=e.getIndex(),o=e.getAttribute("position"),s=a?a.count:o.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let e=0;e<s;e+=3){a?(l[0]=a.getX(e),l[1]=a.getX(e+1),l[2]=a.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=cI;if(t.fromBufferAttribute(o,l[0]),n.fromBufferAttribute(o,l[1]),s.fromBufferAttribute(o,l[2]),cI.getNormal(lI),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(s.x*r)},${Math.round(s.y*r)},${Math.round(s.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],a=cI[c[e]],o=cI[c[t]],s=`${n}_${r}`,f=`${r}_${n}`;f in d&&d[f]?(lI.dot(d[f].normal)<=i&&(h.push(a.x,a.y,a.z),h.push(o.x,o.y,o.z)),d[f]=null):s in d||(d[s]={index0:l[e],index1:l[t],normal:lI.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:n}=d[e];oI.fromBufferAttribute(o,t),sI.fromBufferAttribute(o,n),h.push(oI.x,oI.y,oI.z),h.push(sI.x,sI.y,sI.z)}this.setAttribute("position",new vN(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class dI{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){KC("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let r=0;const i=n.length;let a;a=t||e*n[i-1];let o,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),o=n[r]-a,o<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(r=l,n[r]===a)return r/(i-1);const c=n[r];return(r+(a-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new dP:new fP);return s.copy(o).sub(a).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new fP,r=[],i=[],a=[],o=new fP,s=new uR;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new fP)}i[0]=new fP,a[0]=new fP;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(r[h-1],r[h]),o.length()>Number.EPSILON){o.normalize();const e=Math.acos(aP(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(o,e))}a[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(aP(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),a[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class hI extends dI{constructor(e=0,t=0,n=1,r=1,i=0,a=2*Math.PI,o=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s}getPoint(e,t=new dP){const n=t,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const a=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);const o=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class fI extends hI{constructor(e,t,n,r,i,a){super(e,t,n,n,r,i,a),this.isArcCurve=!0,this.type="ArcCurve"}}function pI(){let e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){let l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,c=(n-t)/o-(r-t)/(o+s)+(r-n)/s;l*=o,c*=o,i(t,n,l,c)},calc:function(i){const a=i*i;return e+t*i+n*a+r*(a*i)}}}const mI=new fP,gI=new pI,vI=new pI,yI=new pI;class bI extends dI{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new fP){const n=t,r=this.points,i=r.length,a=(i-(this.closed?0:1))*e;let o,s,l=Math.floor(a),c=a-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?o=r[(l-1)%i]:(mI.subVectors(r[0],r[1]).add(r[0]),o=mI);const u=r[l%i],d=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(mI.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=mI),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(o.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(d),e),r=Math.pow(d.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),gI.initNonuniformCatmullRom(o.x,u.x,d.x,s.x,t,n,r),vI.initNonuniformCatmullRom(o.y,u.y,d.y,s.y,t,n,r),yI.initNonuniformCatmullRom(o.z,u.z,d.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(gI.initCatmullRom(o.x,u.x,d.x,s.x,this.tension),vI.initCatmullRom(o.y,u.y,d.y,s.y,this.tension),yI.initCatmullRom(o.z,u.z,d.z,s.z,this.tension));return n.set(gI.calc(c),vI.calc(c),yI.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new fP).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function xI(e,t,n,r,i){const a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function _I(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function wI(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class SI extends dI{constructor(e=new dP,t=new dP,n=new dP,r=new dP){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new dP){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(wI(e,r.x,i.x,a.x,o.x),wI(e,r.y,i.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class MI extends dI{constructor(e=new fP,t=new fP,n=new fP,r=new fP){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new fP){const n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(wI(e,r.x,i.x,a.x,o.x),wI(e,r.y,i.y,a.y,o.y),wI(e,r.z,i.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class EI extends dI{constructor(e=new dP,t=new dP){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new dP){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new dP){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TI extends dI{constructor(e=new fP,t=new fP){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new fP){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new fP){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AI extends dI{constructor(e=new dP,t=new dP,n=new dP){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new dP){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(_I(e,r.x,i.x,a.x),_I(e,r.y,i.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class CI extends dI{constructor(e=new fP,t=new fP,n=new fP){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new fP){const n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(_I(e,r.x,i.x,a.x),_I(e,r.y,i.y,a.y),_I(e,r.z,i.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PI extends dI{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new dP){const n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],l=r[a],c=r[a>r.length-2?r.length-1:a+1],u=r[a>r.length-3?r.length-1:a+2];return n.set(xI(o,s.x,l.x,c.x,u.x),xI(o,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new dP).fromArray(n))}return this}}var RI=Object.freeze({__proto__:null,ArcCurve:fI,CatmullRomCurve3:bI,CubicBezierCurve:SI,CubicBezierCurve3:MI,EllipseCurve:hI,LineCurve:EI,LineCurve3:TI,QuadraticBezierCurve:AI,QuadraticBezierCurve3:CI,SplineCurve:PI});class NI extends dI{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new RI[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,a=this.curves[i],o=a.getLength(),s=0===o?0:1-e/o;return a.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const a=i[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,s=a.getPoints(o);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new RI[n.type]).fromJSON(n))}return this}}class kI extends NI{constructor(e){super(),this.type="Path",this.currentPoint=new dP,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new EI(this.currentPoint.clone(),new dP(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new AI(this.currentPoint.clone(),new dP(e,t),new dP(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,a){const o=new SI(this.currentPoint.clone(),new dP(e,t),new dP(n,r),new dP(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new PI(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,a){const o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}absarc(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}ellipse(e,t,n,r,i,a,o,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,a,o,s),this}absellipse(e,t,n,r,i,a,o,s){const l=new hI(e,t,n,r,i,a,o,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class LI extends kI{constructor(e){super(e),this.uuid=iP(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new kI).fromJSON(n))}return this}}function II(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let a=OI(e,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c;if(r&&(a=function(e,t,n,r){const i=[];for(let a=0,o=t.length;a<o;a++){const n=OI(e,t[a]*r,a<o-1?t[a+1]*r:e.length,r,!1);n===n.next&&(n.steiner=!0),i.push(qI(n))}i.sort(VI);for(let a=0;a<i.length;a++)n=HI(i[a],n);return n}(e,t,a,n)),e.length>80*n){s=e[0],l=e[1];let t=s,r=l;for(let a=n;a<i;a+=n){const n=e[a],i=e[a+1];n<s&&(s=n),i<l&&(l=i),n>t&&(t=n),i>r&&(r=i)}c=Math.max(t-s,r-l),c=0!==c?32767/c:0}return FI(a,o,n,s,l,c,0),o}function OI(e,t,n,r,i){let a;if(i===function(e,t,n,r){let i=0;for(let a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(let o=t;o<n;o+=r)a=rO(o/r|0,e[o],e[o+1],a);else for(let o=n-r;o>=t;o-=r)a=rO(o/r|0,e[o],e[o+1],a);return a&&ZI(a,a.next)&&(iO(a),a=a.next),a}function DI(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!ZI(r,r.next)&&0!==KI(r.prev,r,r.next))r=r.next;else{if(iO(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function FI(e,t,n,r,i,a,o){if(!e)return;!o&&a&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=GI(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n=1;do{let r,i=e;e=null;let a=null;for(t=0;i;){t++;let o=i,s=0;for(let e=0;e<n&&(s++,o=o.nextZ,o);e++);let l=n;for(;s>0||l>0&&o;)0!==s&&(0===l||!o||i.z<=o.z)?(r=i,i=i.nextZ,s--):(r=o,o=o.nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=o}a.nextZ=null,n*=2}while(t>1)}(i)}(e,r,i,a);let s=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(a?jI(e,r,i,a):UI(e))t.push(l.i,e.i,c.i),iO(e),e=c.next,s=c.next;else if((e=c)===s){o?1===o?FI(e=zI(DI(e),t),t,n,r,i,a,2):2===o&&BI(e,t,n,r,i,a):FI(DI(e),t,n,r,i,a,1);break}}}function UI(e){const t=e.prev,n=e,r=e.next;if(KI(t,n,r)>=0)return!1;const i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,c=r.y,u=Math.min(i,a,o),d=Math.min(s,l,c),h=Math.max(i,a,o),f=Math.max(s,l,c);let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&$I(i,s,a,l,o,c,p.x,p.y)&&KI(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function jI(e,t,n,r){const i=e.prev,a=e,o=e.next;if(KI(i,a,o)>=0)return!1;const s=i.x,l=a.x,c=o.x,u=i.y,d=a.y,h=o.y,f=Math.min(s,l,c),p=Math.min(u,d,h),m=Math.max(s,l,c),g=Math.max(u,d,h),v=GI(f,p,t,n,r),y=GI(m,g,t,n,r);let b=e.prevZ,x=e.nextZ;for(;b&&b.z>=v&&x&&x.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&$I(s,u,l,d,c,h,b.x,b.y)&&KI(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&$I(s,u,l,d,c,h,x.x,x.y)&&KI(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=v;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&$I(s,u,l,d,c,h,b.x,b.y)&&KI(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=m&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&$I(s,u,l,d,c,h,x.x,x.y)&&KI(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function zI(e,t){let n=e;do{const r=n.prev,i=n.next.next;!ZI(r,i)&&JI(r,n,n.next,i)&&tO(r,i)&&tO(i,r)&&(t.push(r.i,n.i,i.i),iO(n),iO(n.next),n=e=i),n=n.next}while(n!==e);return DI(n)}function BI(e,t,n,r,i,a){let o=e;do{let e=o.next.next;for(;e!==o.prev;){if(o.i!==e.i&&YI(o,e)){let s=nO(o,e);return o=DI(o,o.next),s=DI(s,s.next),FI(o,t,n,r,i,a,0),void FI(s,t,n,r,i,a,0)}e=e.next}o=o.next}while(o!==e)}function VI(e,t){let n=e.x-t.x;return 0===n&&(n=e.y-t.y,0===n)&&(n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)),n}function HI(e,t){const n=function(e,t){let n=t;const r=e.x,i=e.y;let a,o=-1/0;if(ZI(e,n))return n;do{if(ZI(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>o&&(o=e,a=n.x<n.next.x?n:n.next,e===r))return a}n=n.next}while(n!==t);if(!a)return null;const s=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&XI(i<c?r:o,i,l,c,i<c?o:r,i,n.x,n.y)){const t=Math.abs(i-n.y)/(r-n.x);tO(n,e)&&(t<u||t===u&&(n.x>a.x||n.x===a.x&&WI(a,n)))&&(a=n,u=t)}n=n.next}while(n!==s);return a}(e,t);if(!n)return t;const r=nO(n,e);return DI(r,r.next),DI(n,n.next)}function WI(e,t){return KI(e.prev,e,t.prev)<0&&KI(t.next,e,e.next)<0}function GI(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function qI(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function XI(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function $I(e,t,n,r,i,a,o,s){return!(e===o&&t===s)&&XI(e,t,n,r,i,a,o,s)}function YI(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&JI(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(tO(e,t)&&tO(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(KI(e.prev,e,t.prev)||KI(e,t.prev,t))||ZI(e,t)&&KI(e.prev,e,e.next)>0&&KI(t.prev,t,t.next)>0)}function KI(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ZI(e,t){return e.x===t.x&&e.y===t.y}function JI(e,t,n,r){const i=eO(KI(e,t,n)),a=eO(KI(e,t,r)),o=eO(KI(n,r,e)),s=eO(KI(n,r,t));return i!==a&&o!==s||!(0!==i||!QI(e,n,t))||!(0!==a||!QI(e,r,t))||!(0!==o||!QI(n,e,r))||!(0!==s||!QI(n,t,r))}function QI(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function eO(e){return e>0?1:e<0?-1:0}function tO(e,t){return KI(e.prev,e,e.next)<0?KI(e,t,e.next)>=0&&KI(e,e.prev,t)>=0:KI(e,t,e.prev)<0||KI(e,e.next,t)<0}function nO(e,t){const n=aO(e.i,e.x,e.y),r=aO(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function rO(e,t,n,r){const i=aO(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function iO(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function aO(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class oO{static triangulate(e,t,n=2){return II(e,t,n)}}class sO{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return sO.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];lO(e),cO(n,e);let a=e.length;t.forEach(lO);for(let s=0;s<t.length;s++)r.push(a),a+=t[s].length,cO(n,t[s]);const o=oO.triangulate(n,r);for(let s=0;s<o.length;s+=3)i.push(o.slice(s,s+3));return i}}function lO(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function cO(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class uO extends EN{constructor(e=new LI([new dP(.5,.5),new dP(-.5,.5),new dP(-.5,-.5),new dP(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let o=0,s=e.length;o<s;o++)a(e[o]);function a(e){const a=[],o=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:u-.1,h=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:dO;let g,v,y,b,x,_=!1;if(p){g=p.getSpacedPoints(s),_=!0,c=!1;const e=!!p.isCatmullRomCurve3&&p.closed;v=p.computeFrenetFrames(s,e),y=new fP,b=new fP,x=new fP}c||(f=0,u=0,d=0,h=0);const w=e.extractPoints(o);let S=w.shape;const M=w.holes;if(!sO.isClockWise(S)){S=S.reverse();for(let e=0,t=M.length;e<t;e++){const t=M[e];sO.isClockWise(t)&&(M[e]=t.reverse())}}function E(e){const t=1e-10*1e-10;let n=e[0];for(let r=1;r<=e.length;r++){const i=r%e.length,a=e[i],o=a.x-n.x,s=a.y-n.y,l=o*o+s*s,c=Math.max(Math.abs(a.x),Math.abs(a.y),Math.abs(n.x),Math.abs(n.y));l<=t*c*c?(e.splice(i,1),r--):n=a}}E(S),M.forEach(E);const T=M.length,A=S;for(let t=0;t<T;t++){const e=M[t];S=S.concat(e)}function C(e,t,n){return t||ZC("ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(t,n)}const P=S.length;function R(e,t,n){let r,i,a;const o=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=o*o+s*s,d=o*c-s*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=t.x-s/d,p=t.y+o/d,m=((n.x-c/h-f)*c-(n.y+l/h-p)*l)/(o*c-s*l);r=f+o*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new dP(r,i);a=Math.sqrt(g/2)}else{let e=!1;o>Number.EPSILON?l>Number.EPSILON&&(e=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=o,a=Math.sqrt(u)):(r=o,i=s,a=Math.sqrt(u/2))}return new dP(r/a,i/a)}const N=[];for(let t=0,n=A.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),N[t]=R(A[t],A[r],A[i]);const k=[];let L,I,O=N.concat();for(let t=0,n=T;t<n;t++){const e=M[t];L=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),L[t]=R(e[t],e[r],e[i]);k.push(L),O=O.concat(L)}if(0===f)I=sO.triangulateShape(A,M);else{const e=[],t=[];for(let n=0;n<f;n++){const r=n/f,i=u*Math.cos(r*Math.PI/2),a=d*Math.sin(r*Math.PI/2)+h;for(let t=0,n=A.length;t<n;t++){const n=C(A[t],N[t],a);j(n.x,n.y,-i),0===r&&e.push(n)}for(let e=0,n=T;e<n;e++){const n=M[e];L=k[e];const o=[];for(let e=0,t=n.length;e<t;e++){const t=C(n[e],L[e],a);j(t.x,t.y,-i),0===r&&o.push(t)}0===r&&t.push(o)}}I=sO.triangulateShape(e,t)}const D=I.length,F=d+h;for(let t=0;t<P;t++){const e=c?C(S[t],O[t],F):S[t];_?(b.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),x.copy(g[0]).add(b).add(y),j(x.x,x.y,x.z)):j(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<P;e++){const n=c?C(S[e],O[e],F):S[e];_?(b.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),x.copy(g[t]).add(b).add(y),j(x.x,x.y,x.z)):j(n.x,n.y,l/s*t)}for(let t=f-1;t>=0;t--){const e=t/f,n=u*Math.cos(e*Math.PI/2),r=d*Math.sin(e*Math.PI/2)+h;for(let t=0,i=A.length;t<i;t++){const e=C(A[t],N[t],r);j(e.x,e.y,l+n)}for(let t=0,i=M.length;t<i;t++){const e=M[t];L=k[t];for(let t=0,i=e.length;t<i;t++){const i=C(e[t],L[t],r);_?j(i.x,i.y+g[s-1].y,g[s-1].x+n):j(i.x,i.y,l+n)}}}function U(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=P*e,a=P*(e+1);B(t+r+n,t+i+n,t+i+a,t+r+a)}}}function j(e,t,n){a.push(e),a.push(t),a.push(n)}function z(e,t,i){V(e),V(t),V(i);const a=r.length/3,o=m.generateTopUV(n,r,a-3,a-2,a-1);H(o[0]),H(o[1]),H(o[2])}function B(e,t,i,a){V(e),V(t),V(a),V(t),V(i),V(a);const o=r.length/3,s=m.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);H(s[0]),H(s[1]),H(s[3]),H(s[1]),H(s[2]),H(s[3])}function V(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function H(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=P*e;for(let n=0;n<D;n++){const e=I[n];z(e[2]+t,e[1]+t,e[0]+t)}e=s+2*f,t=P*e;for(let n=0;n<D;n++){const e=I[n];z(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<D;e++){const t=I[e];z(t[2],t[1],t[0])}for(let e=0;e<D;e++){const t=I[e];z(t[0]+P*s,t[1]+P*s,t[2]+P*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;U(A,t),t+=A.length;for(let n=0,r=M.length;n<r;n++){const e=M[n];U(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new vN(r,3)),this.setAttribute("uv",new vN(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new RI[r.type]).fromJSON(r)),new uO(n,e.options)}}const dO={generateTopUV:function(e,t,n,r,i){const a=t[3*n],o=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new dP(a,o),new dP(s,l),new dP(c,u)]},generateSideWallUV:function(e,t,n,r,i,a){const o=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],d=t[3*r+2],h=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*a],g=t[3*a+1],v=t[3*a+2];return Math.abs(s-u)<Math.abs(o-c)?[new dP(o,1-l),new dP(c,1-d),new dP(h,1-p),new dP(m,1-v)]:[new dP(s,1-l),new dP(u,1-d),new dP(f,1-p),new dP(g,1-v)]}};class hO extends iI{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hO(e.radius,e.detail)}}class fO extends EN{constructor(e=[new dP(0,-.5),new dP(.5,0),new dP(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=aP(r,0,2*Math.PI);const i=[],a=[],o=[],s=[],l=[],c=1/t,u=new fP,d=new dP,h=new fP,f=new fP,p=new fP;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,p.copy(h),h.normalize(),s.push(h.x,h.y,h.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=1*g,h.y=-m,h.z=0*g,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),s.push(h.x,h.y,h.z),p.copy(f)}for(let v=0;v<=t;v++){const i=n+v*c*r,h=Math.sin(i),f=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*h,u.y=e[n].y,u.z=e[n].x*f,a.push(u.x,u.y,u.z),d.x=v/t,d.y=n/(e.length-1),o.push(d.x,d.y);const r=s[3*n+0]*h,i=s[3*n+1],c=s[3*n+0]*f;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,a=n+e.length,o=n+e.length+1,s=n+1;i.push(r,a,s),i.push(o,s,a)}this.setIndex(i),this.setAttribute("position",new vN(a,3)),this.setAttribute("uv",new vN(o,2)),this.setAttribute("normal",new vN(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fO(e.points,e.segments,e.phiStart,e.phiLength)}}class pO extends iI{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pO(e.radius,e.detail)}}class mO extends EN{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,a=t/2,o=Math.floor(n),s=Math.floor(r),l=o+1,c=s+1,u=e/o,d=t/s,h=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*d-a;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/o),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<o;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new vN(f,3)),this.setAttribute("normal",new vN(p,3)),this.setAttribute("uv",new vN(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mO(e.width,e.height,e.widthSegments,e.heightSegments)}}class gO extends EN{constructor(e=.5,t=1,n=32,r=1,i=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},n=Math.max(3,n);const o=[],s=[],l=[],c=[];let u=e;const d=(t-e)/(r=Math.max(1,r)),h=new fP,f=new dP;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*a;h.x=u*Math.cos(r),h.y=u*Math.sin(r),s.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/t+1)/2,f.y=(h.y/t+1)/2,c.push(f.x,f.y)}u+=d}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,a=r+n+1,s=r+n+2,l=r+1;o.push(i,a,l),o.push(a,s,l)}}this.setIndex(o),this.setAttribute("position",new vN(s,3)),this.setAttribute("normal",new vN(l,3)),this.setAttribute("uv",new vN(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gO(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vO extends EN{constructor(e=new LI([new dP(0,.5),new dP(-.5,-.5),new dP(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],a=[];let o=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(o,s,c),o+=s,s=0;function l(e){const o=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===sO.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===sO.isClockWise(e)&&(u[t]=e.reverse())}const d=sO.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),a.push(e.x,e.y)}for(let t=0,r=d.length;t<r;t++){const e=d[t],r=e[0]+o,i=e[1]+o,a=e[2]+o;n.push(r,i,a),s+=3}}this.setIndex(n),this.setAttribute("position",new vN(r,3)),this.setAttribute("normal",new vN(i,3)),this.setAttribute("uv",new vN(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new vO(n,e.curveSegments)}}class yO extends EN{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(a+o,Math.PI);let l=0;const c=[],u=new fP,d=new fP,h=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===a?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(a+v*o),u.y=e*Math.cos(a+v*o),u.z=e*Math.sin(r+s*i)*Math.sin(a+v*o),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],o=c[g+1][e+1];(0!==g||a>0)&&h.push(t,r,o),(g!==n-1||s<Math.PI)&&h.push(r,i,o)}this.setIndex(h),this.setAttribute("position",new vN(f,3)),this.setAttribute("normal",new vN(p,3)),this.setAttribute("uv",new vN(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yO(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class bO extends iI{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bO(e.radius,e.detail)}}class xO extends EN{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const a=[],o=[],s=[],l=[],c=new fP,u=new fP,d=new fP;for(let h=0;h<=n;h++)for(let a=0;a<=r;a++){const f=a/r*i,p=h/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),o.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),d.subVectors(u,c).normalize(),s.push(d.x,d.y,d.z),l.push(a/r),l.push(h/n)}for(let h=1;h<=n;h++)for(let e=1;e<=r;e++){const t=(r+1)*h+e-1,n=(r+1)*(h-1)+e-1,i=(r+1)*(h-1)+e,o=(r+1)*h+e;a.push(t,n,o),a.push(n,i,o)}this.setIndex(a),this.setAttribute("position",new vN(o,3)),this.setAttribute("normal",new vN(s,3)),this.setAttribute("uv",new vN(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xO(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class _O extends EN{constructor(e=1,t=.4,n=64,r=8,i=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],l=[],c=[],u=new fP,d=new fP,h=new fP,f=new fP,p=new fP,m=new fP,g=new fP;for(let y=0;y<=n;++y){const o=y/n*i*Math.PI*2;v(o,i,a,e,h),v(o+.01,i,a,e,f),m.subVectors(f,h),g.addVectors(f,h),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,a=-t*Math.cos(i),o=t*Math.sin(i);u.x=h.x+(a*g.x+o*p.x),u.y=h.y+(a*g.y+o*p.y),u.z=h.z+(a*g.z+o*p.z),s.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,a=(r+1)*(y-1)+e;o.push(t,n,a),o.push(n,i,a)}function v(e,t,n,r,i){const a=Math.cos(e),o=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*a,i.y=r*(2+l)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(o),this.setAttribute("position",new vN(s,3)),this.setAttribute("normal",new vN(l,3)),this.setAttribute("uv",new vN(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _O(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class wO extends EN{constructor(e=new CI(new fP(-1,-1,0),new fP(-1,1,0),new fP(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const a=e.computeFrenetFrames(t,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new fP,s=new fP,l=new dP;let c=new fP;const u=[],d=[],h=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=a.normals[i],h=a.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),a=-Math.cos(t);s.x=a*l.x+i*h.x,s.y=a*l.y+i*h.y,s.z=a*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),o.x=c.x+n*s.x,o.y=c.y+n*s.y,o.z=c.z+n*s.z,u.push(o.x,o.y,o.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),a=(r+1)*e+t,o=(r+1)*(e-1)+t;f.push(n,i,o),f.push(i,a,o)}}()}(),this.setIndex(f),this.setAttribute("position",new vN(u,3)),this.setAttribute("normal",new vN(d,3)),this.setAttribute("uv",new vN(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new wO((new RI[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class SO extends EN{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new fP,i=new fP;if(null!==e.index){const a=e.attributes.position,o=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:o.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=o.getX(e+l),c=o.getX(e+(l+1)%3);r.fromBufferAttribute(a,s),i.fromBufferAttribute(a,c),!0===MO(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const a=e.attributes.position;for(let e=0,o=a.count/3;e<o;e++)for(let s=0;s<3;s++){const o=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(a,o),i.fromBufferAttribute(a,l),!0===MO(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new vN(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function MO(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var EO=Object.freeze({__proto__:null,BoxGeometry:jN,CapsuleGeometry:eI,CircleGeometry:tI,ConeGeometry:rI,CylinderGeometry:nI,DodecahedronGeometry:aI,EdgesGeometry:uI,ExtrudeGeometry:uO,IcosahedronGeometry:hO,LatheGeometry:fO,OctahedronGeometry:pO,PlaneGeometry:mO,PolyhedronGeometry:iI,RingGeometry:gO,ShapeGeometry:vO,SphereGeometry:yO,TetrahedronGeometry:bO,TorusGeometry:xO,TorusKnotGeometry:_O,TubeGeometry:wO,WireframeGeometry:SO});class TO extends aN{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nN(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class AO extends WN{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class CO extends aN{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new nN(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xR,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PO extends CO{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new dP(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return aP(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nN(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new nN(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nN(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class RO extends aN{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nN(16777215),this.specular=new nN(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xR,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NO extends aN{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nN(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class kO extends aN{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class LO extends aN{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nN(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nN(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new xR,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IO extends aN{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class OO extends aN{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class DO extends aN{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nN(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new dP(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FO extends CL{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function UO(e,t){return e&&e.constructor!==t?"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e):e}function jO(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n}function zO(e,t,n){const r=e.length,i=new e.constructor(r);for(let a=0,o=0;o!==r;++a){const r=n[a]*t;for(let n=0;n!==t;++n)i[o++]=e[r+n]}return i}function BO(e,t,n,r){let i=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[i++];if(void 0===a)return;let o=a[r];if(void 0!==o)if(Array.isArray(o))do{o=a[r],void 0!==o&&(t.push(a.time),n.push(...o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[r],void 0!==o&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{o=a[r],void 0!==o&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}class VO{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let a;n:{r:if(!(e<r)){for(let a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===a)break;if(i=r,r=t[++n],e<r)break t}a=t.length;break n}if(!(e>=i)){const o=t[1];e<o&&(n=2,i=o);for(let a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===a)break;if(r=i,i=t[--n-1],e>=i)break t}a=n,n=0;break n}break e}for(;n<a;){const r=n+a>>>1;e<t[r]?a=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let a=0;a!==r;++a)t[a]=n[i+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class HO extends VO{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:yC,endingEnd:yC}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case bC:i=e,o=2*t-n;break;case xC:i=r.length-2,o=t+r[i]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case bC:a=e,s=2*n-t;break;case xC:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let x=0;x!==o;++x)i[x]=g*a[c+x]+v*a[l+x]+y*a[s+x]+b*a[u+x];return i}}class WO extends VO{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==o;++d)i[d]=a[l+d]*u+a[s+d]*c;return i}}class GO extends VO{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class qO{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=UO(t,this.TimeBufferType),this.values=UO(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:UO(e.times,Array),values:UO(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new GO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new WO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case mC:t=this.InterpolantFactoryMethodDiscrete;break;case gC:t=this.InterpolantFactoryMethodLinear;break;case vC:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return KC("KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return mC;case this.InterpolantFactoryMethodLinear:return gC;case this.InterpolantFactoryMethodSmooth:return vC}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,a=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(a=Math.max(a,1),i=a-1);const e=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*e,a*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(ZC("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(ZC("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==i;o++){const t=n[o];if("number"==typeof t&&isNaN(t)){ZC("KeyframeTrack: Time is not a valid number.",this,o,t),e=!1;break}if(null!==a&&a>t){ZC("KeyframeTrack: Out of order keys.",this,o,t,a),e=!1;break}a=t}if(void 0!==r&&WC(r))for(let o=0,s=r.length;o!==s;++o){const t=r[o];if(isNaN(t)){ZC("KeyframeTrack: Value is not a valid number.",this,o,t),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===vC,i=e.length-1;let a=1;for(let o=1;o<i;++o){let i=!1;const s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)i=!0;else{const e=o*n,r=e-n,a=e+n;for(let o=0;o!==n;++o){const n=t[e+o];if(n!==t[r+o]||n!==t[a+o]){i=!0;break}}}if(i){if(o!==a){e[a]=e[o];const r=o*n,i=a*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++a}}if(i>0){e[a]=e[i];for(let e=i*n,r=a*n,o=0;o!==n;++o)t[r+o]=t[e+o];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}qO.prototype.ValueTypeName="",qO.prototype.TimeBufferType=Float32Array,qO.prototype.ValueBufferType=Float32Array,qO.prototype.DefaultInterpolation=gC;class XO extends qO{constructor(e,t,n){super(e,t,n)}}XO.prototype.ValueTypeName="bool",XO.prototype.ValueBufferType=Array,XO.prototype.DefaultInterpolation=mC,XO.prototype.InterpolantFactoryMethodLinear=void 0,XO.prototype.InterpolantFactoryMethodSmooth=void 0;class $O extends qO{constructor(e,t,n,r){super(e,t,n,r)}}$O.prototype.ValueTypeName="color";class YO extends qO{constructor(e,t,n,r){super(e,t,n,r)}}YO.prototype.ValueTypeName="number";class KO extends VO{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t);let l=e*o;for(let c=l+o;l!==c;l+=4)hP.slerpFlat(i,0,a,l-o,a,l,s);return i}}class ZO extends qO{constructor(e,t,n,r){super(e,t,n,r)}InterpolantFactoryMethodLinear(e){return new KO(this.times,this.values,this.getValueSize(),e)}}ZO.prototype.ValueTypeName="quaternion",ZO.prototype.InterpolantFactoryMethodSmooth=void 0;class JO extends qO{constructor(e,t,n){super(e,t,n)}}JO.prototype.ValueTypeName="string",JO.prototype.ValueBufferType=Array,JO.prototype.DefaultInterpolation=mC,JO.prototype.InterpolantFactoryMethodLinear=void 0,JO.prototype.InterpolantFactoryMethodSmooth=void 0;class QO extends qO{constructor(e,t,n,r){super(e,t,n,r)}}QO.prototype.ValueTypeName="vector";class eD{constructor(e="",t=-1,n=[],r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=iP(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let a=0,o=n.length;a!==o;++a)t.push(tD(n[a]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i.userData=JSON.parse(e.userData||"{}"),i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let i=0,a=n.length;i!==a;++i)t.push(qO.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,a=[];for(let o=0;o<i;o++){let e=[],s=[];e.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);const l=jO(e);e=zO(e,1,l),s=zO(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),a.push(new YO(".morphTargetInfluences["+t[o].name+"]",e,s).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let o=0,s=e.length;o<s;o++){const t=e[o],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,n));return a}static parseAnimation(e,t){if(KC("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return ZC("AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const a=[],o=[];BO(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],a=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),a.push(r.morphTarget===i?1:0)}r.push(new YO(".morphTargetInfluence["+i+"]",t,a))}s=t.length*a}else{const i=".bones["+t[c].name+"]";n(QO,i+".position",e,"pos",r),n(ZO,i+".quaternion",e,"rot",r),n(QO,i+".scale",e,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function tD(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return YO;case"vector":case"vector2":case"vector3":case"vector4":return QO;case"color":return $O;case"quaternion":return ZO;case"bool":case"boolean":return XO;case"string":return JO}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];BO(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const nD={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class rD{constructor(e,t,n){const r=this;let i,a=!1,o=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(e){s++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const iD=new rD;class aD{constructor(e){this.manager=void 0!==e?e:iD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}aD.DEFAULT_MATERIAL_NAME="__DEFAULT";const oD={};class sD extends Error{constructor(e,t){super(e),this.response=t}}class lD extends aD{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=nD.get(`file:${e}`);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==oD[e])return void oD[e].push({onLoad:t,onProgress:n,onError:r});oD[e]=[],oD[e].push({onLoad:t,onProgress:n,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:"function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,s=this.responseType;fetch(a).then(t=>{if(200===t.status||0===t.status){if(0===t.status&&KC("FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=oD[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new sD(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(""===o)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(o),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{nD.add(`file:${e}`,t);const n=oD[e];delete oD[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=oD[e];if(void 0===n)throw this.manager.itemError(e),t;delete oD[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}const cD=new WeakMap;class uD extends aD{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=nD.get(`image:${e}`);if(void 0!==a){if(!0===a.complete)i.manager.itemStart(e),setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0);else{let e=cD.get(a);void 0===e&&(e=[],cD.set(a,e)),e.push({onLoad:t,onError:r})}return a}const o=GC("img");function s(){c(),t&&t(this);const n=cD.get(this)||[];for(let e=0;e<n.length;e++){const t=n[e];t.onLoad&&t.onLoad(this)}cD.delete(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),nD.remove(`image:${e}`);const n=cD.get(this)||[];for(let e=0;e<n.length;e++){const r=n[e];r.onError&&r.onError(t)}cD.delete(this),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),nD.add(`image:${e}`,o),i.manager.itemStart(e),o.src=e,o}}class dD extends aD{constructor(e){super(e)}load(e,t,n,r){const i=new NP,a=new uD(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}}class hD extends FR{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new nN(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class fD extends hD{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(FR.DEFAULT_UP),this.updateMatrix(),this.groundColor=new nN(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const pD=new uR,mD=new fP,gD=new fP;class vD{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new dP(512,512),this.mapType=uA,this.map=null,this.mapPass=null,this.matrix=new uR,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new aL,this._frameExtents=new dP(1,1),this._viewportCount=1,this._viewports=[new kP(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;mD.setFromMatrixPosition(e.matrixWorld),t.position.copy(mD),gD.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(gD),t.updateMatrixWorld(),pD.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pD,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(pD)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class yD extends vD{constructor(){super(new YN(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=2*rP*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class bD extends hD{constructor(e,t,n=0,r=Math.PI/3,i=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(FR.DEFAULT_UP),this.updateMatrix(),this.target=new FR,this.distance=n,this.angle=r,this.penumbra=i,this.decay=a,this.map=null,this.shadow=new yD}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class xD extends vD{constructor(){super(new YN(90,1,.5,500)),this.isPointLightShadow=!0}}class _D extends hD{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new xD}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class wD extends GN{constructor(e=-1,t=1,n=1,r=-1,i=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,a=i+e*this.view.width,o-=t*this.view.offsetY,s=o-t*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}class SD extends vD{constructor(){super(new wD(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class MD extends hD{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(FR.DEFAULT_UP),this.updateMatrix(),this.target=new FR,this.shadow=new SD}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class ED extends hD{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class TD extends hD{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class AD{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new fP)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class CD extends hD{constructor(e=new AD,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class PD extends aD{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,a=new lD(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):ZC(a),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return void 0===t[e]&&KC("MaterialLoader: Undefined texture",e),t[e]}const r=this.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new nN).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.allowOverride&&(r.allowOverride=e.allowOverride),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new nN).setHex(t.value);break;case"v2":r.uniforms[i].value=(new dP).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new fP).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new kP).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new gP).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new uR).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new dP).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new dP).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return PD.createMaterialFromType(e)}static createMaterialFromType(e){return new{ShadowMaterial:TO,SpriteMaterial:ck,RawShaderMaterial:AO,ShaderMaterial:WN,PointsMaterial:VL,MeshPhysicalMaterial:PO,MeshStandardMaterial:CO,MeshPhongMaterial:RO,MeshToonMaterial:NO,MeshNormalMaterial:kO,MeshLambertMaterial:LO,MeshDepthMaterial:IO,MeshDistanceMaterial:OO,MeshBasicMaterial:oN,MeshMatcapMaterial:DO,LineDashedMaterial:FO,LineBasicMaterial:CL,Material:aN}[e]}}class RD{static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ND extends EN{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class kD extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lD(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):ZC(a),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=HC(i.type,a),s=new ok(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new ND:new EN,a=e.data.index;if(void 0!==a){const e=HC(a.type,a.array);i.setIndex(new pN(e,1))}const o=e.data.attributes;for(const u in o){const t=o[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new lk(i,t.itemSize,t.offset,t.normalized)}else{const e=HC(t.type,t.array);n=new(t.isInstancedBufferAttribute?Hk:pN)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,a=t.length;i<a;i++){const a=t[i];let o;if(a.isInterleavedBufferAttribute){const t=r(e.data,a.data);o=new lk(t,a.itemSize,a.offset,a.normalized)}else{const e=HC(a.type,a.array);o=new pN(e,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),n.push(o)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;return void 0!==c&&(i.boundingSphere=(new tR).fromJSON(c)),e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const LD={UVMapping:YT,CubeReflectionMapping:KT,CubeRefractionMapping:ZT,EquirectangularReflectionMapping:JT,EquirectangularRefractionMapping:QT,CubeUVReflectionMapping:eA},ID={RepeatWrapping:tA,ClampToEdgeWrapping:nA,MirroredRepeatWrapping:rA},OD={NearestFilter:iA,NearestMipmapNearestFilter:aA,NearestMipmapLinearFilter:oA,LinearFilter:sA,LinearMipmapNearestFilter:lA,LinearMipmapLinearFilter:cA},DD=new WeakMap;let FD;class UD{static getContext(){return void 0===FD&&(FD=new(window.AudioContext||window.webkitAudioContext)),FD}static setContext(e){FD=e}}const jD=new uR,zD=new uR,BD=new uR;class VD extends YN{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class HD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const WD=new fP,GD=new hP,qD=new fP,XD=new fP,$D=new fP;class YD extends FR{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void KC("Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void KC("Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;KC("Audio: this Audio has no playback control.")}stop(e=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this;KC("Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;KC("Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(KC("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;KC("Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),"buffer"!==e.sourceType?(KC("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const KD=new fP,ZD=new hP,JD=new fP,QD=new fP;class eF{constructor(e,t,n){let r,i,a;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==r;++e)n[i+e]=n[e];a=t}else{a+=t;const e=t/a;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let a=0;a!==i;++a)e[t+a]=e[n+a]}_slerp(e,t,n,r){hP.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const a=this._workIndex*i;hP.multiplyQuaternionsFlat(e,a,e,t,e,n),hP.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,n,r,i){const a=1-r;for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]*a+e[n+o]*r}}_lerpAdditive(e,t,n,r,i){for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]+e[n+a]*r}}}const tF="\\[\\]\\.:\\/",nF=new RegExp("["+tF+"]","g"),rF="[^"+tF+"]",iF="[^"+tF.replace("\\.","")+"]",aF=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",rF)+/(WCOD+)?/.source.replace("WCOD",iF)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rF)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rF)+"$"),oF=["material","materials","bones","map"];class sF{constructor(e,t,n){this.path=t,this.parsedPath=n||sF.parseTrackName(t),this.node=sF.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new sF.Composite(e,t,n):new sF(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(nF,"")}static parseTrackName(e){const t=aF.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==oF.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const a=n(i.children);if(a)return a}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=sF.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void KC("PropertyBinding: No target node found for track: "+this.path+".");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void ZC("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void ZC("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void ZC("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void ZC("PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void ZC("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void ZC("PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void ZC("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const a=e[r];if(void 0===a)return void ZC("PropertyBinding: Trying to update property for track: "+t.nodeName+"."+r+" but it wasn't found.",e);let o=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?o=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(o=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void ZC("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void ZC("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(s=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}sF.Composite=class{constructor(e,t,n){const r=n||sF.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},sF.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},sF.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},sF.prototype.GetterByBindingType=[sF.prototype._getValue_direct,sF.prototype._getValue_array,sF.prototype._getValue_arrayElement,sF.prototype._getValue_toArray],sF.prototype.SetterByBindingTypeAndVersioning=[[sF.prototype._setValue_direct,sF.prototype._setValue_direct_setNeedsUpdate,sF.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sF.prototype._setValue_array,sF.prototype._setValue_array_setNeedsUpdate,sF.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sF.prototype._setValue_arrayElement,sF.prototype._setValue_arrayElement_setNeedsUpdate,sF.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sF.prototype._setValue_fromArray,sF.prototype._setValue_fromArray_setNeedsUpdate,sF.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lF{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,a=i.length,o=new Array(a),s={endingStart:yC,endingEnd:yC};for(let l=0;l!==a;++l){const e=i[l].createInterpolant(null);o[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),!0===n){const n=this._clip.duration,r=e._clip.duration,i=r/n,a=n/r;e.warp(1,i,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===wC)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(a),t[n].accumulateAdditive(o);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(a),t[n].accumulate(r,o)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const a=2202===n;if(0===e)return-1===i||!a||1&~i?r:t-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const o=this.repetitions-i;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===o){const t=e<0;this._setEndings(t,!t,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(a&&!(1&~i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=bC,r.endingEnd=bC):(r.endingStart=e?this.zeroSlopeAtStart?bC:yC:xC,r.endingEnd=t?this.zeroSlopeAtEnd?bC:yC:xC)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}const cF=new Float32Array(1);class uF{constructor(e){this.value=e}clone(){return new uF(void 0===this.value.clone?this.value:this.value.clone())}}let dF=0;const hF=new uR;class fF{constructor(e,t,n=0,r=1/0){this.ray=new cR(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new _R,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):ZC("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return hF.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(hF),this}intersectObject(e,t=!0,n=[]){return mF(e,this,n,t),n.sort(pF),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)mF(e[r],this,n,t);return n.sort(pF),n}}function pF(e,t){return e.distance-t.distance}function mF(e,t,n,r){let i=!0;if(e.layers.test(t.layers)&&!1===e.raycast(t,n)&&(i=!1),!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)mF(r[e],t,n,!0)}}function gF(){!1===this._document.hidden&&this.reset()}class vF{constructor(e,t,n,r){vF.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==e&&this.set(e,t,n,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,r){const i=this.elements;return i[0]=e,i[2]=t,i[1]=n,i[3]=r,this}}const yF=new dP,bF=new fP,xF=new fP,_F=new fP,wF=new fP,SF=new fP,MF=new fP,EF=new fP,TF=new fP,AF=new fP,CF=new uR,PF=new uR;function RF(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push(...RF(e.children[n]));return t}const NF=new fP,kF=new nN,LF=new nN,IF=new fP,OF=new fP,DF=new fP,FF=new fP,UF=new GN;function jF(e,t,n,r,i,a,o){FF.set(i,a,o).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],FF.x,FF.y,FF.z)}}const zF=new FP,BF=new fP;let VF,HF;function WF(e,t,n,r){const i=function(e){switch(e){case uA:case dA:return{byteLength:1,components:1};case fA:case hA:case vA:return{byteLength:2,components:1};case yA:case bA:return{byteLength:2,components:4};case mA:case pA:case gA:return{byteLength:4,components:1};case _A:case wA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case SA:return e*t;case CA:case PA:return e*t/i.components*i.byteLength;case RA:case NA:return e*t*2/i.components*i.byteLength;case MA:return e*t*3/i.components*i.byteLength;case EA:case kA:return e*t*4/i.components*i.byteLength;case LA:case IA:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case OA:case DA:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case UA:case zA:return Math.max(e,16)*Math.max(t,8)/4;case FA:case jA:return Math.max(e,8)*Math.max(t,8)/2;case BA:case VA:case WA:case GA:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case HA:case qA:case XA:case $A:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case YA:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case KA:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case ZA:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case JA:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case QA:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case eC:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case tC:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case nC:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case rC:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case iC:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case aC:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case oC:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case sC:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case lC:case cC:case uC:return Math.ceil(e/4)*Math.ceil(t/4)*16;case dC:case hC:return Math.ceil(e/4)*Math.ceil(t/4)*8;case fC:case pC:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function GF(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function qF(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if("undefined"!=typeof Float16Array&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let n=0,o=a.length;n<o;n++){const t=a[n];e.bufferSubData(r,t.start*i.BYTES_PER_ELEMENT,i,t.start,t.count)}n.clearUpdateRanges()}n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:aT}})),"undefined"!=typeof window&&(window.__THREE__?KC("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=aT);const XF={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.metalness = metalnessFactor;\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = vec3( 0.04 );\n\tmaterial.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"uniform sampler2D dfgLUT;\nstruct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tvec3 diffuseContribution;\n\tvec3 specularColor;\n\tvec3 specularColorBlended;\n\tfloat roughness;\n\tfloat metalness;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t\tvec3 iridescenceFresnelDielectric;\n\t\tvec3 iridescenceFresnelMetallic;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn v;\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColorBlended;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transpose( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat rInv = 1.0 / ( roughness + 0.1 );\n\tfloat a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;\n\tfloat b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;\n\tfloat DG = exp( a * dotNV + b );\n\treturn saturate( DG );\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nvec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;\n\tvec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;\n\tvec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;\n\tvec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;\n\tfloat Ess_V = dfgV.x + dfgV.y;\n\tfloat Ess_L = dfgL.x + dfgL.y;\n\tfloat Ems_V = 1.0 - Ess_V;\n\tfloat Ems_L = 1.0 - Ess_L;\n\tvec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;\n\tvec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );\n\tfloat compensationFactor = Ems_V * Ems_L;\n\tvec3 multiScatter = Fms * compensationFactor;\n\treturn singleScatter + multiScatter;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n \n \t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n \n \t\tfloat sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n \t\tfloat sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );\n \n \t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );\n \n \t\tirradiance *= sheenEnergyComp;\n \n \t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tdiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectDiffuse += diffuse;\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;\n \t#endif\n\tvec3 singleScatteringDielectric = vec3( 0.0 );\n\tvec3 multiScatteringDielectric = vec3( 0.0 );\n\tvec3 singleScatteringMetallic = vec3( 0.0 );\n\tvec3 multiScatteringMetallic = vec3( 0.0 );\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );\n\t#endif\n\tvec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );\n\tvec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );\n\tvec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;\n\tvec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tvec3 indirectSpecular = radiance * singleScattering;\n\tindirectSpecular += multiScattering * cosineWeightedIrradiance;\n\tvec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t\tfloat sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;\n\t\tindirectSpecular *= sheenEnergyComp;\n\t\tindirectDiffuse *= sheenEnergyComp;\n\t#endif\n\treflectedLight.indirectSpecular += indirectSpecular;\n\treflectedLight.indirectDiffuse += indirectDiffuse;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );\n\t\tmaterial.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGARITHMIC_DEPTH_BUFFER\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#else\n\t\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tuniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\t\t\tuniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\t#endif\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat interleavedGradientNoise( vec2 position ) {\n\t\t\treturn fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );\n\t\t}\n\t\tvec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {\n\t\t\tconst float goldenAngle = 2.399963229728653;\n\t\t\tfloat r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );\n\t\t\tfloat theta = float( sampleIndex ) * goldenAngle + phi;\n\t\t\treturn vec2( cos( theta ), sin( theta ) ) * r;\n\t\t}\n\t#endif\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\tfloat getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\t\tfloat radius = shadowRadius * texelSize.x;\n\t\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +\n\t\t\t\t\ttexture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )\n\t\t\t\t) * 0.2;\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tvec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;\n\t\t\t\tfloat mean = distribution.x;\n\t\t\t\tfloat variance = distribution.y * distribution.y;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tfloat hard_shadow = step( mean, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tfloat hard_shadow = step( shadowCoord.z, mean );\n\t\t\t\t#endif\n\t\t\t\tif ( hard_shadow == 1.0 ) {\n\t\t\t\t\tshadow = 1.0;\n\t\t\t\t} else {\n\t\t\t\t\tvariance = max( variance, 0.0000001 );\n\t\t\t\t\tfloat d = shadowCoord.z - mean;\n\t\t\t\t\tfloat p_max = variance / ( variance + d * d );\n\t\t\t\t\tp_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );\n\t\t\t\t\tshadow = max( hard_shadow, p_max );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#else\n\t\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\t\tfloat shadow = 1.0;\n\t\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\t\tshadowCoord.z += shadowBias;\n\t\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\t\tif ( frustumTest ) {\n\t\t\t\tfloat depth = texture2D( shadowMap, shadowCoord.xy ).r;\n\t\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\t\tshadow = step( depth, shadowCoord.z );\n\t\t\t\t#else\n\t\t\t\t\tshadow = step( shadowCoord.z, depth );\n\t\t\t\t#endif\n\t\t\t}\n\t\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#if defined( SHADOWMAP_TYPE_PCF )\n\tfloat getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\tdp += shadowBias;\n\t\t\tfloat texelSize = shadowRadius / shadowMapSize.x;\n\t\t\tvec3 absDir = abs( bd3D );\n\t\t\tvec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );\n\t\t\ttangent = normalize( cross( bd3D, tangent ) );\n\t\t\tvec3 bitangent = cross( bd3D, tangent );\n\t\t\tfloat phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;\n\t\t\tshadow = (\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +\n\t\t\t\ttexture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )\n\t\t\t) * 0.2;\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#elif defined( SHADOWMAP_TYPE_BASIC )\n\tfloat getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tvec3 absVec = abs( lightToPosition );\n\t\tfloat viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );\n\t\tif ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );\n\t\t\tdp += shadowBias;\n\t\t\tfloat depth = textureCube( shadowMap, bd3D ).r;\n\t\t\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\t\t\tshadow = step( depth, dp );\n\t\t\t#else\n\t\t\t\tshadow = step( dp, depth );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\t#endif\n\t#endif\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_REVERSED_DEPTH_BUFFER\n\t\tfloat fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];\n\t#else\n\t\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;\n\t#endif\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distance_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distance_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n \n\t\toutgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;\n \n \t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},$F={common:{diffuse:{value:new nN(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new gP},alphaMap:{value:null},alphaMapTransform:{value:new gP},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new gP}},envmap:{envMap:{value:null},envMapRotation:{value:new gP},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new gP}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new gP}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new gP},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new gP},normalScale:{value:new dP(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new gP},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new gP}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new gP}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new gP}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nN(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nN(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new gP},alphaTest:{value:0},uvTransform:{value:new gP}},sprite:{diffuse:{value:new nN(16777215)},opacity:{value:1},center:{value:new dP(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new gP},alphaMap:{value:null},alphaMapTransform:{value:new gP},alphaTest:{value:0}}},YF={basic:{uniforms:BN([$F.common,$F.specularmap,$F.envmap,$F.aomap,$F.lightmap,$F.fog]),vertexShader:XF.meshbasic_vert,fragmentShader:XF.meshbasic_frag},lambert:{uniforms:BN([$F.common,$F.specularmap,$F.envmap,$F.aomap,$F.lightmap,$F.emissivemap,$F.bumpmap,$F.normalmap,$F.displacementmap,$F.fog,$F.lights,{emissive:{value:new nN(0)}}]),vertexShader:XF.meshlambert_vert,fragmentShader:XF.meshlambert_frag},phong:{uniforms:BN([$F.common,$F.specularmap,$F.envmap,$F.aomap,$F.lightmap,$F.emissivemap,$F.bumpmap,$F.normalmap,$F.displacementmap,$F.fog,$F.lights,{emissive:{value:new nN(0)},specular:{value:new nN(1118481)},shininess:{value:30}}]),vertexShader:XF.meshphong_vert,fragmentShader:XF.meshphong_frag},standard:{uniforms:BN([$F.common,$F.envmap,$F.aomap,$F.lightmap,$F.emissivemap,$F.bumpmap,$F.normalmap,$F.displacementmap,$F.roughnessmap,$F.metalnessmap,$F.fog,$F.lights,{emissive:{value:new nN(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:XF.meshphysical_vert,fragmentShader:XF.meshphysical_frag},toon:{uniforms:BN([$F.common,$F.aomap,$F.lightmap,$F.emissivemap,$F.bumpmap,$F.normalmap,$F.displacementmap,$F.gradientmap,$F.fog,$F.lights,{emissive:{value:new nN(0)}}]),vertexShader:XF.meshtoon_vert,fragmentShader:XF.meshtoon_frag},matcap:{uniforms:BN([$F.common,$F.bumpmap,$F.normalmap,$F.displacementmap,$F.fog,{matcap:{value:null}}]),vertexShader:XF.meshmatcap_vert,fragmentShader:XF.meshmatcap_frag},points:{uniforms:BN([$F.points,$F.fog]),vertexShader:XF.points_vert,fragmentShader:XF.points_frag},dashed:{uniforms:BN([$F.common,$F.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:XF.linedashed_vert,fragmentShader:XF.linedashed_frag},depth:{uniforms:BN([$F.common,$F.displacementmap]),vertexShader:XF.depth_vert,fragmentShader:XF.depth_frag},normal:{uniforms:BN([$F.common,$F.bumpmap,$F.normalmap,$F.displacementmap,{opacity:{value:1}}]),vertexShader:XF.meshnormal_vert,fragmentShader:XF.meshnormal_frag},sprite:{uniforms:BN([$F.sprite,$F.fog]),vertexShader:XF.sprite_vert,fragmentShader:XF.sprite_frag},background:{uniforms:{uvTransform:{value:new gP},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:XF.background_vert,fragmentShader:XF.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new gP}},vertexShader:XF.backgroundCube_vert,fragmentShader:XF.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:XF.cube_vert,fragmentShader:XF.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:XF.equirect_vert,fragmentShader:XF.equirect_frag},distance:{uniforms:BN([$F.common,$F.displacementmap,{referencePosition:{value:new fP},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:XF.distance_vert,fragmentShader:XF.distance_frag},shadow:{uniforms:BN([$F.lights,$F.fog,{color:{value:new nN(0)},opacity:{value:1}}]),vertexShader:XF.shadow_vert,fragmentShader:XF.shadow_frag}};YF.physical={uniforms:BN([YF.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new gP},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new gP},clearcoatNormalScale:{value:new dP(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new gP},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new gP},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new gP},sheen:{value:0},sheenColor:{value:new nN(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new gP},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new gP},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new gP},transmissionSamplerSize:{value:new dP},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new gP},attenuationDistance:{value:0},attenuationColor:{value:new nN(0)},specularColor:{value:new nN(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new gP},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new gP},anisotropyVector:{value:new dP},anisotropyMap:{value:null},anisotropyMapTransform:{value:new gP}}]),vertexShader:XF.meshphysical_vert,fragmentShader:XF.meshphysical_frag};const KF={r:0,b:0,g:0},ZF=new xR,JF=new uR;function QF(e,t,n,r,i,a,o){const s=new nN(0);let l,c,u=!0===a?0:1,d=null,h=0,f=null;function p(e){let r=!0===e.isScene?e.background:null;return r&&r.isTexture&&(r=(e.backgroundBlurriness>0?n:t).get(r)),r}function m(t,n){t.getRGB(KF,VN(e)),r.buffers.color.setClear(KF.r,KF.g,KF.b,n,o)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,m(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(s,u)},render:function(t){let n=!1;const i=p(t);null===i?m(s,u):i&&i.isColor&&(m(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();"additive"===a?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===eA)?(void 0===c&&(c=new FN(new jN(1,1,1),new WN({name:"BackgroundCubeMaterial",uniforms:zN(YF.backgroundCube.uniforms),vertexShader:YF.backgroundCube.vertexShader,fragmentShader:YF.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),ZF.copy(n.backgroundRotation),ZF.x*=-1,ZF.y*=-1,ZF.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(ZF.y*=-1,ZF.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(JF.makeRotationFromEuler(ZF)),c.material.toneMapped=_P.getTransfer(r.colorSpace)!==AC,d===r&&h===r.version&&f===e.toneMapping||(c.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new FN(new mO(2,2),new WN({name:"BackgroundMaterial",uniforms:zN(YF.background.uniforms),vertexShader:YF.background.vertexShader,fragmentShader:YF.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=_P.getTransfer(r.colorSpace)!==AC,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),d===r&&h===r.version&&f===e.toneMapping||(l.material.needsUpdate=!0,d=r,h=r.version,f=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function eU(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let a=i,o=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let a=0;a<n;a++)t[a]=0,r[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function d(e){h(e,0)}function h(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function f(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function m(){g(),o=!0,a!==i&&(a=i,s(a.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];return void 0===l&&(l=c(e.createVertexArray()),s[a]=l),l}(m,l,i);a!==y&&(a=y,s(a.object)),v=function(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l)if(l[a].location>=0){const t=i[a];let n=o[a];if(void 0===n&&("instanceMatrix"===a&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}return a.attributesNum!==s||a.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const a in l)if(l[a].location>=0){let t=o[a];void 0===t&&("instanceMatrix"===a&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===a&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[a]=n,s++}a.attributes=i,a.attributesNum=s,a.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||o)&&(o=!1,function(n,r,i,a){u();const o=a.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const c in s){const r=s[c];if(r.location>=0){let i=o[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const o=i.normalized,s=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===pA;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)h(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,o,l*f,(g+s/r.locationSize*e)*f,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)h(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)d(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,o,s*f,s/r.locationSize*e*f,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}f()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:f}}function tU(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let t=0;t<a;t++)o+=i[t];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function nU(e,t,n,r){let i;function a(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let o=void 0!==n.precision?n.precision:"highp";const s=a(o);return s!==o&&(KC("WebGLRenderer:",o,"not supported, using",s,"instead."),o=s),{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===EA||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===vA&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==uA&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==gA&&!i)},precision:o,logarithmicDepthBuffer:!0===n.logarithmicDepthBuffer,reversedDepthBuffer:!0===n.reversedDepthBuffer&&t.has("EXT_clip_control"),maxTextures:e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),maxVertexTextures:e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),maxSamples:e.getParameter(e.MAX_SAMPLES),samples:e.getParameter(e.SAMPLES)}}function rU(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new tL,s=new gP,l={value:null,needsUpdate:!1};function c(e,n,r,i){const a=null!==e?e.length:0;let c=null;if(0!==a){if(c=l.value,!0!==i||null===c){const t=r+4*a,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==a;++n,l+=4)o.copy(e[n]).applyMatrix4(i,s),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(o,s,u){const d=o.clippingPlanes,h=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===d||0===d.length||a&&!f)a?c(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0);else{const e=a?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(d,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function iU(e){let t=new WeakMap;function n(e,t){return t===JT?e.mapping=KT:t===QT&&(e.mapping=ZT),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===JT||a===QT){if(t.has(i))return n(t.get(i).texture,i.mapping);{const a=i.image;if(a&&a.height>0){const o=new QN(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener("dispose",r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const aU=[.125,.215,.35,.446,.526,.582],oU=20,sU=new wD,lU=new nN;let cU=null,uU=0,dU=0,hU=!1;const fU=new fP;class pU{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,r=100,i={}){const{size:a=256,position:o=fU}=i;cU=this._renderer.getRenderTarget(),uU=this._renderer.getActiveCubeFace(),dU=this._renderer.getActiveMipmapLevel(),hU=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=yU(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=vU(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose(),null!==this._backgroundBox&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._ggxMaterial&&this._ggxMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(cU,uU,dU),this._renderer.xr.enabled=hU,e.scissorTest=!1,gU(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===KT||e.mapping===ZT?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),cU=this._renderer.getRenderTarget(),uU=this._renderer.getActiveCubeFace(),dU=this._renderer.getActiveMipmapLevel(),hU=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:sA,minFilter:sA,generateMipmaps:!1,type:vA,format:EA,colorSpace:EC,depthBuffer:!1},r=mU(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=mU(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+aU.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);t.push(a);let s=1/a;o>e-4?s=aU[o-e+4-1]:0===o&&(s=0),n.push(s);const l=1/(a-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(g*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(d,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const x=new EN;x.setAttribute("position",new pN(v,p)),x.setAttribute("uv",new pN(y,m)),x.setAttribute("faceIndex",new pN(b,g)),r.push(new FN(x,null)),i>4&&i--}return{lodMeshes:r,sizeLods:t,sigmas:n}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(oU),i=new fP(0,1,0),a=new WN({name:"SphericalGaussianBlur",defines:{n:oU,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(r,e,t),this._ggxMaterial=function(e,t,n){const r=new WN({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:256,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:'\n\n\t\t\tprecision highp float;\n\t\t\tprecision highp int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform float roughness;\n\t\t\tuniform float mipInt;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\t#define PI 3.14159265359\n\n\t\t\t// Van der Corput radical inverse\n\t\t\tfloat radicalInverse_VdC(uint bits) {\n\t\t\t\tbits = (bits << 16u) | (bits >> 16u);\n\t\t\t\tbits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\n\t\t\t\tbits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\n\t\t\t\tbits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\n\t\t\t\tbits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\n\t\t\t\treturn float(bits) * 2.3283064365386963e-10; // / 0x100000000\n\t\t\t}\n\n\t\t\t// Hammersley sequence\n\t\t\tvec2 hammersley(uint i, uint N) {\n\t\t\t\treturn vec2(float(i) / float(N), radicalInverse_VdC(i));\n\t\t\t}\n\n\t\t\t// GGX VNDF importance sampling (Eric Heitz 2018)\n\t\t\t// "Sampling the GGX Distribution of Visible Normals"\n\t\t\t// https://jcgt.org/published/0007/04/01/\n\t\t\tvec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {\n\t\t\t\tfloat alpha = roughness * roughness;\n\n\t\t\t\t// Section 3.2: Transform view direction to hemisphere configuration\n\t\t\t\tvec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));\n\n\t\t\t\t// Section 4.1: Orthonormal basis\n\t\t\t\tfloat lensq = Vh.x * Vh.x + Vh.y * Vh.y;\n\t\t\t\tvec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 T2 = cross(Vh, T1);\n\n\t\t\t\t// Section 4.2: Parameterization of projected area\n\t\t\t\tfloat r = sqrt(Xi.x);\n\t\t\t\tfloat phi = 2.0 * PI * Xi.y;\n\t\t\t\tfloat t1 = r * cos(phi);\n\t\t\t\tfloat t2 = r * sin(phi);\n\t\t\t\tfloat s = 0.5 * (1.0 + Vh.z);\n\t\t\t\tt2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;\n\n\t\t\t\t// Section 4.3: Reprojection onto hemisphere\n\t\t\t\tvec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;\n\n\t\t\t\t// Section 3.4: Transform back to ellipsoid configuration\n\t\t\t\treturn normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));\n\t\t\t}\n\n\t\t\tvoid main() {\n\t\t\t\tvec3 N = normalize(vOutputDirection);\n\t\t\t\tvec3 V = N; // Assume view direction equals normal for pre-filtering\n\n\t\t\t\tvec3 prefilteredColor = vec3(0.0);\n\t\t\t\tfloat totalWeight = 0.0;\n\n\t\t\t\t// For very low roughness, just sample the environment directly\n\t\t\t\tif (roughness < 0.001) {\n\t\t\t\t\tgl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Tangent space basis for VNDF sampling\n\t\t\t\tvec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\n\t\t\t\tvec3 tangent = normalize(cross(up, N));\n\t\t\t\tvec3 bitangent = cross(N, tangent);\n\n\t\t\t\tfor(uint i = 0u; i < uint(GGX_SAMPLES); i++) {\n\t\t\t\t\tvec2 Xi = hammersley(i, uint(GGX_SAMPLES));\n\n\t\t\t\t\t// For PMREM, V = N, so in tangent space V is always (0, 0, 1)\n\t\t\t\t\tvec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);\n\n\t\t\t\t\t// Transform H back to world space\n\t\t\t\t\tvec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);\n\t\t\t\t\tvec3 L = normalize(2.0 * dot(V, H) * H - V);\n\n\t\t\t\t\tfloat NdotL = max(dot(N, L), 0.0);\n\n\t\t\t\t\tif(NdotL > 0.0) {\n\t\t\t\t\t\t// Sample environment at fixed mip level\n\t\t\t\t\t\t// VNDF importance sampling handles the distribution filtering\n\t\t\t\t\t\tvec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);\n\n\t\t\t\t\t\t// Weight by NdotL for the split-sum approximation\n\t\t\t\t\t\t// VNDF PDF naturally accounts for the visible microfacet distribution\n\t\t\t\t\t\tprefilteredColor += sampleColor * NdotL;\n\t\t\t\t\t\ttotalWeight += NdotL;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (totalWeight > 0.0) {\n\t\t\t\t\tprefilteredColor = prefilteredColor / totalWeight;\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = vec4(prefilteredColor, 1.0);\n\t\t\t}\n\t\t',blending:0,depthTest:!1,depthWrite:!1});return r}(r,e,t)}return r}_compileMaterial(e){const t=new FN(new EN,e);this._renderer.compile(t,sU)}_sceneToCubeUV(e,t,n,r,i){const a=new YN(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],l=this._renderer,c=l.autoClear,u=l.toneMapping;l.getClearColor(lU),l.toneMapping=0,l.autoClear=!1,l.state.buffers.depth.getReversed()&&(l.setRenderTarget(r),l.clearDepth(),l.setRenderTarget(null)),null===this._backgroundBox&&(this._backgroundBox=new FN(new jN,new oN({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1})));const d=this._backgroundBox,h=d.material;let f=!1;const p=e.background;p?p.isColor&&(h.color.copy(p),e.background=null,f=!0):(h.color.copy(lU),f=!0);for(let m=0;m<6;m++){const t=m%3;0===t?(a.up.set(0,o[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+s[m],i.y,i.z)):1===t?(a.up.set(0,0,o[m]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+s[m],i.z)):(a.up.set(0,o[m],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+s[m]));const n=this._cubeSize;gU(r,t*n,m>2?n:0,n,n),l.setRenderTarget(r),f&&l.render(d,a),l.render(e,a)}l.toneMapping=u,l.autoClear=c,e.background=p}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===KT||e.mapping===ZT;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=yU()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=vU());const i=r?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=i,i.uniforms.envMap.value=e;const o=this._cubeSize;gU(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,sU)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodMeshes.length;for(let i=1;i<r;i++)this._applyGGXFilter(e,i-1,i);t.autoClear=n}_applyGGXFilter(e,t,n){const r=this._renderer,i=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[n];o.material=a;const s=a.uniforms,l=n/(this._lodMeshes.length-1),c=t/(this._lodMeshes.length-1),u=Math.sqrt(l*l-c*c)*(0+1.25*l),{_lodMax:d}=this,h=this._sizeLods[n],f=3*h*(n>d-4?n-d+4:0),p=4*(this._cubeSize-h);s.envMap.value=e.texture,s.roughness.value=u,s.mipInt.value=d-t,gU(i,f,p,3*h,2*h),r.setRenderTarget(i),r.render(o,sU),s.envMap.value=i.texture,s.roughness.value=0,s.mipInt.value=d-n,gU(e,f,p,3*h,2*h),r.setRenderTarget(e),r.render(o,sU)}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,a,o){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&ZC("blur direction must be either latitudinal or longitudinal!");const c=this._lodMeshes[r];c.material=l;const u=l.uniforms,d=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*d):2*Math.PI/39,f=i/h,p=isFinite(i)?1+Math.floor(3*f):oU;p>oU&&KC(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let g=0;for(let b=0;b<oU;++b){const e=b/f,t=Math.exp(-e*e/2);m.push(t),0===b?g+=t:b<p&&(g+=2*t)}for(let b=0;b<m.length;b++)m[b]=m[b]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===a,o&&(u.poleAxis.value=o);const{_lodMax:v}=this;u.dTheta.value=h,u.mipInt.value=v-n;const y=this._sizeLods[r];gU(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,sU)}}function mU(e,t,n){const r=new IP(e,t,n);return r.texture.mapping=eA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gU(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function vU(){return new WN({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function yU(){return new WN({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function bU(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping,o=a===JT||a===QT,s=a===KT||a===ZT;if(o||s){let a=t.get(i);const l=void 0!==a?a.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new pU(e)),a=o?n.fromEquirectangular(i,a):n.fromCubemap(i,a),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),a.texture;if(void 0!==a)return a.texture;{const l=i.image;return o&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new pU(e)),a=o?n.fromEquirectangular(i):n.fromCubemap(i),a.texture.pmremVersion=i.pmremVersion,t.set(i,a),i.addEventListener("dispose",r),a.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function xU(e){const t={};function n(n){if(void 0!==t[n])return t[n];const r=e.getExtension(n);return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&JC("WebGLRenderer: "+e+" extension not supported."),t}}}function _U(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);s.removeEventListener("dispose",o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(BC(n)?gN:mN)(n,1);s.version=o;const l=a.get(e);l&&t.remove(l),a.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const i in r)t.update(r[i],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function wU(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let t=0;t<o;t++)s+=a[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function SU(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:ZC("WebGLInfo: Unknown draw mode:",r)}}}}function MU(e,t,n){const r=new WeakMap,i=new kP;return{update:function(a,o,s){const l=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,u=void 0!==c?c.length:0;let d=r.get(o);if(void 0===d||d.count!==u){let e=function(){v.dispose(),r.delete(o),o.removeEventListener("dispose",e)};void 0!==d&&d.texture.dispose();const n=void 0!==o.morphAttributes.position,a=void 0!==o.morphAttributes.normal,s=void 0!==o.morphAttributes.color,l=o.morphAttributes.position||[],c=o.morphAttributes.normal||[],h=o.morphAttributes.color||[];let f=0;!0===n&&(f=1),!0===a&&(f=2),!0===s&&(f=3);let p=o.attributes.position.count*f,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*u),v=new OP(g,p,m,u);v.type=gA,v.needsUpdate=!0;const y=4*f;for(let t=0;t<u;t++){const e=l[t],r=c[t],o=h[t],u=p*m*4*t;for(let t=0;t<e.count;t++){const l=t*y;!0===n&&(i.fromBufferAttribute(e,t),g[u+l+0]=i.x,g[u+l+1]=i.y,g[u+l+2]=i.z,g[u+l+3]=0),!0===a&&(i.fromBufferAttribute(r,t),g[u+l+4]=i.x,g[u+l+5]=i.y,g[u+l+6]=i.z,g[u+l+7]=0),!0===s&&(i.fromBufferAttribute(o,t),g[u+l+8]=i.x,g[u+l+9]=i.y,g[u+l+10]=i.z,g[u+l+11]=4===o.itemSize?i.w:1)}}d={count:u,texture:v,size:new dP(p,m)},r.set(o,d),o.addEventListener("dispose",e)}if(!0===a.isInstancedMesh&&null!==a.morphTexture)s.getUniforms().setValue(e,"morphTexture",a.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];const n=o.morphTargetsRelative?1:1-t;s.getUniforms().setValue(e,"morphTargetBaseInfluence",n),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",d.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",d.size)}}}function EU(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,c=t.get(o,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}const TU={[zT]:"LINEAR_TONE_MAPPING",[BT]:"REINHARD_TONE_MAPPING",[VT]:"CINEON_TONE_MAPPING",[HT]:"ACES_FILMIC_TONE_MAPPING",[GT]:"AGX_TONE_MAPPING",[qT]:"NEUTRAL_TONE_MAPPING",[WT]:"CUSTOM_TONE_MAPPING"};function AU(e,t,n,r,i){const a=new IP(t,n,{type:e,depthBuffer:r,stencilBuffer:i}),o=new IP(t,n,{type:vA,depthBuffer:!1,stencilBuffer:!1}),s=new EN;s.setAttribute("position",new vN([-1,3,0,-1,-1,0,3,-1,0],3)),s.setAttribute("uv",new vN([0,2,0,0,2,0],2));const l=new AO({uniforms:{tDiffuse:{value:null}},vertexShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform mat4 modelViewMatrix;\n\t\t\tuniform mat4 projectionMatrix;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t}",fragmentShader:"\n\t\t\tprecision highp float;\n\n\t\t\tuniform sampler2D tDiffuse;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\t#include <tonemapping_pars_fragment>\n\t\t\t#include <colorspace_pars_fragment>\n\n\t\t\tvoid main() {\n\t\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\n\t\t\t\t#ifdef LINEAR_TONE_MAPPING\n\t\t\t\t\tgl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( REINHARD_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CINEON_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( ACES_FILMIC_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( AGX_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( NEUTRAL_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );\n\t\t\t\t#elif defined( CUSTOM_TONE_MAPPING )\n\t\t\t\t\tgl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef SRGB_TRANSFER\n\t\t\t\t\tgl_FragColor = sRGBTransferOETF( gl_FragColor );\n\t\t\t\t#endif\n\t\t\t}",depthTest:!1,depthWrite:!1}),c=new FN(s,l),u=new wD(-1,1,1,-1,0,1);let d,h=null,f=null,p=!1,m=null,g=[],v=!1;this.setSize=function(e,t){a.setSize(e,t),o.setSize(e,t);for(let n=0;n<g.length;n++){const r=g[n];r.setSize&&r.setSize(e,t)}},this.setEffects=function(e){g=e,v=g.length>0&&!0===g[0].isRenderPass;const t=a.width,n=a.height;for(let r=0;r<g.length;r++){const e=g[r];e.setSize&&e.setSize(t,n)}},this.begin=function(e,t){if(p)return!1;if(0===e.toneMapping&&0===g.length)return!1;if(m=t,null!==t){const e=t.width,n=t.height;a.width===e&&a.height===n||this.setSize(e,n)}return!1===v&&e.setRenderTarget(a),d=e.toneMapping,e.toneMapping=0,!0},this.hasRenderPass=function(){return v},this.end=function(e,t){e.toneMapping=d,p=!0;let n=a,r=o;for(let i=0;i<g.length;i++){const a=g[i];if(!1!==a.enabled&&(a.render(e,r,n,t),!1!==a.needsSwap)){const e=n;n=r,r=e}}if(h!==e.outputColorSpace||f!==e.toneMapping){h=e.outputColorSpace,f=e.toneMapping,l.defines={},_P.getTransfer(h)===AC&&(l.defines.SRGB_TRANSFER="");const t=TU[f];t&&(l.defines[t]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=n.texture,e.setRenderTarget(m),e.render(c,u),m=null,p=!1},this.isCompositing=function(){return p},this.dispose=function(){a.dispose(),o.dispose(),s.dispose(),l.dispose()}}const CU=new NP,PU=new ZL(1,1),RU=new OP,NU=new DP,kU=new JN,LU=[],IU=[],OU=new Float32Array(16),DU=new Float32Array(9),FU=new Float32Array(4);function UU(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=LU[i];if(void 0===a&&(a=new Float32Array(i),LU[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function jU(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function zU(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function BU(e,t){let n=IU[t];void 0===n&&(n=new Int32Array(t),IU[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function VU(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function HU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(jU(n,t))return;e.uniform2fv(this.addr,t),zU(n,t)}}function WU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(jU(n,t))return;e.uniform3fv(this.addr,t),zU(n,t)}}function GU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(jU(n,t))return;e.uniform4fv(this.addr,t),zU(n,t)}}function qU(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(jU(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),zU(n,t)}else{if(jU(n,r))return;FU.set(r),e.uniformMatrix2fv(this.addr,!1,FU),zU(n,r)}}function XU(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(jU(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),zU(n,t)}else{if(jU(n,r))return;DU.set(r),e.uniformMatrix3fv(this.addr,!1,DU),zU(n,r)}}function $U(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(jU(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),zU(n,t)}else{if(jU(n,r))return;OU.set(r),e.uniformMatrix4fv(this.addr,!1,OU),zU(n,r)}}function YU(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function KU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(jU(n,t))return;e.uniform2iv(this.addr,t),zU(n,t)}}function ZU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(jU(n,t))return;e.uniform3iv(this.addr,t),zU(n,t)}}function JU(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(jU(n,t))return;e.uniform4iv(this.addr,t),zU(n,t)}}function QU(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ej(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(jU(n,t))return;e.uniform2uiv(this.addr,t),zU(n,t)}}function tj(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(jU(n,t))return;e.uniform3uiv(this.addr,t),zU(n,t)}}function nj(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(jU(n,t))return;e.uniform4uiv(this.addr,t),zU(n,t)}}function rj(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(PU.compareFunction=n.isReversedDepthBuffer()?OC:kC,a=PU):a=CU,n.setTexture2D(t||a,i)}function ij(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||NU,i)}function aj(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||kU,i)}function oj(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||RU,i)}function sj(e,t){e.uniform1fv(this.addr,t)}function lj(e,t){const n=UU(t,this.size,2);e.uniform2fv(this.addr,n)}function cj(e,t){const n=UU(t,this.size,3);e.uniform3fv(this.addr,n)}function uj(e,t){const n=UU(t,this.size,4);e.uniform4fv(this.addr,n)}function dj(e,t){const n=UU(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function hj(e,t){const n=UU(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function fj(e,t){const n=UU(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function pj(e,t){e.uniform1iv(this.addr,t)}function mj(e,t){e.uniform2iv(this.addr,t)}function gj(e,t){e.uniform3iv(this.addr,t)}function vj(e,t){e.uniform4iv(this.addr,t)}function yj(e,t){e.uniform1uiv(this.addr,t)}function bj(e,t){e.uniform2uiv(this.addr,t)}function xj(e,t){e.uniform3uiv(this.addr,t)}function _j(e,t){e.uniform4uiv(this.addr,t)}function wj(e,t,n){const r=this.cache,i=t.length,a=BU(n,i);let o;jU(r,a)||(e.uniform1iv(this.addr,a),zU(r,a)),o=this.type===e.SAMPLER_2D_SHADOW?PU:CU;for(let s=0;s!==i;++s)n.setTexture2D(t[s]||o,a[s])}function Sj(e,t,n){const r=this.cache,i=t.length,a=BU(n,i);jU(r,a)||(e.uniform1iv(this.addr,a),zU(r,a));for(let o=0;o!==i;++o)n.setTexture3D(t[o]||NU,a[o])}function Mj(e,t,n){const r=this.cache,i=t.length,a=BU(n,i);jU(r,a)||(e.uniform1iv(this.addr,a),zU(r,a));for(let o=0;o!==i;++o)n.setTextureCube(t[o]||kU,a[o])}function Ej(e,t,n){const r=this.cache,i=t.length,a=BU(n,i);jU(r,a)||(e.uniform1iv(this.addr,a),zU(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(t[o]||RU,a[o])}class Tj{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return VU;case 35664:return HU;case 35665:return WU;case 35666:return GU;case 35674:return qU;case 35675:return XU;case 35676:return $U;case 5124:case 35670:return YU;case 35667:case 35671:return KU;case 35668:case 35672:return ZU;case 35669:case 35673:return JU;case 5125:return QU;case 36294:return ej;case 36295:return tj;case 36296:return nj;case 35678:case 36198:case 36298:case 36306:case 35682:return rj;case 35679:case 36299:case 36307:return ij;case 35680:case 36300:case 36308:case 36293:return aj;case 36289:case 36303:case 36311:case 36292:return oj}}(t.type)}}class Aj{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return sj;case 35664:return lj;case 35665:return cj;case 35666:return uj;case 35674:return dj;case 35675:return hj;case 35676:return fj;case 5124:case 35670:return pj;case 35667:case 35671:return mj;case 35668:case 35672:return gj;case 35669:case 35673:return vj;case 5125:return yj;case 36294:return bj;case 36295:return xj;case 36296:return _j;case 35678:case 36198:case 36298:case 36306:case 35682:return wj;case 35679:case 36299:case 36307:return Sj;case 35680:case 36300:case 36308:case 36293:return Mj;case 36289:case 36303:case 36311:case 36292:return Ej}}(t.type)}}class Cj{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const Pj=/(\w+)(\])?(\[|\.)?/g;function Rj(e,t){e.seq.push(t),e.map[t.id]=t}function Nj(e,t,n){const r=e.name,i=r.length;for(Pj.lastIndex=0;;){const a=Pj.exec(r),o=Pj.lastIndex;let s=a[1];const l="]"===a[2],c=a[3];if(l&&(s|=0),void 0===c||"["===c&&o+2===i){Rj(n,void 0===c?new Tj(s,e,t):new Aj(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Cj(s),Rj(n,e)),n=e}}}class kj{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<n;++a){const n=e.getActiveUniform(t,a);Nj(n,e.getUniformLocation(t,n.name),this)}const r=[],i=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?r.push(a):i.push(a);r.length>0&&(this.seq=r.concat(i))}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Lj(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Ij=0;const Oj=new gP;function Dj(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=(e.getShaderInfoLog(t)||"").trim();if(r&&""===i)return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let o=i;o<a;o++){const e=o+1;r.push(`${e===t?">":" "} ${e}: ${n[o]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Fj(e,t){const n=function(e){_P._getMatrix(Oj,_P.workingColorSpace,e);const t=`mat3( ${Oj.elements.map(e=>e.toFixed(4))} )`;switch(_P.getTransfer(e)){case TC:return[t,"LinearTransferOETF"];case AC:return[t,"sRGBTransferOETF"];default:return KC("WebGLProgram: Unsupported color space: ",e),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}const Uj={[zT]:"Linear",[BT]:"Reinhard",[VT]:"Cineon",[HT]:"ACESFilmic",[GT]:"AgX",[qT]:"Neutral",[WT]:"Custom"};function jj(e,t){const n=Uj[t];return void 0===n?(KC("WebGLProgram: Unsupported toneMapping:",t),"vec3 "+e+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const zj=new fP;function Bj(){return _P.getLuminanceCoefficients(zj),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${zj.x.toFixed(4)}, ${zj.y.toFixed(4)}, ${zj.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function Vj(e){return""!==e}function Hj(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Wj(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Gj=/^[ \t]*#include +<([\w\d./]+)>/gm;function qj(e){return e.replace(Gj,$j)}const Xj=new Map;function $j(e,t){let n=XF[t];if(void 0===n){const e=Xj.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=XF[e],KC('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return qj(n)}const Yj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Kj(e){return e.replace(Yj,Zj)}function Zj(e,t,n,r){let i="";for(let a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Jj(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}const Qj={[oT]:"SHADOWMAP_TYPE_PCF",[sT]:"SHADOWMAP_TYPE_VSM"},ez={[KT]:"ENVMAP_TYPE_CUBE",[ZT]:"ENVMAP_TYPE_CUBE",[eA]:"ENVMAP_TYPE_CUBE_UV"},tz={[ZT]:"ENVMAP_MODE_REFRACTION"},nz={[FT]:"ENVMAP_BLENDING_MULTIPLY",[UT]:"ENVMAP_BLENDING_MIX",[jT]:"ENVMAP_BLENDING_ADD"};function rz(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=function(e){return Qj[e.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}(n),c=function(e){return!1===e.envMap?"ENVMAP_TYPE_CUBE":ez[e.envMapMode]||"ENVMAP_TYPE_CUBE"}(n),u=function(e){return!1===e.envMap?"ENVMAP_MODE_REFLECTION":tz[e.envMapMode]||"ENVMAP_MODE_REFLECTION"}(n),d=function(e){return!1===e.envMap?"ENVMAP_BLENDING_NONE":nz[e.combine]||"ENVMAP_BLENDING_NONE"}(n),h=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),f=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Vj).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(a),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Vj).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Vj).join("\n"),v.length>0&&(v+="\n")):(g=[Jj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vj).join("\n"),v=[Jj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?XF.tonemapping_pars_fragment:"",0!==n.toneMapping?jj("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",XF.colorspace_pars_fragment,Fj("linearToOutputTexel",n.outputColorSpace),Bj(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Vj).join("\n")),o=qj(o),o=Hj(o,n),o=Wj(o,n),s=qj(s),s=Hj(s,n),s=Wj(s,n),o=Kj(o),s=Kj(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===UC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===UC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+o,x=y+v+s,_=Lj(i,i.VERTEX_SHADER,b),w=Lj(i,i.FRAGMENT_SHADER,x);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m)||"",r=i.getShaderInfoLog(_)||"",a=i.getShaderInfoLog(w)||"",o=n.trim(),s=r.trim(),l=a.trim();let c=!0,u=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(c=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(i,m,_,w);else{const e=Dj(i,_,"vertex"),n=Dj(i,w,"fragment");ZC("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+o+"\n"+e+"\n"+n)}else""!==o?KC("WebGLProgram: Program Info Log:",o):""!==s&&""!==l||(u=!1);u&&(t.diagnostics={runnable:c,programLog:o,vertexShader:{log:s,prefix:g},fragmentShader:{log:l,prefix:v}})}i.deleteShader(_),i.deleteShader(w),M=new kj(i,m),E=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}(i,m)}let M,E;i.attachShader(m,_),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===E&&S(this),E};let T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=i.getProgramParameter(m,37297)),T},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Ij++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=w,this}let iz=0;class az{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new oz(e),t.set(e,n)),n}}class oz{constructor(e){this.id=iz++,this.code=e,this.usedTimes=0}}function sz(e,t,n,r,i,a,o){const s=new _R,l=new az,c=new Set,u=[],d=new Map,h=i.logarithmicDepthBuffer;let f=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(a,s,u,d,g){const v=d.fog,y=g.geometry,b=a.isMeshStandardMaterial?d.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||b),_=x&&x.mapping===eA?x.image.height:null,w=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision),f!==a.precision&&KC("WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));const S=y.morphAttributes.position||y.morphAttributes.normal||y.morphAttributes.color,M=void 0!==S?S.length:0;let E,T,A,C,P=0;if(void 0!==y.morphAttributes.position&&(P=1),void 0!==y.morphAttributes.normal&&(P=2),void 0!==y.morphAttributes.color&&(P=3),w){const e=YF[w];E=e.vertexShader,T=e.fragmentShader}else E=a.vertexShader,T=a.fragmentShader,l.update(a),A=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);const R=e.getRenderTarget(),N=e.state.buffers.depth.getReversed(),k=!0===g.isInstancedMesh,L=!0===g.isBatchedMesh,I=!!a.map,O=!!a.matcap,D=!!x,F=!!a.aoMap,U=!!a.lightMap,j=!!a.bumpMap,z=!!a.normalMap,B=!!a.displacementMap,V=!!a.emissiveMap,H=!!a.metalnessMap,W=!!a.roughnessMap,G=a.anisotropy>0,q=a.clearcoat>0,X=a.dispersion>0,$=a.iridescence>0,Y=a.sheen>0,K=a.transmission>0,Z=G&&!!a.anisotropyMap,J=q&&!!a.clearcoatMap,Q=q&&!!a.clearcoatNormalMap,ee=q&&!!a.clearcoatRoughnessMap,te=$&&!!a.iridescenceMap,ne=$&&!!a.iridescenceThicknessMap,re=Y&&!!a.sheenColorMap,ie=Y&&!!a.sheenRoughnessMap,ae=!!a.specularMap,oe=!!a.specularColorMap,se=!!a.specularIntensityMap,le=K&&!!a.transmissionMap,ce=K&&!!a.thicknessMap,ue=!!a.gradientMap,de=!!a.alphaMap,he=a.alphaTest>0,fe=!!a.alphaHash,pe=!!a.extensions;let me=0;a.toneMapped&&(null!==R&&!0!==R.isXRRenderTarget||(me=e.toneMapping));const ge={shaderID:w,shaderType:a.type,shaderName:a.name,vertexShader:E,fragmentShader:T,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,batching:L,batchingColor:L&&null!==g._colorsTexture,instancing:k,instancingColor:k&&null!==g.instanceColor,instancingMorph:k&&null!==g.morphTexture,outputColorSpace:null===R?e.outputColorSpace:!0===R.isXRRenderTarget?R.texture.colorSpace:EC,alphaToCoverage:!!a.alphaToCoverage,map:I,matcap:O,envMap:D,envMapMode:D&&x.mapping,envMapCubeUVHeight:_,aoMap:F,lightMap:U,bumpMap:j,normalMap:z,displacementMap:B,emissiveMap:V,normalMapObjectSpace:z&&1===a.normalMapType,normalMapTangentSpace:z&&0===a.normalMapType,metalnessMap:H,roughnessMap:W,anisotropy:G,anisotropyMap:Z,clearcoat:q,clearcoatMap:J,clearcoatNormalMap:Q,clearcoatRoughnessMap:ee,dispersion:X,iridescence:$,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:Y,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:ae,specularColorMap:oe,specularIntensityMap:se,transmission:K,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:de,alphaTest:he,alphaHash:fe,combine:a.combine,mapUv:I&&m(a.map.channel),aoMapUv:F&&m(a.aoMap.channel),lightMapUv:U&&m(a.lightMap.channel),bumpMapUv:j&&m(a.bumpMap.channel),normalMapUv:z&&m(a.normalMap.channel),displacementMapUv:B&&m(a.displacementMap.channel),emissiveMapUv:V&&m(a.emissiveMap.channel),metalnessMapUv:H&&m(a.metalnessMap.channel),roughnessMapUv:W&&m(a.roughnessMap.channel),anisotropyMapUv:Z&&m(a.anisotropyMap.channel),clearcoatMapUv:J&&m(a.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(a.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(a.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(a.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(a.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(a.sheenRoughnessMap.channel),specularMapUv:ae&&m(a.specularMap.channel),specularColorMapUv:oe&&m(a.specularColorMap.channel),specularIntensityMapUv:se&&m(a.specularIntensityMap.channel),transmissionMapUv:le&&m(a.transmissionMap.channel),thicknessMapUv:ce&&m(a.thicknessMap.channel),alphaMapUv:de&&m(a.alphaMap.channel),vertexTangents:!!y.attributes.tangent&&(z||G),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!y.attributes.color&&4===y.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!y.attributes.uv&&(I||de),fog:!!v,useFog:!0===a.fog,fogExp2:!!v&&v.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:h,reversedDepthBuffer:N,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==y.morphAttributes.position,morphNormals:void 0!==y.morphAttributes.normal,morphColors:void 0!==y.morphAttributes.color,morphTargetsCount:M,morphTextureStride:P,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:me,decodeVideoTexture:I&&!0===a.map.isVideoTexture&&_P.getTransfer(a.map.colorSpace)===AC,decodeVideoTextureEmissive:V&&!0===a.emissiveMap.isVideoTexture&&_P.getTransfer(a.emissiveMap.colorSpace)===AC,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:1===a.side,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:pe&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(pe&&!0===a.extensions.multiDraw||L)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return ge.vertexUv1s=c.has(1),ge.vertexUv2s=c.has(2),ge.vertexUv3s=c.has(3),c.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.instancing&&s.enable(0),t.instancingColor&&s.enable(1),t.instancingMorph&&s.enable(2),t.matcap&&s.enable(3),t.envMap&&s.enable(4),t.normalMapObjectSpace&&s.enable(5),t.normalMapTangentSpace&&s.enable(6),t.clearcoat&&s.enable(7),t.iridescence&&s.enable(8),t.alphaTest&&s.enable(9),t.vertexColors&&s.enable(10),t.vertexAlphas&&s.enable(11),t.vertexUv1s&&s.enable(12),t.vertexUv2s&&s.enable(13),t.vertexUv3s&&s.enable(14),t.vertexTangents&&s.enable(15),t.anisotropy&&s.enable(16),t.alphaHash&&s.enable(17),t.batching&&s.enable(18),t.dispersion&&s.enable(19),t.batchingColor&&s.enable(20),t.gradientMap&&s.enable(21),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.reversedDepthBuffer&&s.enable(4),t.skinning&&s.enable(5),t.morphTargets&&s.enable(6),t.morphNormals&&s.enable(7),t.morphColors&&s.enable(8),t.premultipliedAlpha&&s.enable(9),t.shadowMapEnabled&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.transmission&&s.enable(15),t.sheen&&s.enable(16),t.opaque&&s.enable(17),t.pointsUvs&&s.enable(18),t.decodeVideoTexture&&s.enable(19),t.decodeVideoTextureEmissive&&s.enable(20),t.alphaToCoverage&&s.enable(21),e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=YF[t];n=HN.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r=d.get(n);return void 0!==r?++r.usedTimes:(r=new rz(e,n,t,a),u.push(r),d.set(n,r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),d.delete(e.cacheKey),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function lz(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function cz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function uz(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function dz(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||cz),r.length>1&&r.sort(t||uz),i.length>1&&i.sort(t||uz)}}}function hz(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new dz,e.set(t,[i])):n>=r.length?(i=new dz,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function fz(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new fP,color:new nN};break;case"SpotLight":n={position:new fP,direction:new fP,color:new nN,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new fP,color:new nN,distance:0,decay:0};break;case"HemisphereLight":n={direction:new fP,skyColor:new nN,groundColor:new nN};break;case"RectAreaLight":n={color:new nN,position:new fP,halfWidth:new fP,halfHeight:new fP}}return e[t.id]=n,n}}}let pz=0;function mz(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function gz(e){const t=new fz,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dP};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new dP,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)r.probe.push(new fP);const i=new fP,a=new uR,o=new uR;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0;i.sort(mz);for(let e=0,x=i.length;e<x;e++){const b=i[e],x=b.color,_=b.intensity,w=b.distance;let S=null;if(b.shadow&&b.shadow.map&&(S=b.shadow.map.texture.format===RA?b.shadow.map.texture:b.shadow.map.depthTexture||b.shadow.map.texture),b.isAmbientLight)a+=x.r*_,o+=x.g*_,s+=x.b*_;else if(b.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(b.sh.coefficients[e],_);y++}else if(b.isDirectionalLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=b.shadow.matrix,f++}r.directional[l]=e,l++}else if(b.isSpotLight){const e=t.get(b);e.position.setFromMatrixPosition(b.matrixWorld),e.color.copy(x).multiplyScalar(_),e.distance=w,e.coneCos=Math.cos(b.angle),e.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),e.decay=b.decay,r.spot[u]=e;const i=b.shadow;if(b.map&&(r.spotLightMap[g]=b.map,g++,i.updateMatrices(b),b.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,b.castShadow){const e=n.get(b);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(b.isRectAreaLight){const e=t.get(b);e.color.copy(x).multiplyScalar(_),e.halfWidth.set(.5*b.width,0,0),e.halfHeight.set(0,.5*b.height,0),r.rectArea[d]=e,d++}else if(b.isPointLight){const e=t.get(b);if(e.color.copy(b.color).multiplyScalar(b.intensity),e.distance=b.distance,e.decay=b.decay,b.castShadow){const e=b.shadow,t=n.get(b);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=b.shadow.matrix,p++}r.point[c]=e,c++}else if(b.isHemisphereLight){const e=t.get(b);e.skyColor.copy(b.color).multiplyScalar(_),e.groundColor.copy(b.groundColor).multiplyScalar(_),r.hemi[h]=e,h++}}d>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=$F.LTC_FLOAT_1,r.rectAreaLTC2=$F.LTC_FLOAT_2):(r.rectAreaLTC1=$F.LTC_HALF_1,r.rectAreaLTC2=$F.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const b=r.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===d&&b.hemiLength===h&&b.numDirectionalShadows===f&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===g&&b.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=d,r.point.length=c,r.hemi.length=h,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=d,b.hemiLength=h,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=g,b.numLightProbes=y,r.version=pz++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,f=e.length;h<f;h++){const t=e[h];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(t.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function vz(e){const t=new gz(e),n=[],r=[],i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function yz(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let a;return void 0===i?(a=new vz(e),t.set(n,[a])):r>=i.length?(a=new vz(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}const bz=[new fP(1,0,0),new fP(-1,0,0),new fP(0,1,0),new fP(0,-1,0),new fP(0,0,1),new fP(0,0,-1)],xz=[new fP(0,-1,0),new fP(0,-1,0),new fP(0,0,1),new fP(0,0,-1),new fP(0,-1,0),new fP(0,-1,0)],_z=new uR,wz=new fP,Sz=new fP;function Mz(e,t,n){let r=new aL;const i=new dP,a=new dP,o=new kP,s=new IO,l=new OO,c={},u=n.maxTextureSize,d={[lT]:1,[cT]:0,[uT]:2},h=new WN({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new dP},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );\n\tgl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new EN;p.setAttribute("position",new pN(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new FN(p,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){const a=t.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new IP(i.x,i.y,{format:RA,type:vA})),h.uniforms.shadow_pass.value=n.map.depthTexture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,m,null)}function b(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener("dispose",_)),a=i}return a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial&&(e.properties.get(a).light=r),a}function x(n,i,a,o,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=l[u.materialIndex];if(d&&d.visible){const t=b(n,d,o,s);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(l.visible){const t=b(n,l,o,s);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,a,o,s)}function _(e){e.target.removeEventListener("dispose",_);for(const t in c){const n=c[t],r=e.target.uuid;r in n&&(n[r].dispose(),delete n[r])}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;2===t.type&&(KC("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),t.type=1);const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),h=e.state;h.setBlending(0),!0===h.buffers.depth.getReversed()?h.buffers.color.setClear(0,0,0,0):h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const f=v!==this.type;f&&n.traverse(function(e){e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.needsUpdate=!0):e.material.needsUpdate=!0)});for(let p=0,m=t.length;p<m;p++){const l=t[p],c=l.shadow;if(void 0===c){KC("WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const d=c.getFrameExtents();if(i.multiply(d),a.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/d.x),i.x=a.x*d.x,c.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/d.y),i.y=a.y*d.y,c.mapSize.y=a.y)),null===c.map||!0===f){if(null!==c.map&&(null!==c.map.depthTexture&&(c.map.depthTexture.dispose(),c.map.depthTexture=null),c.map.dispose()),3===this.type){if(l.isPointLight){KC("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}c.map=new IP(i.x,i.y,{format:RA,type:vA,minFilter:sA,magFilter:sA,generateMipmaps:!1}),c.map.texture.name=l.name+".shadowMap",c.map.depthTexture=new ZL(i.x,i.y,gA),c.map.depthTexture.name=l.name+".shadowMapDepth",c.map.depthTexture.format=TA,c.map.depthTexture.compareFunction=null,c.map.depthTexture.minFilter=iA,c.map.depthTexture.magFilter=iA}else{l.isPointLight?(c.map=new QN(i.x),c.map.depthTexture=new JL(i.x,mA)):(c.map=new IP(i.x,i.y),c.map.depthTexture=new ZL(i.x,i.y,mA)),c.map.depthTexture.name=l.name+".shadowMap",c.map.depthTexture.format=TA;const t=e.state.buffers.depth.getReversed();1===this.type?(c.map.depthTexture.compareFunction=t?OC:kC,c.map.depthTexture.minFilter=sA,c.map.depthTexture.magFilter=sA):(c.map.depthTexture.compareFunction=null,c.map.depthTexture.minFilter=iA,c.map.depthTexture.magFilter=iA)}c.camera.updateProjectionMatrix()}const m=c.map.isWebGLCubeRenderTarget?6:1;for(let t=0;t<m;t++){if(c.map.isWebGLCubeRenderTarget)e.setRenderTarget(c.map,t),e.clear();else{0===t&&(e.setRenderTarget(c.map),e.clear());const n=c.getViewport(t);o.set(a.x*n.x,a.y*n.y,a.x*n.z,a.y*n.w),h.viewport(o)}if(l.isPointLight){const e=c.camera,n=c.matrix,r=l.distance||e.far;r!==e.far&&(e.far=r,e.updateProjectionMatrix()),wz.setFromMatrixPosition(l.matrixWorld),e.position.copy(wz),Sz.copy(e.position),Sz.add(bz[t]),e.up.copy(xz[t]),e.lookAt(Sz),e.updateMatrixWorld(),n.makeTranslation(-wz.x,-wz.y,-wz.z),_z.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),c._frustum.setFromProjectionMatrix(_z,e.coordinateSystem,e.reversedDepth)}else c.updateMatrices(l);r=c.getFrustum(),x(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,d)}}const Ez={[PT]:1,[NT]:6,[LT]:7,[kT]:5,[RT]:0,[OT]:2,[DT]:4,[IT]:3};function Tz(e,t){const n=new function(){let t=!1;const n=new kP;let r=null;const i=new kP(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},r=new function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const n=t.get("EXT_clip_control");e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?z(e.DEPTH_TEST):B(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=Ez[t]),a!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}},i=new function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?z(e.STENCIL_TEST):B(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}},a=new WeakMap,o=new WeakMap;let s={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new nN(0,0,0),_=0,w=!1,S=null,M=null,E=null,T=null,A=null;const C=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let P=!1,R=0;const N=e.getParameter(e.VERSION);-1!==N.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(N)[1]),P=R>=1):-1!==N.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),P=R>=2);let k=null,L={};const I=e.getParameter(e.SCISSOR_BOX),O=e.getParameter(e.VIEWPORT),D=(new kP).fromArray(I),F=(new kP).fromArray(O);function U(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const j={};function z(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function B(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}j[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),j[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),j[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),j[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),z(e.DEPTH_TEST),r.setFunc(3),G(!1),q(1),z(e.CULL_FACE),W(0);const V={[dT]:e.FUNC_ADD,[hT]:e.FUNC_SUBTRACT,[fT]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const H={[pT]:e.ZERO,[mT]:e.ONE,[gT]:e.SRC_COLOR,[yT]:e.SRC_ALPHA,[MT]:e.SRC_ALPHA_SATURATE,[wT]:e.DST_COLOR,[xT]:e.DST_ALPHA,[vT]:e.ONE_MINUS_SRC_COLOR,[bT]:e.ONE_MINUS_SRC_ALPHA,[ST]:e.ONE_MINUS_DST_COLOR,[_T]:e.ONE_MINUS_DST_ALPHA,[ET]:e.CONSTANT_COLOR,[TT]:e.ONE_MINUS_CONSTANT_COLOR,[AT]:e.CONSTANT_ALPHA,[CT]:e.ONE_MINUS_CONSTANT_ALPHA};function W(t,n,r,i,a,o,s,l,c,u){if(0!==t){if(!1===h&&(z(e.BLEND),h=!0),5===t)a=a||n,o=o||r,s=s||i,n===p&&a===v||(e.blendEquationSeparate(V[n],V[a]),p=n,v=a),r===m&&i===g&&o===y&&s===b||(e.blendFuncSeparate(H[r],H[i],H[o],H[s]),m=r,g=i,y=o,b=s),!1!==l.equals(x)&&c===_||(e.blendColor(l.r,l.g,l.b,c),x.copy(l),_=c),f=t,w=!1;else if(t!==f||u!==w){if(p===dT&&v===dT||(e.blendEquation(e.FUNC_ADD),p=dT,v=dT),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:ZC("WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case 3:ZC("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case 4:ZC("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:ZC("WebGLState: Invalid blending: ",t)}m=null,g=null,y=null,b=null,x.set(0,0,0),_=0,f=t,w=u}}else!0===h&&(B(e.BLEND),h=!1)}function G(t){S!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),S=t)}function q(t){0!==t?(z(e.CULL_FACE),t!==M&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):B(e.CULL_FACE),M=t}function X(t,n,r){t?(z(e.POLYGON_OFFSET_FILL),T===n&&A===r||(e.polygonOffset(n,r),T=n,A=r)):B(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:z,disable:B,bindFramebuffer:function(t,n){return l[t]!==n&&(e.bindFramebuffer(t,n),l[t]=n,t===e.DRAW_FRAMEBUFFER&&(l[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(l[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=u,i=!1;if(t){r=c.get(n),void 0===r&&(r=[],c.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return d!==t&&(e.useProgram(t),d=t,!0)},setBlending:W,setMaterial:function(t,a){2===t.side?B(e.CULL_FACE):z(e.CULL_FACE);let o=1===t.side;a&&(o=!o),G(o),1===t.blending&&!1===t.transparent?W(0):W(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const s=t.stencilWrite;i.setTest(s),s&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),X(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?z(e.SAMPLE_ALPHA_TO_COVERAGE):B(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:G,setCullFace:q,setLineWidth:function(t){t!==E&&(P&&e.lineWidth(t),E=t)},setPolygonOffset:X,setScissorTest:function(t){t?z(e.SCISSOR_TEST):B(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+C-1),k!==t&&(e.activeTexture(t),k=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===k?e.TEXTURE0+C-1:k);let i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(k!==r&&(e.activeTexture(r),k=r),e.bindTexture(t,n||j[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=L[k];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(t){ZC("WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(t){ZC("WebGLState:",t)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(t){ZC("WebGLState:",t)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(t){ZC("WebGLState:",t)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(t){ZC("WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(t){ZC("WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(t){ZC("WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(t){ZC("WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(t){ZC("WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(t){ZC("WebGLState:",t)}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},k=null,L={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,g=null,v=null,y=null,b=null,x=new nN(0,0,0),_=0,w=!1,S=null,M=null,E=null,T=null,A=null,D.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function Az(e,t,n,r,i,a,o){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new dP,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(KH){}function p(e,t){return f?new OffscreenCanvas(e,t):GC("canvas")}function m(e,t,n){let r=1;const i=H(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===d&&(d=p(n,a));const o=t?p(n,a):d;return o.width=n,o.height=a,o.getContext("2d").drawImage(e,0,0,n,a),KC("WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+n+"x"+a+")."),o}return"data"in e&&KC("WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+")."),e}return e}function g(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function y(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function b(n,r,i,a,o=!1){if(null!==n){if(void 0!==e[n])return e[n];KC("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGB8UI),i===e.UNSIGNED_SHORT&&(s=e.RGB16UI),i===e.UNSIGNED_INT&&(s=e.RGB32UI),i===e.BYTE&&(s=e.RGB8I),i===e.SHORT&&(s=e.RGB16I),i===e.INT&&(s=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(s=e.RGBA16UI),i===e.UNSIGNED_INT&&(s=e.RGBA32UI),i===e.BYTE&&(s=e.RGBA8I),i===e.SHORT&&(s=e.RGBA16I),i===e.INT&&(s=e.RGBA32I)),r===e.RGB&&(i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),i===e.UNSIGNED_INT_10F_11F_11F_REV&&(s=e.R11F_G11F_B10F)),r===e.RGBA){const t=o?TC:_P.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===AC?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function x(t,n){let r;return t?null===n||n===mA||n===xA?r=e.DEPTH24_STENCIL8:n===gA?r=e.DEPTH32F_STENCIL8:n===fA&&(r=e.DEPTH24_STENCIL8,KC("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===n||n===mA||n===xA?r=e.DEPTH_COMPONENT24:n===gA?r=e.DEPTH_COMPONENT32F:n===fA&&(r=e.DEPTH_COMPONENT16),r}function _(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==iA&&e.minFilter!==sA?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function w(e){const t=e.target;t.removeEventListener("dispose",w),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=h.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&M(e),0===Object.keys(i).length&&h.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let a=0,s=i.length;a<s;a++){const t=r.get(i[a]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),o.memory.textures--),r.remove(i[a])}r.remove(t)}(n)}function M(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete h.get(i)[n.__cacheKey],o.memory.textures--}let E=0;function T(t,i){const a=r.get(t);if(t.isVideoTexture&&function(e){const t=o.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&!0!==t.isExternalTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)KC("WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void L(a,t,i);KC("WebGLRenderer: Texture marked for update but image is incomplete")}}else t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null);n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const A={[tA]:e.REPEAT,[nA]:e.CLAMP_TO_EDGE,[rA]:e.MIRRORED_REPEAT},C={[iA]:e.NEAREST,[aA]:e.NEAREST_MIPMAP_NEAREST,[oA]:e.NEAREST_MIPMAP_LINEAR,[sA]:e.LINEAR,[lA]:e.LINEAR_MIPMAP_NEAREST,[cA]:e.LINEAR_MIPMAP_LINEAR},P={[PC]:e.NEVER,[DC]:e.ALWAYS,[RC]:e.LESS,[kC]:e.LEQUAL,[NC]:e.EQUAL,[OC]:e.GEQUAL,[LC]:e.GREATER,[IC]:e.NOTEQUAL};function R(n,a){if(a.type!==gA||!1!==t.has("OES_texture_float_linear")||a.magFilter!==sA&&a.magFilter!==lA&&a.magFilter!==oA&&a.magFilter!==cA&&a.minFilter!==sA&&a.minFilter!==lA&&a.minFilter!==oA&&a.minFilter!==cA||KC("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),e.texParameteri(n,e.TEXTURE_WRAP_S,A[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,A[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,A[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,P[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(a.magFilter===iA)return;if(a.minFilter!==oA&&a.minFilter!==cA)return;if(a.type===gA&&!1===t.has("OES_texture_float_linear"))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function N(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));const i=n.source;let a=h.get(i);void 0===a&&(a={},h.set(i,a));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&M(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function k(e,t,n){return Math.floor(Math.floor(e/n)/t)}function L(t,o,s){let l=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(l=e.TEXTURE_3D);const c=N(t,o),u=o.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=_P.getPrimaries(_P.workingColorSpace),r=o.colorSpace===SC?null:_P.getPrimaries(o.colorSpace),h=o.colorSpace===SC||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let f=m(o.image,!1,i.maxTextureSize);f=V(o,f);const p=a.convert(o.format,o.colorSpace),y=a.convert(o.type);let w,S=b(o.internalFormat,p,y,o.colorSpace,o.isVideoTexture);R(l,o);const M=o.mipmaps,E=!0!==o.isVideoTexture,T=void 0===d.__version||!0===c,A=u.dataReady,C=_(o,f);if(o.isDepthTexture)S=x(o.format===AA,o.type),T&&(E?n.texStorage2D(e.TEXTURE_2D,1,S,f.width,f.height):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,null));else if(o.isDataTexture)if(M.length>0){E&&T&&n.texStorage2D(e.TEXTURE_2D,C,S,M[0].width,M[0].height);for(let t=0,r=M.length;t<r;t++)w=M[t],E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,y,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,y,w.data);o.generateMipmaps=!1}else E?(T&&n.texStorage2D(e.TEXTURE_2D,C,S,f.width,f.height),A&&function(t,r,i,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],i=t.start+t.count,a=k(n.start,r.width,4),l=k(t.start,r.width,4);n.start<=i+1&&a===l&&k(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,d=o.length;t<d;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),h=c,f=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,h,f,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}(o,f,p,y)):n.texImage2D(e.TEXTURE_2D,0,S,f.width,f.height,0,p,y,f.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){E&&T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,M[0].width,M[0].height,f.depth);for(let t=0,r=M.length;t<r;t++)if(w=M[t],o.format!==EA)if(null!==p)if(E){if(A)if(o.layerUpdates.size>0){const r=WF(w.width,w.height,o.format,o.type);for(const i of o.layerUpdates){const a=w.data.subarray(i*r/w.data.BYTES_PER_ELEMENT,(i+1)*r/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,w.width,w.height,1,p,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,w.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,w.data,0,0);else KC("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else E?A&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,f.depth,p,y,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,f.depth,0,p,y,w.data)}else{E&&T&&n.texStorage2D(e.TEXTURE_2D,C,S,M[0].width,M[0].height);for(let t=0,r=M.length;t<r;t++)w=M[t],o.format!==EA?null!==p?E?A&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data):KC("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,y,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,y,w.data)}else if(o.isDataArrayTexture)if(E){if(T&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,f.width,f.height,f.depth),A)if(o.layerUpdates.size>0){const t=WF(f.width,f.height,o.format,o.type);for(const r of o.layerUpdates){const i=f.data.subarray(r*t/f.data.BYTES_PER_ELEMENT,(r+1)*t/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,f.width,f.height,1,p,y,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(o.isData3DTexture)E?(T&&n.texStorage3D(e.TEXTURE_3D,C,S,f.width,f.height,f.depth),A&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)):n.texImage3D(e.TEXTURE_3D,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(o.isFramebufferTexture){if(T)if(E)n.texStorage2D(e.TEXTURE_2D,C,S,f.width,f.height);else{let t=f.width,r=f.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,y,null),t>>=1,r>>=1}}else if(M.length>0){if(E&&T){const t=H(M[0]);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}for(let t=0,r=M.length;t<r;t++)w=M[t],E?A&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,y,w):n.texImage2D(e.TEXTURE_2D,t,S,p,y,w);o.generateMipmaps=!1}else if(E){if(T){const t=H(f);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}A&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,y,f)}else n.texImage2D(e.TEXTURE_2D,0,S,p,y,f);g(o)&&v(l),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function I(t,i,o,l,c,u){const d=a.convert(o.format,o.colorSpace),h=a.convert(o.type),f=b(o.internalFormat,d,h,o.colorSpace),p=r.get(i),m=r.get(o);if(m.__renderTarget=i,!p.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,t,r,i.depth,0,d,h,null):n.texImage2D(c,u,f,t,r,0,d,h,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,m.__webglTexture,0,z(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,m.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function O(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=x(n.stencilBuffer,a),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;B(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,z(n),o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,z(n),o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],l=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=b(o.internalFormat,l,c,o.colorSpace);B(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,z(n),u,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,z(n),u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t,i,o){const l=!0===i.isWebGLCubeRenderTarget;if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const c=r.get(i.depthTexture);if(c.__renderTarget=i,c.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),l){if(void 0===c.__webglInit&&(c.__webglInit=!0,i.depthTexture.addEventListener("dispose",w)),void 0===c.__webglTexture){c.__webglTexture=e.createTexture(),n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),R(e.TEXTURE_CUBE_MAP,i.depthTexture);const t=a.convert(i.depthTexture.format),r=a.convert(i.depthTexture.type);let o;i.depthTexture.format===TA?o=e.DEPTH_COMPONENT24:i.depthTexture.format===AA&&(o=e.DEPTH24_STENCIL8);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,o,i.width,i.height,0,t,r,null)}}else T(i.depthTexture,0);const u=c.__webglTexture,d=z(i),h=l?e.TEXTURE_CUBE_MAP_POSITIVE_X+o:e.TEXTURE_2D,f=i.depthTexture.format===AA?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;if(i.depthTexture.format===TA)B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,f,h,u,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,f,h,u,0);else{if(i.depthTexture.format!==AA)throw new Error("Unknown depthTexture format");B(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,f,h,u,0,d):e.framebufferTexture2D(e.FRAMEBUFFER,f,h,u,0)}}function F(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener("dispose",t)};e.addEventListener("dispose",t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer)if(a)for(let e=0;e<6;e++)D(i.__webglFramebuffer[e],t,e);else{const e=t.texture.mipmaps;e&&e.length>0?D(i.__webglFramebuffer[0],t,0):D(i.__webglFramebuffer,t,0)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),O(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),O(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const U=[],j=[];function z(e){return Math.min(i.maxSamples,e.samples)}function B(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function V(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==EC&&n!==SC&&(_P.getTransfer(n)===AC?r===EA&&i===uA||KC("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):ZC("WebGLTextures: Unsupported texture color space:",n)),t}function H(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=E;return e>=i.maxTextures&&KC("WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,i):(t.isExternalTexture&&(a.__webglTexture=t.sourceTexture?t.sourceTexture:null),n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i))},this.setTexture3D=function(t,i){const a=r.get(t);!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version?L(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){const s=r.get(t);!0!==t.isCubeDepthTexture&&t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;const l=N(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=_P.getPrimaries(_P.workingColorSpace),r=o.colorSpace===SC?null:_P.getPrimaries(o.colorSpace),d=o.colorSpace===SC||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=o.isCompressedTexture||o.image[0].isCompressedTexture,f=o.image[0]&&o.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=h||f?f?o.image[e].image:o.image[e]:m(o.image[e],!0,i.maxCubemapSize),p[e]=V(o,p[e]);const y=p[0],x=a.convert(o.format,o.colorSpace),w=a.convert(o.type),S=b(o.internalFormat,x,w,o.colorSpace),M=!0!==o.isVideoTexture,E=void 0===u.__version||!0===l,T=c.dataReady;let A,C=_(o,y);if(R(e.TEXTURE_CUBE_MAP,o),h){M&&E&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,y.width,y.height);for(let t=0;t<6;t++){A=p[t].mipmaps;for(let r=0;r<A.length;r++){const i=A[r];o.format!==EA?null!==x?M?T&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data):KC("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,w,i.data)}}}else{if(A=o.mipmaps,M&&E){A.length>0&&C++;const t=H(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,t.width,t.height)}for(let t=0;t<6;t++)if(f){M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,w,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,w,p[t].data);for(let r=0;r<A.length;r++){const i=A[r].image[t].image;M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,w,i.data)}}else{M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,p[t]);for(let r=0;r<A.length;r++){const i=A[r];M?T&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,w,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,w,i.image[t])}}}g(o)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&I(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&F(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",S);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===B(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=b(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),u=z(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),O(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),R(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)I(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);let l=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(l,o.__webglTexture),R(l,a),I(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,l,0),g(a)&&v(l)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),R(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)I(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else I(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&F(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(g(a)){const t=y(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===B(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const h=t.texture.mipmaps;h&&h.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===l&&(U.length=0,j.length=0,U.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(U.push(c),j.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,j)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,U))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=F,this.setupFrameBufferTexture=I,this.useMultisampledRTT=B,this.isReversedDepthBuffer=function(){return n.buffers.depth.getReversed()}}function Cz(e,t){return{convert:function(n,r=""){let i;const a=_P.getTransfer(r);if(n===uA)return e.UNSIGNED_BYTE;if(n===yA)return e.UNSIGNED_SHORT_4_4_4_4;if(n===bA)return e.UNSIGNED_SHORT_5_5_5_1;if(n===_A)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===wA)return e.UNSIGNED_INT_10F_11F_11F_REV;if(n===dA)return e.BYTE;if(n===hA)return e.SHORT;if(n===fA)return e.UNSIGNED_SHORT;if(n===pA)return e.INT;if(n===mA)return e.UNSIGNED_INT;if(n===gA)return e.FLOAT;if(n===vA)return e.HALF_FLOAT;if(n===SA)return e.ALPHA;if(n===MA)return e.RGB;if(n===EA)return e.RGBA;if(n===TA)return e.DEPTH_COMPONENT;if(n===AA)return e.DEPTH_STENCIL;if(n===CA)return e.RED;if(n===PA)return e.RED_INTEGER;if(n===RA)return e.RG;if(n===NA)return e.RG_INTEGER;if(n===kA)return e.RGBA_INTEGER;if(n===LA||n===IA||n===OA||n===DA)if(a===AC){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===LA)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===IA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===OA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===DA)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===LA)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===IA)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===OA)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===DA)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===FA||n===UA||n===jA||n===zA){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===FA)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===UA)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===jA)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===zA)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===BA||n===VA||n===HA||n===WA||n===GA||n===qA||n===XA){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===BA||n===VA)return a===AC?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===HA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC;if(n===WA)return i.COMPRESSED_R11_EAC;if(n===GA)return i.COMPRESSED_SIGNED_R11_EAC;if(n===qA)return i.COMPRESSED_RG11_EAC;if(n===XA)return i.COMPRESSED_SIGNED_RG11_EAC}if(n===$A||n===YA||n===KA||n===ZA||n===JA||n===QA||n===eC||n===tC||n===nC||n===rC||n===iC||n===aC||n===oC||n===sC){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===$A)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===YA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===KA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ZA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===JA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===QA)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===eC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===tC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===nC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===rC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===iC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===aC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===oC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===sC)return a===AC?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===lC||n===cC||n===uC){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===lC)return a===AC?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===cC)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===uC)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===dC||n===hC||n===fC||n===pC){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===dC)return i.COMPRESSED_RED_RGTC1_EXT;if(n===hC)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===fC)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===pC)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===xA?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Pz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(null===this.texture){const n=new QL(e.texture);e.depthNear===t.depthNear&&e.depthFar===t.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new WN({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new FN(new mO(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Rz extends QC{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p="undefined"!=typeof XRWebGLBinding,m=new Pz,g={},v=t.getContextAttributes();let y=null,b=null;const x=[],_=[],w=new dP;let S=null;const M=new YN;M.viewport=new kP;const E=new YN;E.viewport=new kP;const T=[M,E],A=new VD;let C=null,P=null;function R(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=x[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function N(){r.removeEventListener("select",R),r.removeEventListener("selectstart",R),r.removeEventListener("selectend",R),r.removeEventListener("squeeze",R),r.removeEventListener("squeezestart",R),r.removeEventListener("squeezeend",R),r.removeEventListener("end",N),r.removeEventListener("inputsourceschange",k);for(let e=0;e<x.length;e++){const t=_[e];null!==t&&(_[e]=null,x[e].disconnect(t))}C=null,P=null,m.reset();for(const e in g)delete g[e];e.setRenderTarget(y),h=null,d=null,u=null,r=null,b=null,F.stop(),n.isPresenting=!1,e.setPixelRatio(S),e.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function k(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,x[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=_.indexOf(n);if(-1===r){for(let e=0;e<x.length;e++){if(e>=_.length){_.push(n),r=e;break}if(null===_[e]){_[e]=n,r=e;break}}if(-1===r)break}const i=x[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=x[e];return void 0===t&&(t=new nk,x[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=x[e];return void 0===t&&(t=new nk,x[e]=t),t.getGripSpace()},this.getHand=function(e){let t=x[e];return void 0===t&&(t=new nk,x[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&KC("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&KC("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||a},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return null===u&&p&&(u=new XRWebGLBinding(r,t)),u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(y=e.getRenderTarget(),r.addEventListener("select",R),r.addEventListener("selectstart",R),r.addEventListener("selectend",R),r.addEventListener("squeeze",R),r.addEventListener("squeezestart",R),r.addEventListener("squeezeend",R),r.addEventListener("end",N),r.addEventListener("inputsourceschange",k),!0!==v.xrCompatible&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(w),p&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,a=null,o=null;v.depth&&(o=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=v.stencil?AA:TA,a=v.stencil?xA:mA);const s={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};u=this.getBinding(),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new IP(d.textureWidth,d.textureHeight,{format:EA,type:uA,depthTexture:new ZL(d.textureWidth,d.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),b=new IP(h.framebufferWidth,h.framebufferHeight,{format:EA,type:uA,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}b.isXRRenderTarget=!0,this.setFoveation(s),l=null,a=await r.requestReferenceSpace(o),F.setContext(r),F.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const L=new fP,I=new fP;function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==m.texture&&(m.depthNear>0&&(t=m.depthNear),m.depthFar>0&&(n=m.depthFar)),A.near=E.near=M.near=t,A.far=E.far=M.far=n,C===A.near&&P===A.far||(r.updateRenderState({depthNear:A.near,depthFar:A.far}),C=A.near,P=A.far),A.layers.mask=6|e.layers.mask,M.layers.mask=3&A.layers.mask,E.layers.mask=5&A.layers.mask;const i=e.parent,a=A.cameras;O(A,i);for(let r=0;r<a.length;r++)O(a[r],i);2===a.length?function(e,t,n){L.setFromMatrixPosition(t.matrixWorld),I.setFromMatrixPosition(n.matrixWorld);const r=L.distanceTo(I),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],h=o*u,f=o*d,p=r/(-u+d),m=p*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+p,n=s+p,i=h-m,a=f+(r-m),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}(A,M,E):A.projectionMatrix.copy(M.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*rP*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,A,i)},this.getCamera=function(){return A},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(A)},this.getCameraTexture=function(e){return g[e]};let D=null;const F=new GF;F.setAnimationLoop(function(t,i){if(c=i.getViewerPose(l||a),f=i,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(b,h.framebuffer),e.setRenderTarget(b));let i=!1;t.length!==A.cameras.length&&(A.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){const r=t[n];let a=null;if(null!==h)a=h.getViewport(r);else{const t=u.getViewSubImage(d,r);a=t.viewport,0===n&&(e.setRenderTargetTextures(b,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(b))}let o=T[n];void 0===o&&(o=new YN,o.layers.enable(n),o.viewport=new kP,T[n]=o),o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(r.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===n&&(A.matrix.copy(o.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),!0===i&&A.cameras.push(o)}const a=r.enabledFeatures;if(a&&a.includes("depth-sensing")&&"gpu-optimized"==r.depthUsage&&p){u=n.getBinding();const e=u.getDepthInformation(t[0]);e&&e.isValid&&e.texture&&m.init(e,r.renderState)}if(a&&a.includes("camera-access")&&p){e.state.unbindTexture(),u=n.getBinding();for(let e=0;e<t.length;e++){const n=t[e].camera;if(n){let e=g[n];e||(e=new QL,g[n]=e);const t=u.getCameraImage(n);e.sourceTexture=t}}}}for(let e=0;e<x.length;e++){const t=_[e],n=x[e];null!==t&&void 0!==n&&n.update(t,i,l||a)}D&&D(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),f=null}),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}const Nz=new xR,kz=new uR;function Lz(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,Nz.copy(o),Nz.x*=-1,Nz.y*=-1,Nz.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(Nz.y*=-1,Nz.z*=-1),e.envMapRotation.value.setFromMatrix4(kz.makeRotationFromEuler(Nz)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,VN(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Iz(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const e=r[a];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?KC("WebGLRenderer: Texture samplers can not be part of an uniforms group."):KC("WebGLRenderer: Unsupported uniform value type.",e),t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,d){let h=i[n.id];void 0===h&&(function(e){const t=e.uniforms;let n=0;const r=16;for(let a=0,o=t.length;a<o;a++){const e=Array.isArray(t[a])?t[a]:[t[a]];for(let t=0,i=e.length;t<i;t++){const i=e[t],a=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=a.length;e<t;e++){const t=c(a[e]),o=n%r,s=o%t.boundary,l=o+s;n+=s,0!==l&&r-l<t.storage&&(n+=r-l),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i),e.__size=n,e.__cache={}}(n),h=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return ZC("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=h,n.addEventListener("dispose",u));const f=d.program;r.updateUBOMapping(n,f);const p=t.render.frame;a[n.id]!==p&&(function(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,o=r.length;i<o;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,a)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let a=0;a<n.length;a++){const o=n[a],s=c(o);"number"==typeof o||"boolean"==typeof o?(r.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):o.isMatrix3?(r.__data[0]=o.elements[0],r.__data[1]=o.elements[1],r.__data[2]=o.elements[2],r.__data[3]=0,r.__data[4]=o.elements[3],r.__data[5]=o.elements[4],r.__data[6]=o.elements[5],r.__data[7]=0,r.__data[8]=o.elements[6],r.__data[9]=o.elements[7],r.__data[10]=o.elements[8],r.__data[11]=0):(o.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}const Oz=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let Dz=null;class Fz{constructor(e={}){const{canvas:t=qC(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:d=!1,outputBufferType:h=uA}=e;let f;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=n.getContextAttributes().alpha}else f=a;const p=h,m=new Set([kA,NA,PA]),g=new Set([uA,mA,fA,xA,yA,bA]),v=new Uint32Array(4),y=new Int32Array(4);let b=null,x=null;const _=[],w=[];let S=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let E=!1;this._outputColorSpace=MC;let T=0,A=0,C=null,P=-1,R=null;const N=new kP,k=new kP;let L=null;const I=new nN(0);let O=0,D=t.width,F=t.height,U=1,j=null,z=null;const B=new kP(0,0,D,F),V=new kP(0,0,D,F);let H=!1;const W=new aL;let G=!1,q=!1;const X=new uR,$=new fP,Y=new kP,K={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Z=!1;function J(){return null===C?U:1}let Q,ee,te,ne,re,ie,ae,oe,se,le,ce,ue,de,he,fe,pe,me,ge,ve,ye,be,xe,_e,we,Se=n;function Me(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${aT}`),t.addEventListener("webglcontextlost",Ae,!1),t.addEventListener("webglcontextrestored",Ce,!1),t.addEventListener("webglcontextcreationerror",Pe,!1),null===Se){const t="webgl2";if(Se=Me(t,e),null===Se)throw Me(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Xe){throw ZC("WebGLRenderer: "+Xe.message),Xe}function Ee(){Q=new xU(Se),Q.init(),xe=new Cz(Se,Q),ee=new nU(Se,Q,e,xe),te=new Tz(Se,Q),ee.reversedDepthBuffer&&d&&te.buffers.depth.setReversed(!0),ne=new SU(Se),re=new lz,ie=new Az(Se,Q,te,re,ee,xe,ne),ae=new iU(M),oe=new bU(M),se=new qF(Se),_e=new eU(Se,se),le=new _U(Se,se,ne,_e),ce=new EU(Se,le,se,ne),ve=new MU(Se,ee,ie),pe=new rU(re),ue=new sz(M,ae,oe,Q,ee,_e,pe),de=new Lz(M,re),he=new hz,fe=new yz(Q),ge=new QF(M,ae,oe,te,ce,f,s),me=new Mz(M,ce,ee),we=new Iz(Se,ne,ee,te),ye=new tU(Se,Q,ne),be=new wU(Se,Q,ne),ne.programs=ue.programs,M.capabilities=ee,M.extensions=Q,M.properties=re,M.renderLists=he,M.shadowMap=me,M.state=te,M.info=ne}Ee(),p!==uA&&(S=new AU(p,t.width,t.height,r,i));const Te=new Rz(M,Se);function Ae(e){e.preventDefault(),YC("WebGLRenderer: Context Lost."),E=!0}function Ce(){YC("WebGLRenderer: Context Restored."),E=!1;const e=ne.autoReset,t=me.enabled,n=me.autoUpdate,r=me.needsUpdate,i=me.type;Ee(),ne.autoReset=e,me.enabled=t,me.autoUpdate=n,me.needsUpdate=r,me.type=i}function Pe(e){ZC("WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Re(e){const t=e.target;t.removeEventListener("dispose",Re),function(e){(function(e){const t=re.get(e).programs;void 0!==t&&(t.forEach(function(e){ue.releaseProgram(e)}),e.isShaderMaterial&&ue.releaseShaderCache(e))})(e),re.remove(e)}(t)}function Ne(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Be(e,t,n),e.side=0,e.needsUpdate=!0,Be(e,t,n),e.side=2):Be(e,t,n)}this.xr=Te,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){const e=Q.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=Q.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(e){void 0!==e&&(U=e,this.setSize(D,F,!1))},this.getSize=function(e){return e.set(D,F)},this.setSize=function(e,n,r=!0){Te.isPresenting?KC("WebGLRenderer: Can't change size while VR device is presenting."):(D=e,F=n,t.width=Math.floor(e*U),t.height=Math.floor(n*U),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),null!==S&&S.setSize(t.width,t.height),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(D*U,F*U).floor()},this.setDrawingBufferSize=function(e,n,r){D=e,F=n,U=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.setEffects=function(e){if(p!==uA){if(e)for(let t=0;t<e.length&&!0!==e[t].isOutputPass;t++);S.setEffects(e||[])}},this.getCurrentViewport=function(e){return e.copy(N)},this.getViewport=function(e){return e.copy(B)},this.setViewport=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),te.viewport(N.copy(B).multiplyScalar(U).round())},this.getScissor=function(e){return e.copy(V)},this.setScissor=function(e,t,n,r){e.isVector4?V.set(e.x,e.y,e.z,e.w):V.set(e,t,n,r),te.scissor(k.copy(V).multiplyScalar(U).round())},this.getScissorTest=function(){return H},this.setScissorTest=function(e){te.setScissorTest(H=e)},this.setOpaqueSort=function(e){j=e},this.setTransparentSort=function(e){z=e},this.getClearColor=function(e){return e.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor(...arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==C){const t=C.texture.format;e=m.has(t)}if(e){const e=C.texture.type,t=g.has(e),n=ge.getClearColor(),r=ge.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(v[0]=i,v[1]=a,v[2]=o,v[3]=r,Se.clearBufferuiv(Se.COLOR,0,v)):(y[0]=i,y[1]=a,y[2]=o,y[3]=r,Se.clearBufferiv(Se.COLOR,0,y))}else r|=Se.COLOR_BUFFER_BIT}t&&(r|=Se.DEPTH_BUFFER_BIT),n&&(r|=Se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Se.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ae,!1),t.removeEventListener("webglcontextrestored",Ce,!1),t.removeEventListener("webglcontextcreationerror",Pe,!1),ge.dispose(),he.dispose(),fe.dispose(),re.dispose(),ae.dispose(),oe.dispose(),ce.dispose(),_e.dispose(),we.dispose(),ue.dispose(),Te.dispose(),Te.removeEventListener("sessionstart",Le),Te.removeEventListener("sessionend",Ie),Oe.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=K);const o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=K),ie.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===C?M.outputColorSpace:!0===C.isXRRenderTarget?C.texture.colorSpace:EC,l=(r.isMeshStandardMaterial?oe:ae).get(r.envMap||o),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==C&&!0!==C.isXRRenderTarget||(p=M.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,v=re.get(r),y=x.state.lights;if(!0===G&&(!0===q||e!==R)){const t=e===R&&r.id===P;pe.setState(r,e,t)}let b=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==s||i.isBatchedMesh&&!1===v.batching?b=!0:i.isBatchedMesh||!0!==v.batching?i.isBatchedMesh&&!0===v.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===v.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===v.instancing?b=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?b=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===v.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===v.instancingMorph&&null!==i.morphTexture||v.envMap!==l||!0===r.fog&&v.fog!==a?b=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===pe.numPlanes&&v.numIntersection===pe.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==f||v.toneMapping!==p||v.morphTargetsCount!==g)&&(b=!0):b=!0:b=!0:b=!0:b=!0:(b=!0,v.__version=r.version);let _=v.currentProgram;!0===b&&(_=Be(r,t,i));let w=!1,S=!1,E=!1;const T=_.getUniforms(),A=v.uniforms;if(te.useProgram(_.program)&&(w=!0,S=!0,E=!0),r.id!==P&&(P=r.id,S=!0),w||R!==e){te.buffers.depth.getReversed()&&!0!==e.reversedDepth&&(e._reversedDepth=!0,e.updateProjectionMatrix()),T.setValue(Se,"projectionMatrix",e.projectionMatrix),T.setValue(Se,"viewMatrix",e.matrixWorldInverse);const t=T.map.cameraPosition;void 0!==t&&t.setValue(Se,$.setFromMatrixPosition(e.matrixWorld)),ee.logarithmicDepthBuffer&&T.setValue(Se,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&T.setValue(Se,"isOrthographic",!0===e.isOrthographicCamera),R!==e&&(R=e,S=!0,E=!0)}if(v.needsLights&&(y.state.directionalShadowMap.length>0&&T.setValue(Se,"directionalShadowMap",y.state.directionalShadowMap,ie),y.state.spotShadowMap.length>0&&T.setValue(Se,"spotShadowMap",y.state.spotShadowMap,ie),y.state.pointShadowMap.length>0&&T.setValue(Se,"pointShadowMap",y.state.pointShadowMap,ie)),i.isSkinnedMesh){T.setOptional(Se,i,"bindMatrix"),T.setOptional(Se,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),T.setValue(Se,"boneTexture",e.boneTexture,ie))}i.isBatchedMesh&&(T.setOptional(Se,i,"batchingTexture"),T.setValue(Se,"batchingTexture",i._matricesTexture,ie),T.setOptional(Se,i,"batchingIdTexture"),T.setValue(Se,"batchingIdTexture",i._indirectTexture,ie),T.setOptional(Se,i,"batchingColorTexture"),null!==i._colorsTexture&&T.setValue(Se,"batchingColorTexture",i._colorsTexture,ie));const N=n.morphAttributes;var k,L;if(void 0===N.position&&void 0===N.normal&&void 0===N.color||ve.update(i,n,_),(S||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,T.setValue(Se,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(A.envMap.value=l,A.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(A.envMapIntensity.value=t.environmentIntensity),void 0!==A.dfgLUT&&(A.dfgLUT.value=(null===Dz&&(Dz=new jk(Oz,16,16,RA,vA),Dz.name="DFG_LUT",Dz.minFilter=sA,Dz.magFilter=sA,Dz.wrapS=nA,Dz.wrapT=nA,Dz.generateMipmaps=!1,Dz.needsUpdate=!0),Dz)),S&&(T.setValue(Se,"toneMappingExposure",M.toneMappingExposure),v.needsLights&&(L=E,(k=A).ambientLightColor.needsUpdate=L,k.lightProbe.needsUpdate=L,k.directionalLights.needsUpdate=L,k.directionalLightShadows.needsUpdate=L,k.pointLights.needsUpdate=L,k.pointLightShadows.needsUpdate=L,k.spotLights.needsUpdate=L,k.spotLightShadows.needsUpdate=L,k.rectAreaLights.needsUpdate=L,k.hemisphereLights.needsUpdate=L),a&&!0===r.fog&&de.refreshFogUniforms(A,a),de.refreshMaterialUniforms(A,r,U,F,x.state.transmissionRenderTarget[e.id]),kj.upload(Se,Ve(v),A,ie)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(kj.upload(Se,Ve(v),A,ie),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&T.setValue(Se,"center",i.center),T.setValue(Se,"modelViewMatrix",i.modelViewMatrix),T.setValue(Se,"normalMatrix",i.normalMatrix),T.setValue(Se,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];we.update(n,_),we.bind(n,_)}}return _}(e,t,n,r,i);te.setMaterial(r,o);let l=n.index,c=1;if(!0===r.wireframe){if(l=le.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==a&&(h=Math.max(h,a.start*c),f=Math.min(f,(a.start+a.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):null!=d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;_e.setup(i,r,s,n,l);let g=ye;if(null!==l&&(m=se.get(l),g=be,g.setIndex(m)),i.isMesh)!0===r.wireframe?(te.setLineWidth(r.wireframeLinewidth*J()),g.setMode(Se.LINES)):g.setMode(Se.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),te.setLineWidth(e*J()),i.isLineSegments?g.setMode(Se.LINES):i.isLineLoop?g.setMode(Se.LINE_LOOP):g.setMode(Se.LINE_STRIP)}else i.isPoints?g.setMode(Se.POINTS):i.isSprite&&g.setMode(Se.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)JC("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(Q.get("WEBGL_multi_draw"))g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=l?se.get(l).bytesPerElement:1,o=re.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(Se,"_gl_DrawID",r),g.render(e[r]/a,t[r])}else if(i.isInstancedMesh)g.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,p,t)}else g.render(h,p)},this.compile=function(e,t,n=null){null===n&&(n=e),x=fe.get(n),x.init(t),w.push(x),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(x.pushLight(e),e.castShadow&&x.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(x.pushLight(e),e.castShadow&&x.pushShadow(e))}),x.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];Ne(a,n,e),r.add(a)}else Ne(t,n,e),r.add(t)}),x=w.pop(),r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){re.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==Q.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let ke=null;function Le(){Oe.stop()}function Ie(){Oe.start()}const Oe=new GF;function De(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)x.pushLight(e),e.castShadow&&x.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||W.intersectsSprite(e)){r&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4(X);const t=ce.update(e),i=e.material;i.visible&&b.push(e,t,i,n,Y.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||W.intersectsObject(e))){const t=ce.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),Y.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),Y.copy(t.boundingSphere.center)),Y.applyMatrix4(e.matrixWorld).applyMatrix4(X)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&b.push(e,t,s,n,Y.z,o)}}else i.visible&&b.push(e,t,i,n,Y.z,null)}const i=e.children;for(let a=0,o=i.length;a<o;a++)De(i[a],t,n,r)}function Fe(e,t,n,r){const{opaque:i,transmissive:a,transparent:o}=e;x.setupLightsView(n),!0===G&&pe.setGlobalState(M.clippingPlanes,n),r&&te.viewport(N.copy(r)),i.length>0&&je(i,t,n),a.length>0&&je(a,t,n),o.length>0&&je(o,t,n),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function Ue(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;if(void 0===x.state.transmissionRenderTarget[r.id]){const e=Q.has("EXT_color_buffer_half_float")||Q.has("EXT_color_buffer_float");x.state.transmissionRenderTarget[r.id]=new IP(1,1,{generateMipmaps:!0,type:e?vA:uA,minFilter:cA,samples:ee.samples,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_P.workingColorSpace})}const a=x.state.transmissionRenderTarget[r.id],o=r.viewport||N;a.setSize(o.z*M.transmissionResolutionScale,o.w*M.transmissionResolutionScale);const s=M.getRenderTarget(),l=M.getActiveCubeFace(),c=M.getActiveMipmapLevel();M.setRenderTarget(a),M.getClearColor(I),O=M.getClearAlpha(),O<1&&M.setClearColor(16777215,.5),M.clear(),Z&&ge.render(n);const u=M.toneMapping;M.toneMapping=0;const d=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),x.setupLightsView(r),!0===G&&pe.setGlobalState(M.clippingPlanes,r),je(e,n,r),ie.updateMultisampleRenderTarget(a),ie.updateRenderTargetMipmap(a),!1===Q.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],{object:o,geometry:s,material:l,group:c}=a;if(2===l.side&&o.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,ze(o,n,r,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(ie.updateMultisampleRenderTarget(a),ie.updateRenderTargetMipmap(a))}M.setRenderTarget(s,l,c),M.setClearColor(I,O),void 0!==d&&(r.viewport=d),M.toneMapping=u}function je(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],{object:o,geometry:s,group:l}=a;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),o.layers.test(n.layers)&&ze(o,t,n,s,c,l)}}function ze(e,t,n,r,i,a){e.onBeforeRender(M,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(M,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,M.renderBufferDirect(n,t,r,i,e,a),i.side=0,i.needsUpdate=!0,M.renderBufferDirect(n,t,r,i,e,a),i.side=2):M.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(M,t,n,r,i,a)}function Be(e,t,n){!0!==t.isScene&&(t=K);const r=re.get(e),i=x.state.lights,a=x.state.shadowsArray,o=i.state.version,s=ue.getParameters(e,i.state,a,t,n),l=ue.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?oe:ae).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Re),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return He(e,s),u}else s.uniforms=ue.getUniforms(e),e.onBeforeCompile(s,M),u=ue.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=pe.uniform),He(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Ve(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=kj.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function He(e,t){const n=re.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Oe.setAnimationLoop(function(e){ke&&ke(e)}),"undefined"!=typeof self&&Oe.setContext(self),this.setAnimationLoop=function(e){ke=e,Te.setAnimationLoop(e),null===e?Oe.stop():Oe.start()},Te.addEventListener("sessionstart",Le),Te.addEventListener("sessionend",Ie),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void ZC("WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===E)return;const n=!0===Te.enabled&&!0===Te.isPresenting,r=null!==S&&(null===C||n)&&S.begin(M,C);if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0!==Te.enabled||!0!==Te.isPresenting||null!==S&&!1!==S.isCompositing()||(!0===Te.cameraAutoUpdate&&Te.updateCamera(t),t=Te.getCamera()),!0===e.isScene&&e.onBeforeRender(M,e,t,C),x=fe.get(e,w.length),x.init(t),w.push(x),X.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),W.setFromProjectionMatrix(X,jC,t.reversedDepth),q=this.localClippingEnabled,G=pe.init(this.clippingPlanes,q),b=he.get(e,_.length),b.init(),_.push(b),!0===Te.enabled&&!0===Te.isPresenting){const e=M.xr.getDepthSensingMesh();null!==e&&De(e,t,-1/0,M.sortObjects)}De(e,t,0,M.sortObjects),b.finish(),!0===M.sortObjects&&b.sort(j,z),Z=!1===Te.enabled||!1===Te.isPresenting||!1===Te.hasDepthSensing(),Z&&ge.addToRenderList(b,e),this.info.render.frame++,!0===G&&pe.beginShadows();const i=x.state.shadowsArray;if(me.render(i,e,t),!0===G&&pe.endShadows(),!0===this.info.autoReset&&this.info.reset(),!1===(r&&S.hasRenderPass())){const n=b.opaque,r=b.transmissive;if(x.setupLights(),t.isArrayCamera){const i=t.cameras;if(r.length>0)for(let t=0,a=i.length;t<a;t++)Ue(n,r,e,i[t]);Z&&ge.render(e);for(let t=0,n=i.length;t<n;t++){const n=i[t];Fe(b,e,n,n.viewport)}}else r.length>0&&Ue(n,r,e,t),Z&&ge.render(e),Fe(b,e,t)}null!==C&&0===A&&(ie.updateMultisampleRenderTarget(C),ie.updateRenderTargetMipmap(C)),r&&S.end(M),!0===e.isScene&&e.onAfterRender(M,e,t),_e.resetDefaultState(),P=-1,R=null,w.pop(),w.length>0?(x=w[w.length-1],!0===G&&pe.setGlobalState(M.clippingPlanes,x.state.camera)):x=null,_.pop(),b=_.length>0?_[_.length-1]:null},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(e,t,n){const r=re.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),re.get(e.texture).__webglTexture=t,re.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=re.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const We=Se.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){C=e,T=t,A=n;let r=null,i=!1,a=!1;if(e){const o=re.get(e);if(void 0!==o.__useDefaultFramebuffer)return te.bindFramebuffer(Se.FRAMEBUFFER,o.__webglFramebuffer),N.copy(e.viewport),k.copy(e.scissor),L=e.scissorTest,te.viewport(N),te.scissor(k),te.setScissorTest(L),void(P=-1);if(void 0===o.__webglFramebuffer)ie.setupRenderTarget(e);else if(o.__hasExternalTextures)ie.rebindTextures(e,re.get(e.texture).__webglTexture,re.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(o.__boundDepthTexture!==t){if(null!==t&&re.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ie.setupDepthRenderbuffer(e)}}const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=re.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=Array.isArray(l[t])?l[t][n]:l[t],i=!0):r=e.samples>0&&!1===ie.useMultisampledRTT(e)?re.get(e).__webglMultisampledFramebuffer:Array.isArray(l)?l[n]:l,N.copy(e.viewport),k.copy(e.scissor),L=e.scissorTest}else N.copy(B).multiplyScalar(U).floor(),k.copy(V).multiplyScalar(U).floor(),L=H;if(0!==n&&(r=We),te.bindFramebuffer(Se.FRAMEBUFFER,r)&&te.drawBuffers(e,r),te.viewport(N),te.scissor(k),te.setScissorTest(L),i){const r=re.get(e.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=t;for(let t=0;t<e.textures.length;t++){const i=re.get(e.textures[t]);Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0+t,i.__webglTexture,n,r)}}else if(null!==e&&0!==n){const t=re.get(e.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,t.__webglTexture,n)}P=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o,s=0){if(!e||!e.isWebGLRenderTarget)return void ZC("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=re.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){te.bindFramebuffer(Se.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!ee.textureFormatReadable(l))return void ZC("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!ee.textureTypeReadable(c))return void ZC("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&(e.textures.length>1&&Se.readBuffer(Se.COLOR_ATTACHMENT0+s),Se.readPixels(t,n,r,i,xe.convert(l),xe.convert(c),a))}finally{const e=null!==C?re.get(C).__webglFramebuffer:null;te.bindFramebuffer(Se.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o,s=0){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=re.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){te.bindFramebuffer(Se.FRAMEBUFFER,l);const o=e.textures[s],c=o.format,u=o.type;if(!ee.textureFormatReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ee.textureTypeReadable(u))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const d=Se.createBuffer();Se.bindBuffer(Se.PIXEL_PACK_BUFFER,d),Se.bufferData(Se.PIXEL_PACK_BUFFER,a.byteLength,Se.STREAM_READ),e.textures.length>1&&Se.readBuffer(Se.COLOR_ATTACHMENT0+s),Se.readPixels(t,n,r,i,xe.convert(c),xe.convert(u),0);const h=null!==C?re.get(C).__webglFramebuffer:null;te.bindFramebuffer(Se.FRAMEBUFFER,h);const f=Se.fenceSync(Se.SYNC_GPU_COMMANDS_COMPLETE,0);return Se.flush(),await function(e,t,n){return new Promise(function(r,i){setTimeout(function a(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}},n)})}(Se,f,4),Se.bindBuffer(Se.PIXEL_PACK_BUFFER,d),Se.getBufferSubData(Se.PIXEL_PACK_BUFFER,0,a),Se.deleteBuffer(d),Se.deleteSync(f),a}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(e,t=null,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;ie.setTexture2D(e,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,n,0,0,o,s,i,a),te.unbindTexture()};const Ge=Se.createFramebuffer(),qe=Se.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=null){let o,s,l,c,u,d,h,f,p;null===a&&(0!==i?(JC("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),a=i,i=0):a=0);const m=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)o=n.max.x-n.min.x,s=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-i);o=Math.floor(m.width*t),s=Math.floor(m.height*t),l=e.isDataArrayTexture?m.depth:e.isData3DTexture?Math.floor(m.depth*t):1,c=0,u=0,d=0}null!==r?(h=r.x,f=r.y,p=r.z):(h=0,f=0,p=0);const g=xe.convert(t.format),v=xe.convert(t.type);let y;t.isData3DTexture?(ie.setTexture3D(t,0),y=Se.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(ie.setTexture2DArray(t,0),y=Se.TEXTURE_2D_ARRAY):(ie.setTexture2D(t,0),y=Se.TEXTURE_2D),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,t.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,t.unpackAlignment);const b=Se.getParameter(Se.UNPACK_ROW_LENGTH),x=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),_=Se.getParameter(Se.UNPACK_SKIP_PIXELS),w=Se.getParameter(Se.UNPACK_SKIP_ROWS),S=Se.getParameter(Se.UNPACK_SKIP_IMAGES);Se.pixelStorei(Se.UNPACK_ROW_LENGTH,m.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,m.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,c),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,u),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,d);const M=e.isDataArrayTexture||e.isData3DTexture,E=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=re.get(e),r=re.get(t),m=re.get(n.__renderTarget),g=re.get(r.__renderTarget);te.bindFramebuffer(Se.READ_FRAMEBUFFER,m.__webglFramebuffer),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,g.__webglFramebuffer);for(let v=0;v<l;v++)M&&(Se.framebufferTextureLayer(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,re.get(e).__webglTexture,i,d+v),Se.framebufferTextureLayer(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,re.get(t).__webglTexture,a,p+v)),Se.blitFramebuffer(c,u,o,s,h,f,o,s,Se.DEPTH_BUFFER_BIT,Se.NEAREST);te.bindFramebuffer(Se.READ_FRAMEBUFFER,null),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,null)}else if(0!==i||e.isRenderTargetTexture||re.has(e)){const n=re.get(e),r=re.get(t);te.bindFramebuffer(Se.READ_FRAMEBUFFER,Ge),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,qe);for(let e=0;e<l;e++)M?Se.framebufferTextureLayer(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,n.__webglTexture,i,d+e):Se.framebufferTexture2D(Se.READ_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,n.__webglTexture,i),E?Se.framebufferTextureLayer(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,r.__webglTexture,a,p+e):Se.framebufferTexture2D(Se.DRAW_FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_2D,r.__webglTexture,a),0!==i?Se.blitFramebuffer(c,u,o,s,h,f,o,s,Se.COLOR_BUFFER_BIT,Se.NEAREST):E?Se.copyTexSubImage3D(y,a,h,f,p+e,c,u,o,s):Se.copyTexSubImage2D(y,a,h,f,c,u,o,s);te.bindFramebuffer(Se.READ_FRAMEBUFFER,null),te.bindFramebuffer(Se.DRAW_FRAMEBUFFER,null)}else E?e.isDataTexture||e.isData3DTexture?Se.texSubImage3D(y,a,h,f,p,o,s,l,g,v,m.data):t.isCompressedArrayTexture?Se.compressedTexSubImage3D(y,a,h,f,p,o,s,l,g,m.data):Se.texSubImage3D(y,a,h,f,p,o,s,l,g,v,m):e.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,a,h,f,o,s,g,v,m.data):e.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,a,h,f,m.width,m.height,g,m.data):Se.texSubImage2D(Se.TEXTURE_2D,a,h,f,o,s,g,v,m);Se.pixelStorei(Se.UNPACK_ROW_LENGTH,b),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,x),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,_),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,w),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,S),0===a&&t.generateMipmaps&&Se.generateMipmap(y),te.unbindTexture()},this.initRenderTarget=function(e){void 0===re.get(e).__webglFramebuffer&&ie.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?ie.setTextureCube(e,0):e.isData3DTexture?ie.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ie.setTexture2DArray(e,0):ie.setTexture2D(e,0),te.unbindTexture()},this.resetState=function(){T=0,A=0,C=null,te.reset(),_e.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return jC}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=_P._getDrawingBufferColorSpace(e),t.unpackColorSpace=_P._getUnpackColorSpace()}}const Uz=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:4,AddEquation:dT,AddOperation:2,AdditiveAnimationBlendMode:wC,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:SA,AlwaysCompare:519,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:ED,AnimationAction:lF,AnimationClip:eD,AnimationLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lD(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):ZC(a),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=eD.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends QC{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,a[u]=l;else{if(l=a[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new eF(sF.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),a[u]=l}o[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{const t=a.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new WO(new Float32Array(2),new Float32Array(2),1,cF),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let a="string"==typeof e?eD.findByName(r,e):e;const o=null!==a?a.uuid:e,s=this._actionsByClip[o];let l=null;if(void 0===n&&(n=null!==a?a.blendMode:_C),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;const c=new lF(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?eD.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(r,e,i,a);const o=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)o[l].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,a=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,a._cacheIndex=i,t[i]=a,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=iP(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length;let o,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=t[d];if(void 0===h){h=s++,t[d]=h,e.push(u);for(let e=0,t=a;e!==t;++e)i[e].push(new sF(u,n[e],r[e]))}else if(h<l){o=e[h];const s=--l,c=e[s];t[c.uuid]=h,e[h]=c,t[d]=s,e[s]=u;for(let e=0,t=a;e!==t;++e){const t=i[e],a=t[s];let o=t[h];t[h]=a,void 0===o&&(o=new sF(u,n[e],r[e])),t[s]=o}}else e[h]!==o&&ZC("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a],s=o.uuid,l=t[s];if(void 0!==l&&l>=i){const a=i++,c=e[a];t[c.uuid]=l,e[l]=c,t[s]=a,e[a]=o;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[l];t[l]=r,t[a]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,a=e.length;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const o=--i,s=e[o],c=--a,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=o,e[o]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[c];t[l]=r,t[o]=i,t.pop()}}else{const i=--a,o=e[i];i>0&&(t[o.uuid]=l),e[l]=o,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(u);for(let d=c,h=s.length;d!==h;++d){const n=s[d];u[d]=new sF(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},AnimationUtils:class{static convertArray(e,t){return UO(e,t)}static isTypedArray(e){return WC(e)}static getKeyframeOrder(e){return jO(e)}static sortedArray(e,t,n){return zO(e,t,n)}static flattenJSON(e,t,n,r){BO(e,t,n,r)}static subclip(e,t,n,r,i=30){return function(e,t,n,r,i=30){const a=e.clone();a.name=t;const o=[];for(let l=0;l<a.tracks.length;++l){const e=a.tracks[l],t=e.getValueSize(),s=[],c=[];for(let a=0;a<e.times.length;++a){const o=e.times[a]*i;if(!(o<n||o>=r)){s.push(e.times[a]);for(let n=0;n<t;++n)c.push(e.values[a*t+n])}}0!==s.length&&(e.times=UO(s,e.times.constructor),e.values=UO(c,e.values.constructor),o.push(e))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}(e,t,n,r,i)}static makeClipAdditive(e,t=0,n=e,r=30){return function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,a=t/r;for(let o=0;o<i;++o){const t=n.tracks[o],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===r});if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=t.times.length-1;let h;if(a<=t.times[0]){const e=s,n=l-s;h=t.values.slice(e,n)}else if(a>=t.times[d]){const e=d*l+s,n=e+l-s;h=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(a),h=e.resultBuffer.slice(n,r)}"quaternion"===r&&(new hP).fromArray(h).normalize().conjugate().toArray(h);const f=i.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===r)hP.multiplyQuaternionsFlat(i.values,t,h,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=h[n]}}}return e.blendMode=wC,e}(e,t,n,r)}},ArcCurve:fI,ArrayCamera:VD,ArrowHelper:class extends FR{constructor(e=new fP(0,0,1),t=new fP(0,0,0),n=1,r=16776960,i=.2*n,a=.2*i){super(),this.type="ArrowHelper",void 0===VF&&(VF=new EN,VF.setAttribute("position",new vN([0,0,0,0,1,0],3)),HF=new rI(.5,1,5,1),HF.translate(0,-.5,0)),this.position.copy(t),this.line=new DL(VF,new CL({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new FN(HF,new oN({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{BF.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(BF,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:XT,Audio:YD,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:UD,AudioListener:class extends FR{constructor(){super(),this.type="AudioListener",this.context=UD.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HD}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(WD,GD,qD),XD.set(0,0,-1).applyQuaternion(GD),$D.set(0,1,0).applyQuaternion(GD),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(WD.x,e),t.positionY.linearRampToValueAtTime(WD.y,e),t.positionZ.linearRampToValueAtTime(WD.z,e),t.forwardX.linearRampToValueAtTime(XD.x,e),t.forwardY.linearRampToValueAtTime(XD.y,e),t.forwardZ.linearRampToValueAtTime(XD.z,e),t.upX.linearRampToValueAtTime($D.x,e),t.upY.linearRampToValueAtTime($D.y,e),t.upZ.linearRampToValueAtTime($D.z,e)}else t.setPosition(WD.x,WD.y,WD.z),t.setOrientation(XD.x,XD.y,XD.z,$D.x,$D.y,$D.z)}},AudioLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new lD(this.manager);function o(t){r?r(t):ZC(t),i.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{const n=e.slice(0);UD.getContext().decodeAudioData(n,function(e){t(e)}).catch(o)}catch(n){o(n)}},n,r)}},AxesHelper:class extends zL{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new EN;n.setAttribute("position",new vN(t,3)),n.setAttribute("color",new vN([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(n,new CL({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new nN,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:AL,Bone:Uk,BooleanKeyframeTrack:XO,Box2:class{constructor(e=new dP(1/0,1/0),t=new dP(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=yF.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:FP,Box3Helper:class extends zL{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new EN;r.setIndex(new pN(n,1)),r.setAttribute("position",new vN([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new CL({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxGeometry:jN,BoxHelper:class extends zL{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new EN;i.setIndex(new pN(n,1)),i.setAttribute("position",new pN(r,3)),super(i,new CL({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&zF.setFromObject(this.object),zF.isEmpty())return;const e=zF.min,t=zF.max,n=this.geometry.attributes.position,r=n.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:pN,BufferGeometry:EN,BufferGeometryLoader:kD,ByteType:dA,Cache:nD,Camera:GN,CameraHelper:class extends zL{constructor(e){const t=new EN,n=new CL({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],a={};function o(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),t.setAttribute("position",new vN(r,3)),t.setAttribute("color",new vN(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const l=new nN(16755200),c=new nN(16711680),u=new nN(43775),d=new nN(16777215),h=new nN(3355443);this.setColors(l,c,u,d,h)}setColors(e,t,n,r,i){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,i.r,i.g,i.b),a.setXYZ(41,i.r,i.g,i.b),a.setXYZ(42,i.r,i.g,i.b),a.setXYZ(43,i.r,i.g,i.b),a.setXYZ(44,i.r,i.g,i.b),a.setXYZ(45,i.r,i.g,i.b),a.setXYZ(46,i.r,i.g,i.b),a.setXYZ(47,i.r,i.g,i.b),a.setXYZ(48,i.r,i.g,i.b),a.setXYZ(49,i.r,i.g,i.b),a.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap;let n,r;if(UF.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),!0===this.camera.reversedDepth)n=1,r=0;else if(this.camera.coordinateSystem===jC)n=-1,r=1;else{if(this.camera.coordinateSystem!==zC)throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);n=0,r=1}jF("c",t,e,UF,0,0,n),jF("t",t,e,UF,0,0,r),jF("n1",t,e,UF,-1,-1,n),jF("n2",t,e,UF,1,-1,n),jF("n3",t,e,UF,-1,1,n),jF("n4",t,e,UF,1,1,n),jF("f1",t,e,UF,-1,-1,r),jF("f2",t,e,UF,1,-1,r),jF("f3",t,e,UF,-1,1,r),jF("f4",t,e,UF,1,1,r),jF("u1",t,e,UF,.7,1.1,n),jF("u2",t,e,UF,-.7,1.1,n),jF("u3",t,e,UF,0,2,n),jF("cf1",t,e,UF,-1,0,r),jF("cf2",t,e,UF,1,0,r),jF("cf3",t,e,UF,0,-1,r),jF("cf4",t,e,UF,0,1,r),jF("cn1",t,e,UF,-1,0,n),jF("cn2",t,e,UF,1,0,n),jF("cn3",t,e,UF,0,-1,n),jF("cn4",t,e,UF,0,1,n),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends NP{constructor(e,t,n,r,i,a,o,s,l){super(e,t,n,r,i,a,o,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:eI,CatmullRomCurve3:bI,CineonToneMapping:3,CircleGeometry:tI,ClampToEdgeWrapping:nA,Clock:HD,Color:nN,ColorKeyframeTrack:$O,ColorManagement:_P,CompressedArrayTexture:class extends KL{constructor(e,t,n,r,i,a){super(e,t,n,i,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=nA,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends KL{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,KT),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},CompressedTexture:KL,CompressedTextureLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=[],o=new KL,s=new lD(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],function(e){const n=i.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(o.minFilter=sA),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))},n,r)}if(Array.isArray(e))for(let u=0,d=e.length;u<d;++u)c(u);else s.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){a[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)a[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),a[t].format=n.format,a[t].width=n.width,a[t].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=sA),o.format=n.format,o.needsUpdate=!0,t&&t(o)},n,r);return o}},ConeGeometry:rI,ConstantAlphaFactor:213,ConstantColorFactor:211,Controls:class extends QC{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){void 0!==e?(null!==this.domElement&&this.disconnect(),this.domElement=e):KC("Controls: connect() now requires an element.")}disconnect(){}dispose(){}update(){}},CubeCamera:ZN,CubeDepthTexture:JL,CubeReflectionMapping:KT,CubeRefractionMapping:ZT,CubeTexture:JN,CubeTextureLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=new JN;i.colorSpace=MC;const a=new uD(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function s(n){a.load(e[n],function(e){i.images[n]=e,o++,6===o&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}},CubeUVReflectionMapping:eA,CubicBezierCurve:SI,CubicBezierCurve3:MI,CubicInterpolant:HO,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:dI,CurvePath:NI,CustomBlending:5,CustomToneMapping:5,CylinderGeometry:nI,Cylindrical:class{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:DP,DataArrayTexture:OP,DataTexture:jk,DataTextureLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=new jk,o=new lD(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,function(e){let n;try{n=i.parse(e)}catch(o){if(void 0===r)return void o(o);r(o)}void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:nA,a.wrapT=void 0!==n.wrapT?n.wrapT:nA,a.magFilter=void 0!==n.magFilter?n.magFilter:sA,a.minFilter=void 0!==n.minFilter?n.minFilter:sA,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(a.colorSpace=n.colorSpace),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=cA),1===n.mipmapCount&&(a.minFilter=sA),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n)},n,r),a}},DataUtils:class{static toHalfFloat(e){return cN(e)}static fromHalfFloat(e){return uN(e)}},DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:iD,DepthFormat:TA,DepthStencilFormat:AA,DepthTexture:ZL,DetachedBindMode:$T,DirectionalLight:MD,DirectionalLightHelper:class extends FR{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new EN;r.setAttribute("position",new vN([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new CL({fog:!1,toneMapped:!1});this.lightPlane=new DL(r,i),this.add(this.lightPlane),r=new EN,r.setAttribute("position",new vN([0,0,0,0,0,1],3)),this.targetLine=new DL(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),IF.setFromMatrixPosition(this.light.matrixWorld),OF.setFromMatrixPosition(this.light.target.matrixWorld),DF.subVectors(OF,IF),this.lightPlane.lookAt(OF),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(OF),this.targetLine.scale.z=DF.length()}},DiscreteInterpolant:GO,DodecahedronGeometry:aI,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:uI,EllipseCurve:hI,EqualCompare:514,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:JT,EquirectangularRefractionMapping:QT,Euler:xR,EventDispatcher:QC,ExternalTexture:QL,ExtrudeGeometry:uO,FileLoader:lD,Float16BufferAttribute:class extends pN{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=uN(this.array[e*this.itemSize]);return this.normalized&&(t=lP(t,this.array)),t}setX(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize]=cN(t),this}getY(e){let t=uN(this.array[e*this.itemSize+1]);return this.normalized&&(t=lP(t,this.array)),t}setY(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+1]=cN(t),this}getZ(e){let t=uN(this.array[e*this.itemSize+2]);return this.normalized&&(t=lP(t,this.array)),t}setZ(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+2]=cN(t),this}getW(e){let t=uN(this.array[e*this.itemSize+3]);return this.normalized&&(t=lP(t,this.array)),t}setW(e,t){return this.normalized&&(t=cP(t,this.array)),this.array[e*this.itemSize+3]=cN(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array)),this.array[e+0]=cN(t),this.array[e+1]=cN(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array)),this.array[e+0]=cN(t),this.array[e+1]=cN(n),this.array[e+2]=cN(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=cP(t,this.array),n=cP(n,this.array),r=cP(r,this.array),i=cP(i,this.array)),this.array[e+0]=cN(t),this.array[e+1]=cN(n),this.array[e+2]=cN(r),this.array[e+3]=cN(i),this}},Float32BufferAttribute:vN,FloatType:gA,Fog:ik,FogExp2:rk,FramebufferTexture:class extends NP{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=iA,this.minFilter=iA,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:aL,FrustumArray:lL,GLBufferAttribute:class{constructor(e,t,n,r,i,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.normalized=a,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:UC,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:OC,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends zL{constructor(e=10,t=10,n=4473924,r=8947848){n=new nN(n),r=new nN(r);const i=t/2,a=e/t,o=e/2,s=[],l=[];for(let u=0,d=0,h=-o;u<=t;u++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);const e=u===i?n:r;e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3,e.toArray(l,d),d+=3}const c=new EN;c.setAttribute("position",new vN(s,3)),c.setAttribute("color",new vN(l,3)),super(c,new CL({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:ek,HalfFloatType:vA,HemisphereLight:fD,HemisphereLightHelper:class extends FR{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new pO(t);r.rotateY(.5*Math.PI),this.material=new oN({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),a=new Float32Array(3*i.count);r.setAttribute("color",new pN(a,3)),this.add(new FN(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");kF.copy(this.light.color),LF.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?kF:LF;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(NF.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:hO,ImageBitmapLoader:class extends aD{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&KC("ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&KC("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,a=nD.get(`image-bitmap:${e}`);if(void 0!==a)return i.manager.itemStart(e),a.then?void a.then(n=>{if(!0!==DD.has(a))return t&&t(n),i.manager.itemEnd(e),n;r&&r(DD.get(a)),i.manager.itemError(e),i.manager.itemEnd(e)}):(setTimeout(function(){t&&t(a),i.manager.itemEnd(e)},0),a);const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,o.signal="function"==typeof AbortSignal.any?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const s=fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){return nD.add(`image-bitmap:${e}`,n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),DD.set(s,t),nD.remove(`image-bitmap:${e}`),i.manager.itemError(e),i.manager.itemEnd(e)});nD.add(`image-bitmap:${e}`,s),i.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}},ImageLoader:uD,ImageUtils:EP,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Hk,InstancedBufferGeometry:ND,InstancedInterleavedBuffer:class extends ok{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:Zk,Int16BufferAttribute:class extends pN{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends pN{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends pN{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:pA,InterleavedBuffer:ok,InterleavedBufferAttribute:lk,Interpolant:VO,InterpolateDiscrete:mC,InterpolateLinear:gC,InterpolateSmooth:vC,InterpolationSamplingMode:{NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},InterpolationSamplingType:{PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},InvertStencilOp:5386,KeepStencilOp:CC,KeyframeTrack:qO,LOD:Ak,LatheGeometry:fO,Layers:_R,LessCompare:513,LessDepth:2,LessEqualCompare:kC,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:hD,LightProbe:CD,Line:DL,Line3:class{constructor(e=new fP,t=new fP){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){bF.subVectors(e,this.start),xF.subVectors(this.end,this.start);const n=xF.dot(xF);let r=xF.dot(bF)/n;return t&&(r=aP(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}distanceSqToLine3(e,t=MF,n=EF){const r=1e-8*1e-8;let i,a;const o=this.start,s=e.start,l=this.end,c=e.end;_F.subVectors(l,o),wF.subVectors(c,s),SF.subVectors(o,s);const u=_F.dot(_F),d=wF.dot(wF),h=wF.dot(SF);if(u<=r&&d<=r)return t.copy(o),n.copy(s),t.sub(n),t.dot(t);if(u<=r)i=0,a=h/d,a=aP(a,0,1);else{const e=_F.dot(SF);if(d<=r)a=0,i=aP(-e/u,0,1);else{const t=_F.dot(wF),n=u*d-t*t;i=0!==n?aP((t*h-e*d)/n,0,1):0,a=(t*i+h)/d,a<0?(a=0,i=aP(-e/u,0,1)):a>1&&(a=1,i=aP((t-e)/u,0,1))}}return t.copy(o).add(_F.multiplyScalar(i)),n.copy(s).add(wF.multiplyScalar(a)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:CL,LineCurve:EI,LineCurve3:TI,LineDashedMaterial:FO,LineLoop:BL,LineSegments:zL,LinearFilter:sA,LinearInterpolant:WO,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:cA,LinearMipmapNearestFilter:lA,LinearSRGBColorSpace:EC,LinearToneMapping:1,LinearTransfer:TC,Loader:aD,LoaderUtils:RD,LoadingManager:rD,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Material:aN,MaterialLoader:PD,MathUtils:uP,Matrix2:vF,Matrix3:gP,Matrix4:uR,MaxEquation:104,Mesh:FN,MeshBasicMaterial:oN,MeshDepthMaterial:IO,MeshDistanceMaterial:OO,MeshLambertMaterial:LO,MeshMatcapMaterial:DO,MeshNormalMaterial:kO,MeshPhongMaterial:RO,MeshPhysicalMaterial:PO,MeshStandardMaterial:CO,MeshToonMaterial:NO,MinEquation:103,MirroredRepeatWrapping:rA,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:iA,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:oA,NearestMipmapNearestFilter:aA,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:SC,NoNormalPacking:"",NoToneMapping:0,NormalAnimationBlendMode:_C,NormalBlending:1,NormalGAPacking:"ga",NormalRGPacking:"rg",NotEqualCompare:517,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:YO,Object3D:FR,ObjectLoader:class extends aD{constructor(e){super(e)}load(e,t,n,r){const i=this,a=""===this.path?RD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new lD(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void s("ObjectLoader: Can't parse "+e+".",s.message)}const o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())return void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e)),void ZC("ObjectLoader: Can't load "+e);i.parse(a,t)},n,r)}async loadAsync(e,t){const n=""===this.path?RD.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new lD(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),a=JSON.parse(i),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){void 0!==t&&t(l)}),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in a)if(a[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,i),o=this.parseMaterials(e.materials,a),s=this.parseObject(e.object,r,o,a,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),this.bindLightTargets(s),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new LI).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let i=0,a=e.length;i<a;i++){const t=(new Vk).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new kD;for(let i=0,a=e.length;i<a;i++){let a;const o=e[i];switch(o.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(o);break;default:o.type in EO?a=EO[o.type].fromJSON(o,t):KC(`ObjectLoader: Unsupported geometry type "${o.type}"`)}a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.userData&&(a.userData=o.userData),n[o.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new PD;i.setTextures(t);for(let t=0,a=e.length;t<a;t++){const a=e[t];void 0===n[a.uuid]&&(n[a.uuid]=i.parse(a)),r[a.uuid]=n[a.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=eD.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function a(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:HC(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new rD(t);i=new uD(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=a(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new jk(n.data,n.width,n.height)))}r[n.uuid]=new AP(e)}else{const e=a(n.url);r[n.uuid]=new AP(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:HC(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new uD(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],a=r.url;if(Array.isArray(a)){const e=[];for(let t=0,n=a.length;t<n;t++){const n=a[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new jk(r.data,r.width,r.height)))}n[r.uuid]=new AP(e)}else{const e=await i(r.url);n[r.uuid]=new AP(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(KC("ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,a=e.length;i<a;i++){const a=e[i];void 0===a.image&&KC('ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&KC("ObjectLoader: Undefined image",a.image);const o=t[a.image],s=o.data;let l;Array.isArray(s)?(l=new JN,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new jk:new NP,s&&(l.needsUpdate=!0)),l.source=o,l.uuid=a.uuid,void 0!==a.name&&(l.name=a.name),void 0!==a.mapping&&(l.mapping=n(a.mapping,LD)),void 0!==a.channel&&(l.channel=a.channel),void 0!==a.offset&&l.offset.fromArray(a.offset),void 0!==a.repeat&&l.repeat.fromArray(a.repeat),void 0!==a.center&&l.center.fromArray(a.center),void 0!==a.rotation&&(l.rotation=a.rotation),void 0!==a.wrap&&(l.wrapS=n(a.wrap[0],ID),l.wrapT=n(a.wrap[1],ID)),void 0!==a.format&&(l.format=a.format),void 0!==a.internalFormat&&(l.internalFormat=a.internalFormat),void 0!==a.type&&(l.type=a.type),void 0!==a.colorSpace&&(l.colorSpace=a.colorSpace),void 0!==a.minFilter&&(l.minFilter=n(a.minFilter,OD)),void 0!==a.magFilter&&(l.magFilter=n(a.magFilter,OD)),void 0!==a.anisotropy&&(l.anisotropy=a.anisotropy),void 0!==a.flipY&&(l.flipY=a.flipY),void 0!==a.generateMipmaps&&(l.generateMipmaps=a.generateMipmaps),void 0!==a.premultiplyAlpha&&(l.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(l.unpackAlignment=a.unpackAlignment),void 0!==a.compareFunction&&(l.compareFunction=a.compareFunction),void 0!==a.userData&&(l.userData=a.userData),r[a.uuid]=l}return r}parseObject(e,t,n,r,i){let a,o,s;function l(e){return void 0===t[e]&&KC("ObjectLoader: Undefined geometry",e),t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&KC("ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&KC("ObjectLoader: Undefined material",e),n[e]}}function u(e){return void 0===r[e]&&KC("ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new ak,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new nN(e.background):a.background=u(e.background)),void 0!==e.environment&&(a.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ik(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new rk(e.fog.color,e.fog.density)),""!==e.fog.name&&(a.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&a.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(a.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new YN(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new wD(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new ED(e.color,e.intensity);break;case"DirectionalLight":a=new MD(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new _D(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new TD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new bD(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new fD(e.color,e.groundColor,e.intensity);break;case"LightProbe":const t=(new AD).fromArray(e.sh);a=new CD(t,e.intensity);break;case"SkinnedMesh":o=l(e.geometry),s=c(e.material),a=new Fk(o,s),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=l(e.geometry),s=c(e.material),a=new FN(o,s);break;case"InstancedMesh":o=l(e.geometry),s=c(e.material);const n=e.count,r=e.instanceMatrix,i=e.instanceColor;a=new Zk(o,s,n),a.instanceMatrix=new Hk(new Float32Array(r.array),16),void 0!==i&&(a.instanceColor=new Hk(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":o=l(e.geometry),s=c(e.material),a=new AL(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),a.geometry=o,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(e=>{let t=null,n=null;return void 0!==e.boundingBox&&(t=(new FP).fromJSON(e.boundingBox)),void 0!==e.boundingSphere&&(n=(new tR).fromJSON(e.boundingSphere)),{...e,boundingBox:t,boundingSphere:n}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),void 0!==e.colorsTexture&&(a._colorsTexture=u(e.colorsTexture.uuid)),void 0!==e.boundingSphere&&(a.boundingSphere=(new tR).fromJSON(e.boundingSphere)),void 0!==e.boundingBox&&(a.boundingBox=(new FP).fromJSON(e.boundingBox));break;case"LOD":a=new Ak;break;case"Line":a=new DL(l(e.geometry),c(e.material));break;case"LineLoop":a=new BL(l(e.geometry),c(e.material));break;case"LineSegments":a=new zL(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new XL(l(e.geometry),c(e.material));break;case"Sprite":a=new Sk(c(e.material));break;case"Group":a=new ek;break;case"Bone":a=new Uk;break;default:a=new FR}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(a.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){const o=e.children;for(let e=0;e<o.length;e++)a.add(this.parseObject(o[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];a.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=a.getObjectByProperty("uuid",n.object);void 0!==r&&a.addLevel(r,n.distance,n.hysteresis)}}return a}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n?KC("ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new FR}})}},ObjectSpaceNormalMap:1,OctahedronGeometry:pO,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:bT,OneMinusSrcColorFactor:203,OrthographicCamera:wD,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:pU,Path:kI,PerspectiveCamera:YN,Plane:tL,PlaneGeometry:mO,PlaneHelper:class extends DL{constructor(e,t=1,n=16776960){const r=n,i=new EN;i.setAttribute("position",new vN([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new CL({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=new EN;a.setAttribute("position",new vN([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new FN(a,new oN({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:_D,PointLightHelper:class extends FN{constructor(e,t,n){super(new yO(t,4,2),new oN({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:XL,PointsMaterial:VL,PolarGridHelper:class extends zL{constructor(e=10,t=16,n=8,r=64,i=4473924,a=8947848){i=new nN(i),a=new nN(a);const o=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;o.push(0,0,0),o.push(r,0,l);const u=1&c?i:a;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:a,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l;o.push(i,0,a),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,a=Math.cos(n)*l,o.push(i,0,a),s.push(t.r,t.g,t.b)}}const l=new EN;l.setAttribute("position",new vN(o,3)),l.setAttribute("color",new vN(s,3)),super(l,new CL({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:iI,PositionalAudio:class extends YD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(KD,ZD,JD),QD.set(0,0,1).applyQuaternion(ZD);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(KD.x,e),t.positionY.linearRampToValueAtTime(KD.y,e),t.positionZ.linearRampToValueAtTime(KD.z,e),t.orientationX.linearRampToValueAtTime(QD.x,e),t.orientationY.linearRampToValueAtTime(QD.y,e),t.orientationZ.linearRampToValueAtTime(QD.z,e)}else t.setPosition(KD.x,KD.y,KD.z),t.setOrientation(QD.x,QD.y,QD.z)}},PropertyBinding:sF,PropertyMixer:eF,QuadraticBezierCurve:AI,QuadraticBezierCurve3:CI,Quaternion:hP,QuaternionKeyframeTrack:ZO,QuaternionLinearInterpolant:KO,R11_EAC_Format:WA,RED_GREEN_RGTC2_Format:fC,RED_RGTC1_Format:dC,REVISION:aT,RG11_EAC_Format:qA,RGBADepthPacking:3201,RGBAFormat:EA,RGBAIntegerFormat:kA,RGBA_ASTC_10x10_Format:aC,RGBA_ASTC_10x5_Format:nC,RGBA_ASTC_10x6_Format:rC,RGBA_ASTC_10x8_Format:iC,RGBA_ASTC_12x10_Format:oC,RGBA_ASTC_12x12_Format:sC,RGBA_ASTC_4x4_Format:$A,RGBA_ASTC_5x4_Format:YA,RGBA_ASTC_5x5_Format:KA,RGBA_ASTC_6x5_Format:ZA,RGBA_ASTC_6x6_Format:JA,RGBA_ASTC_8x5_Format:QA,RGBA_ASTC_8x6_Format:eC,RGBA_ASTC_8x8_Format:tC,RGBA_BPTC_Format:lC,RGBA_ETC2_EAC_Format:HA,RGBA_PVRTC_2BPPV1_Format:zA,RGBA_PVRTC_4BPPV1_Format:jA,RGBA_S3TC_DXT1_Format:IA,RGBA_S3TC_DXT3_Format:OA,RGBA_S3TC_DXT5_Format:DA,RGBDepthPacking:3202,RGBFormat:MA,RGBIntegerFormat:1032,RGB_BPTC_SIGNED_Format:cC,RGB_BPTC_UNSIGNED_Format:uC,RGB_ETC1_Format:BA,RGB_ETC2_Format:VA,RGB_PVRTC_2BPPV1_Format:UA,RGB_PVRTC_4BPPV1_Format:FA,RGB_S3TC_DXT1_Format:LA,RGDepthPacking:3203,RGFormat:RA,RGIntegerFormat:NA,RawShaderMaterial:AO,Ray:cR,Raycaster:fF,RectAreaLight:TD,RedFormat:CA,RedIntegerFormat:PA,ReinhardToneMapping:2,RenderTarget:LP,RenderTarget3D:class extends LP{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=n,this.texture=new DP(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}},RepeatWrapping:tA,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingGeometry:gO,SIGNED_R11_EAC_Format:GA,SIGNED_RED_GREEN_RGTC2_Format:pC,SIGNED_RED_RGTC1_Format:hC,SIGNED_RG11_EAC_Format:XA,SRGBColorSpace:MC,SRGBTransfer:AC,Scene:ak,ShaderChunk:XF,ShaderLib:YF,ShaderMaterial:WN,ShadowMaterial:TO,Shape:LI,ShapeGeometry:vO,ShapePath:class{constructor(){this.type="ShapePath",this.color=new nN,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new kI,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,a=0;a<n;i=a++){let n=t[i],o=t[a],s=o.x-n.x,l=o.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[a],s=-s,o=t[i],l=-l),e.y<n.y||e.y>o.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(o.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=o.x)return!0}}return r}const n=sO.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,a,o;const s=[];if(1===r.length)return a=r[0],o=new LI,o.curves=a.curves,s.push(o),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let d,h,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,g=r.length;m<g;m++)a=r[m],d=a.getPoints(),i=n(d),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new LI,p:d},u[p].s.curves=a.curves,l&&p++,f[p]=[]):f[p].push({h:a,p:d[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new LI;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=f[r];for(let a=0;a<i.length;a++){const o=i[a];let s=!0;for(let i=0;i<u.length;i++)t(o.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(o)):e=!0);s&&c[r].push(o)}}n>0&&!1===e&&(f=c)}for(let m=0,g=u.length;m<g;m++){o=u[m].s,s.push(o),h=f[m];for(let e=0,t=h.length;e<t;e++)o.holes.push(h[e].h)}return s}},ShapeUtils:sO,ShortType:hA,Skeleton:Vk,SkeletonHelper:class extends zL{constructor(e){const t=RF(e),n=new EN,r=[],i=[];for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(0,0,0),i.push(0,0,0))}n.setAttribute("position",new vN(r,3)),n.setAttribute("color",new vN(i,3)),super(n,new CL({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new nN(255),o=new nN(65280);this.setColors(a,o)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");PF.copy(this.root.matrixWorld).invert();for(let i=0,a=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(CF.multiplyMatrices(PF,e.matrixWorld),AF.setFromMatrixPosition(CF),r.setXYZ(a,AF.x,AF.y,AF.z),CF.multiplyMatrices(PF,e.parent.matrixWorld),AF.setFromMatrixPosition(CF),r.setXYZ(a+1,AF.x,AF.y,AF.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const n=this.geometry.getAttribute("color");for(let r=0;r<n.count;r+=2)n.setXYZ(r,e.r,e.g,e.b),n.setXYZ(r+1,t.r,t.g,t.b);return n.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:Fk,Source:AP,Sphere:tR,SphereGeometry:yO,Spherical:class{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=aP(this.phi,e,Math.PI-e),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(aP(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:AD,SplineCurve:PI,SpotLight:bD,SpotLightHelper:class extends FR{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new EN,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,s=32;a<s;a++,o++){const e=a/s*Math.PI*2,t=o/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new vN(r,3));const i=new CL({fog:!1,toneMapped:!1});this.cone=new zL(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),TF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(TF),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:Sk,SpriteMaterial:ck,SrcAlphaFactor:yT,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:FC,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new YN,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new YN,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,BD.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(nP*t.fov*.5)/t.zoom;let a,o;zD.elements[12]=-n,jD.elements[12]=n,a=-i*t.aspect+r,o=i*t.aspect+r,BD.elements[0]=2*t.near/(o-a),BD.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(BD),a=-i*t.aspect-r,o=i*t.aspect-r,BD.elements[0]=2*t.near/(o-a),BD.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(BD)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(zD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(jD)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:JO,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronGeometry:bO,Texture:NP,TextureLoader:dD,TextureUtils:class{static contain(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e}(e,t)}static cover(e,t){return function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e}(e,t)}static fill(e){return function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e}(e)}static getByteLength(e,t,n,r){return WF(e,t,n,r)}},Timer:class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,void 0!==e.hidden&&(this._pageVisibilityHandler=gF.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){null!==this._pageVisibilityHandler&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return null!==this._pageVisibilityHandler&&!0===this._document.hidden?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(void 0!==e?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}},TimestampQuery:{COMPUTE:"compute",RENDER:"render"},TorusGeometry:xO,TorusKnotGeometry:_O,Triangle:ZR,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:wO,UVMapping:YT,Uint16BufferAttribute:mN,Uint32BufferAttribute:gN,Uint8BufferAttribute:class extends pN{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends pN{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:uF,UniformsGroup:class extends QC{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:dF++}),this.name="",this.usage=FC,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:$F,UniformsUtils:HN,UnsignedByteType:uA,UnsignedInt101111Type:wA,UnsignedInt248Type:xA,UnsignedInt5999Type:_A,UnsignedIntType:mA,UnsignedShort4444Type:yA,UnsignedShort5551Type:bA,UnsignedShortType:fA,VSMShadowMap:3,Vector2:dP,Vector3:fP,Vector4:kP,VectorKeyframeTrack:QO,VideoFrameTexture:class extends YL{constructor(e,t,n,r,i,a,o,s){super({},e,t,n,r,i,a,o,s),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}},VideoTexture:YL,WebGL3DRenderTarget:class extends IP{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new DP(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends IP{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new OP(null,e,t,n),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}},WebGLCoordinateSystem:jC,WebGLCubeRenderTarget:QN,WebGLRenderTarget:IP,WebGLRenderer:Fz,WebGLUtils:Cz,WebGPUCoordinateSystem:zC,WebXRController:nk,WireframeGeometry:SO,WrapAroundEnding:xC,ZeroCurvatureEnding:yC,ZeroFactor:200,ZeroSlopeEnding:bC,ZeroStencilOp:0,createCanvasElement:qC,error:ZC,getConsoleFunction:function(){return $C},log:YC,setConsoleFunction:function(e){$C=e},warn:KC,warnOnce:JC},Symbol.toStringTag,{value:"Module"}));var jz,zz,Bz,Vz,Hz={exports:{}},Wz={},Gz={exports:{}},qz={};function Xz(){return zz||(zz=1,Gz.exports=function(){if(jz)return qz;jz=1;var e=E(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,a=e.useDebugValue;function o(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=n({inst:{value:s,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=s,c.getSnapshot=t,o(c)&&u({inst:c})},[e,s,t]),r(function(){return o(c)&&u({inst:c}),e(function(){o(c)&&u({inst:c})})},[e]),a(s),s};return qz.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,qz}()),Gz.exports}const $z=i((Vz||(Vz=1,Hz.exports=function(){if(Bz)return Wz;Bz=1;var e=E(),t=Xz(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return Wz.useSyncExternalStoreWithSelector=function(e,t,l,c,u){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=o(function(){function e(e){if(!a){if(a=!0,r=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var o=c(e);return void 0!==u&&u(t,o)?(r=e,t):(r=e,i=o)}var r,i,a=!1,o=void 0===l?null:l;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,l,c,u]);var f=r(e,d[0],d[1]);return a(function(){h.hasValue=!0,h.value=f},[f]),s(f),f},Wz}()),Hz.exports)),Yz=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},{useSyncExternalStoreWithSelector:Kz}=$z,Zz=e=>e,Jz=(e,t)=>{const n=(e=>e?Yz(e):Yz)(e),r=(e,r=t)=>function(e,t=Zz,n){const r=Kz(e.subscribe,e.getState,e.getInitialState,t,n);return A.useDebugValue(r),r}(n,e,r);return Object.assign(r,n),r},Qz=[];function eB(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;const r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}function tB(e,t=null,n=!1,r={}){null===t&&(t=[e]);for(const o of Qz)if(eB(t,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:t,equal:r.equal,remove:()=>{const e=Qz.indexOf(i);-1!==e&&Qz.splice(e,1)},promise:(a=e,"object"==typeof a&&"function"==typeof a.then?e:e(...t)).then(e=>{i.response=e,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(e=>i.error=e)};var a;if(Qz.push(i),!n)throw i.promise}var nB,rB,iB={exports:{}},aB={};function oB(){return rB||(rB=1,iB.exports=(nB||(nB=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<a&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function _(e){if(m=!1,x(e),!p)if(null!==n(l))p=!0,S||(S=!0,w());else{var t=n(c);null!==t&&N(_,t.startTime-e)}}var w,S=!1,M=-1,E=5,T=-1;function A(){return!(!g&&e.unstable_now()-T<E)}function C(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{e:{p=!1,m&&(m=!1,y(M),M=-1),f=!0;var a=h;try{t:{for(x(t),d=n(l);null!==d&&!(d.expirationTime>t&&A());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,x(t),i=!0;break t}d===n(l)&&r(l),x(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&N(_,u.startTime-t),i=!1}}break e}finally{d=null,h=a,f=!1}i=void 0}}finally{i?w():S=!1}}}if("function"==typeof b)w=function(){b(C)};else if("undefined"!=typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=C,w=function(){R.postMessage(null)}}else w=function(){v(C,0)};function N(t,n){M=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(E=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?o+a:o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(r.sortIndex=a,t(c,r),null===n(l)&&r===n(c)&&(m?(y(M),M=-1):m=!0,N(_,a-o))):(r.sortIndex=s,t(l,r),p||f||(p=!0,S||(S=!0,w()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(aB)),aB)),iB.exports}var sB=oB();const lB=i(sB);function cB(e,t,n){if(!e)return;if(!0===n(e))return e;let r=t?e.return:e.child;for(;r;){const e=cB(r,t,n);if(e)return e;r=t?null:r.sibling}}function uB(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const dB=uB(T.createContext(null));class hB extends T.Component{render(){return T.createElement(dB.Provider,{value:this._reactInternals},this.props.children)}}function fB(){const e=T.useContext(dB);if(null===e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=T.useId();return T.useMemo(()=>{for(const n of[e,null==e?void 0:e.alternate]){if(!n)continue;const e=cB(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}const pB=Symbol.for("react.context"),mB=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===pB;function gB(){const e=function(){const e=fB(),[t]=T.useState(()=>new Map);t.clear();let n=e;for(;n;){const e=n.type;mB(e)&&e!==dB&&!t.has(e)&&t.set(e,T.use(uB(e))),n=n.return}return t}();return T.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>T.createElement(t,null,T.createElement(n.Provider,{...r,value:e.get(n)})),e=>T.createElement(hB,{...e})),[e])}function vB(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const yB=e=>e&&e.isOrthographicCamera,bB=e=>null!=e&&("string"==typeof e||"number"==typeof e||e.isColor),xB=((e,t)=>"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product)))()?T.useLayoutEffect:T.useEffect;function _B(e){const t=T.useRef(e);return xB(()=>{t.current=e},[e]),t}function wB({set:e}){return xB(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}const SB=(e=>((e=class extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function MB(e){var t;const n="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function EB(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const TB={obj:e=>e===Object(e)&&!TB.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(TB.str(e)||TB.num(e)||TB.boo(e))return e===t;const a=TB.obj(e);if(a&&"reference"===r)return e===t;const o=TB.arr(e);if(o&&"reference"===n)return e===t;if((o||a)&&e===t)return!0;let s;for(s in e)if(!(s in t))return!1;if(a&&"shallow"===n&&"shallow"===r){for(s in i?t:e)if(!TB.equ(e[s],t[s],{strict:i,objects:"reference"}))return!1}else for(s in i?t:e)if(e[s]!==t[s])return!1;if(TB.und(s)){if(o&&0===e.length&&0===t.length)return!0;if(a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}},AB=["children","key","ref"];function CB(e){const t={};for(const n in e)AB.includes(n)||(t[n]=e[n]);return t}function PB(e,t,n,r){const i=e;let a=null==i?void 0:i.__r3f;return a||(a={root:t,type:n,parent:null,children:[],props:CB(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function RB(e,t){if(!t.includes("-"))return{root:e,key:t,target:e[t]};if(t in e)return{root:e,key:t,target:e[t]};let n=e;const r=t.split("-");for(const i of r){if("object"!=typeof n||null===n)return void 0!==n?{root:n,key:r.slice(r.indexOf(i)).join("-"),target:void 0}:{root:e,key:t,target:void 0};e=n,n=n[t=i]}return{root:e,key:t,target:n}}const NB=/-\d+$/;function kB(e,t){if(TB.str(t.props.attach)){if(NB.test(t.props.attach)){const n=t.props.attach.replace(NB,""),{root:r,key:i}=RB(e.object,n);Array.isArray(r[i])||(r[i]=[])}const{root:n,key:r}=RB(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else TB.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function LB(e,t){if(TB.str(t.props.attach)){const{root:n,key:r}=RB(e.object,t.props.attach),i=t.previousAttach;void 0===i?delete n[r]:n[r]=i}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const IB=[...AB,"args","dispose","attach","object","onUpdate","dispose"],OB=new Map;function DB(e){let t=OB.get(e.constructor);try{t||(t=new e.constructor,OB.set(e.constructor,t))}catch(n){}return t}const FB=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],UB=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function jB(e,t){var n;const r=e.__r3f,i=r&&vB(r).getState(),a=null==r?void 0:r.eventCount;for(const s in t){let n=t[s];if(IB.includes(s))continue;if(r&&UB.test(s)){"function"==typeof n?r.handlers[s]=n:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(void 0===n)continue;let{root:a,key:l,target:c}=RB(e,s);if(void 0===c&&("object"!=typeof a||null===a))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${l}".`);if(c instanceof _R&&n instanceof _R)c.mask=n.mask;else if(c instanceof nN&&bB(n))c.set(n);else if(null!==c&&"object"==typeof c&&"function"==typeof c.set&&"function"==typeof c.copy&&null!=n&&n.constructor&&c.constructor===n.constructor)c.copy(n);else if(null!==c&&"object"==typeof c&&"function"==typeof c.set&&Array.isArray(n))"function"==typeof c.fromArray?c.fromArray(n):c.set(...n);else if(null!==c&&"object"==typeof c&&"function"==typeof c.set&&"number"==typeof n)"function"==typeof c.setScalar?c.setScalar(n):c.set(n);else{var o;a[l]=n,i&&!i.linear&&FB.includes(l)&&null!=(o=a[l])&&o.isTexture&&a[l].format===EA&&a[l].type===uA&&(a[l].colorSpace=MC)}}if(null!=r&&r.parent&&null!=i&&i.internal&&null!=(n=r.object)&&n.isObject3D&&a!==r.eventCount){const e=r.object,t=i.internal.interaction.indexOf(e);t>-1&&i.internal.interaction.splice(t,1),r.eventCount&&null!==e.raycast&&i.internal.interaction.push(e)}return r&&void 0===r.props.attach&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&zB(r),e}function zB(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}const BB=e=>null==e?void 0:e.isObject3D;function VB(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function HB(e,t,n,r){const i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function WB(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f;if(n.hovered.delete(VB(e)),null!=r&&r.eventCount){const n=r.handlers,i={...e,intersections:t};null==n.onPointerOut||n.onPointerOut(i),null==n.onPointerLeave||n.onPointerLeave(i)}}}function r(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{const{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(a){const{onPointerMissed:o,internal:s}=e.getState();s.lastEvent.current=a;const l="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,u=function(t,n){const r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<o.length;e++){const t=EB(o[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let s=o.flatMap(function(e){const n=EB(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=EB(e.object),r=EB(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=VB(e);return!i.has(t)&&(i.add(t),!0)});r.events.filter&&(s=r.events.filter(s,r));for(const e of s){let t=e.object;for(;t;){var l;null!=(l=t.__r3f)&&l.eventCount&&a.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(VB(e.intersection))||a.push(e.intersection);return a}(a,l?t:void 0),d=c?function(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(a):0;"onPointerDown"===i&&(s.initialClick=[a.offsetX,a.offsetY],s.initialHits=u.map(e=>e.eventObject)),c&&!u.length&&d<=2&&(r(a,s.interaction),o&&o(a)),l&&n(u),function(e,t,r,i){if(e.length){const a={stopped:!1};for(const o of e){let s=EB(o.object);if(s||o.object.traverseAncestors(e=>{const t=EB(e);if(t)return s=t,!1}),s){const{raycaster:l,pointer:c,camera:u,internal:d}=s,h=new fP(c.x,c.y,0).unproject(u),f=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(o.eventObject))&&t},p=e=>{const n={intersection:o,target:t.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,n):d.capturedMap.set(e,new Map([[o.eventObject,n]])),t.target.setPointerCapture(e)},m=e=>{const t=d.capturedMap.get(e);t&&HB(d.capturedMap,o.eventObject,t,e)};let g={};for(let e in t){let n=t[e];"function"!=typeof n&&(g[e]=n)}let v={...o,...g,pointer:c,intersections:e,stopped:a.stopped,delta:r,unprojectedPoint:h,ray:l.ray,camera:u,stopPropagation(){const r="pointerId"in t&&d.capturedMap.get(t.pointerId);(!r||r.has(o.eventObject))&&(v.stopped=a.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject))&&n([...e.slice(0,e.indexOf(o)),o])},target:{hasPointerCapture:f,setPointerCapture:p,releasePointerCapture:m},currentTarget:{hasPointerCapture:f,setPointerCapture:p,releasePointerCapture:m},nativeEvent:t};if(i(v),!0===a.stopped)break}}}}(u,a,d,function(e){const t=e.eventObject,n=t.__r3f;if(null==n||!n.eventCount)return;const o=n.handlers;if(l){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=VB(e),n=s.hovered.get(t);n?n.stopped&&e.stopPropagation():(s.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const n=o[i];n?c&&!s.initialHits.includes(t)||(r(a,s.interaction.filter(e=>!s.initialHits.includes(e))),n(e)):c&&s.initialHits.includes(t)&&r(a,s.interaction.filter(e=>!s.initialHits.includes(e)))}})}}}}const GB=e=>!(null==e||!e.render),qB=T.createContext(null),XB=(e,t)=>{const n=(r=(n,r)=>{const i=new fP,a=new fP,o=new fP;function s(e=r().camera,t=a,n=r().size){const{width:s,height:l,top:c,left:u}=n,d=s/l;t.isVector3?o.copy(t):o.set(...t);const h=e.getWorldPosition(i).distanceTo(o);if(yB(e))return{width:s/e.zoom,height:l/e.zoom,top:c,left:u,factor:1,distance:h,aspect:d};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*h,r=n*(s/l);return{width:r,height:n,top:c,left:u,factor:s/r,distance:h,aspect:d}}}let l;const c=e=>n(t=>({performance:{...t.performance,current:e}})),u=new dP;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HD,pointer:u,mouse:u,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=r();l&&clearTimeout(l),e.performance.current!==e.performance.min&&c(e.performance.min),l=setTimeout(()=>c(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:s},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i=0,o=0)=>{const l=r().camera,c={width:e,height:t,top:i,left:o};n(e=>({size:c,viewport:{...e.viewport,...s(l,a,c)}}))},setDpr:e=>n(t=>{const n=MB(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:(e="always")=>{const t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:T.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}})?Jz(r,i):Jz;var r,i;const a=n.getState();let o=a.size,s=a.viewport.dpr,l=a.camera;return n.subscribe(()=>{const{camera:e,size:t,viewport:r,gl:i,set:a}=n.getState();if(t.width!==o.width||t.height!==o.height||r.dpr!==s){o=t,s=r.dpr,function(e,t){e.manual||(yB(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}(e,t),r.dpr>0&&i.setPixelRatio(r.dpr);const n="undefined"!=typeof HTMLCanvasElement&&i.domElement instanceof HTMLCanvasElement;i.setSize(t.width,t.height,n)}e!==l&&(l=e,a(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n};function $B(){const e=T.useContext(qB);if(!e)throw new Error("R3F: Hooks can only be used within the Canvas component!");return e}const YB=new WeakMap;function KB(e,t){return function(n,...r){let i;var a,o;return"function"==typeof(a=n)&&(null==a||null==(o=a.prototype)?void 0:o.constructor)===a?(i=YB.get(n),i||(i=new n,YB.set(n,i))):i=n,e&&e(i),Promise.all(r.map(e=>new Promise((n,r)=>i.load(e,e=>{BB(null==e?void 0:e.scene)&&Object.assign(e,function(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}(e.scene)),n(e)},t,t=>r(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function ZB(e,t,n,r){const i=Array.isArray(t)?t:[t],a=((e,t,n)=>tB(e,t,!1,n))(KB(n,r),[e,...i],{equal:TB.equ});return Array.isArray(t)?a:a[0]}ZB.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return((e,t,n)=>{tB(e,t,!0,n)})(KB(n),[e,...r])},ZB.clear=function(e,t){return(e=>{if(void 0===e||0===e.length)Qz.splice(0,Qz.length);else{const t=Qz.find(t=>eB(e,t.keys,t.equal));t&&t.remove()}})([e,...Array.isArray(t)?t:[t]])};var JB,QB,eV={exports:{}},tV={exports:{}};function nV(){return JB||(JB=1,(e=tV).exports=function(e){function t(e,t,n,r){return new zi(e,t,n,r)}function n(){}function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(i(e)!==e)throw Error(r(188))}function o(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(o=s.return)){n=o;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return a(s),e;if(l===o)return a(s),t;l=l.sibling}throw Error(r(188))}if(n.return!==o.return)n=s,o=l;else{for(var c=!1,u=s.child;u;){if(u===n){c=!0,n=s,o=l;break}if(u===o){c=!0,o=s,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,o=s;break}if(u===o){c=!0,o=l,n=s;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function s(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=s(e)))return t;e=e.sibling}return null}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(t=l(e)))return t;e=e.sibling}return null}function c(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=_a&&e[_a]||e["@@iterator"])?e:null}function u(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===wa?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ca:return"Fragment";case da:return"Profiler";case ua:return"StrictMode";case ma:return"Suspense";case ga:return"SuspenseList";case ba:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case la:return"Portal";case fa:return e.displayName||"Context";case ha:return(e._context.displayName||"Context")+".Consumer";case pa:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case va:return null!==(t=e.displayName||null)?t:u(e.type)||"Memo";case ya:t=e._payload,e=e._init;try{return u(e(t))}catch{}}return null}function d(e){return{current:e}}function h(e){0>qs||(e.current=Gs[qs],Gs[qs]=null,qs--)}function f(e,t){qs++,Gs[qs]=e.current,e.current=t}function p(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function m(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=p(r):0!==(o&=s)?i=p(o):n||0!==(n=s&~e)&&(i=p(n)):0!==(s=r&~a)?i=p(s):0!==o?i=p(o):n||0!==(n=r&~e)&&(i=p(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function g(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function v(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function y(){var e=Qs;return!(62914560&(Qs<<=1))&&(Qs=4194304),e}function b(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function x(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-$s(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function w(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$s(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function S(e,t){var n=t&-t;return 0!==((n=42&n?1:M(n))&(e.suspendedLanes|t))?0:n}function M(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function E(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function T(e){if("function"==typeof cl&&ul(e),hl&&"function"==typeof hl.setStrictMode)try{hl.setStrictMode(dl,e)}catch{}}function C(e){if(void 0===_s)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_s=t&&t[1]||"",ws=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+_s+e+ws}function P(e,t){if(!e||gl)return"";gl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(i){if(i&&r&&"string"==typeof i.stack)return[i.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{gl=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?C(n):""}function R(e,t){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return e.child!==t&&null!==t?C("Suspense Fallback"):C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return P(e.type,!1);case 11:return P(e.type.render,!1);case 1:return P(e.type,!0);case 31:return C("Activity");default:return""}}function N(e){try{var t="",n=null;do{t+=R(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function k(e,t){if("object"==typeof e&&null!==e){var n=vl.get(e);return void 0!==n?n:(t={value:e,source:t,stack:N(t)},vl.set(e,t),t)}return{value:e,source:t,stack:N(t)}}function L(e,t){yl[bl++]=_l,yl[bl++]=xl,xl=e,_l=t}function I(e,t,n){wl[Sl++]=El,wl[Sl++]=Tl,wl[Sl++]=Ml,Ml=e;var r=El;e=Tl;var i=32-$s(r)-1;r&=~(1<<i),n+=1;var a=32-$s(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,El=1<<32-$s(t)+i|n<<i|r,Tl=a+e}else El=1<<a|n<<i|r,Tl=e}function O(e){null!==e.return&&(L(e,1),I(e,1,0))}function D(e){for(;e===xl;)xl=yl[--bl],yl[bl]=null,_l=yl[--bl],yl[bl]=null;for(;e===Ml;)Ml=wl[--Sl],wl[Sl]=null,Tl=wl[--Sl],wl[Sl]=null,El=wl[--Sl],wl[Sl]=null}function F(e,t){wl[Sl++]=El,wl[Sl++]=Tl,wl[Sl++]=Ml,El=t.id,Tl=t.overflow,Ml=e}function U(e,t){f(Pl,t),f(Cl,e),f(Al,null),e=Pa(t),h(Al),f(Al,e)}function j(){h(Al),h(Cl),h(Pl)}function z(e){null!==e.memoizedState&&f(Rl,e);var t=Al.current,n=Ra(t,e.type);t!==n&&(f(Cl,e),f(Al,n))}function B(e){Cl.current===e&&(h(Al),h(Cl)),Rl.current===e&&(h(Rl),Ba?oo._currentValue=ao:oo._currentValue2=ao)}function V(e){throw $(k(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),Dl}function H(e,t){if(!Wa)throw Error(r(175));is(e.stateNode,e.type,e.memoizedProps,t,e)||V(e,!0)}function W(e){for(Nl=e.return;Nl;)switch(Nl.tag){case 5:case 31:case 13:return void(Ol=!1);case 27:case 3:return void(Ol=!0);default:Nl=Nl.return}}function G(e){if(!Wa||e!==Nl)return!1;if(!Ll)return W(e),Ll=!0,!1;var t=e.tag;if(js?3!==t&&27!==t&&(5!==t||xs(e.type)&&!Da(e.type,e.memoizedProps))&&kl&&V(e):3!==t&&(5!==t||xs(e.type)&&!Da(e.type,e.memoizedProps))&&kl&&V(e),W(e),13===t){if(!Wa)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));kl=cs(e)}else if(31===t){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));kl=ls(e)}else kl=js&&27===t?$o(e.type,kl):Nl?Xo(e.stateNode):null;return!0}function q(){Wa&&(kl=Nl=null,Ll=!1)}function X(){var e=Il;return null!==e&&(null===xu?xu=e:xu.push.apply(xu,e),Il=null),e}function $(e){null===Il?Il=[e]:Il.push(e)}function Y(e,t,n){Ba?(f(Fl,t._currentValue),t._currentValue=n):(f(Fl,t._currentValue2),t._currentValue2=n)}function K(e){var t=Fl.current;Ba?e._currentValue=t:e._currentValue2=t,h(Fl)}function Z(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function J(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Z(o.return,n,e),i||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Z(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Q(e,t,n,i){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=a.type;fl(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===Rl.current){if(null===(s=a.alternate))throw Error(r(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(oo):e=[oo])}a=a.return}null!==e&&J(t,e,n,i),t.flags|=262144}function ee(e){for(e=e.firstContext;null!==e;){var t=e.context;if(!fl(Ba?t._currentValue:t._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function te(e){Ul=e,jl=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function ne(e){return ie(Ul,e)}function re(e,t){return null===Ul&&te(e),ie(e,t)}function ie(e,t){var n=Ba?t._currentValue:t._currentValue2;if(t={context:t,memoizedValue:n,next:null},null===jl){if(null===e)throw Error(r(308));jl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else jl=jl.next=t;return n}function ae(){return{controller:new zl,data:new Map,refCount:0}}function oe(e){e.refCount--,0===e.refCount&&Bl(Vl,function(){e.controller.abort()})}function se(){}function le(e){e!==Gl&&null===e.next&&(null===Gl?Wl=Gl=e:Gl=Gl.next=e),Xl=!0,ql||(ql=!0,lo?co(function(){6&ru?el(al,ue):de()}):el(al,ue))}function ce(e,t){if(!$l&&Xl){$l=!0;do{for(var n=!1,r=Wl;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-$s(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,pe(r,a))}else a=ou,!(3&(a=m(r,r===iu?a:0,null!==r.cancelPendingCommit||r.timeoutHandle!==za)))||g(r,a)||(n=!0,pe(r,a));r=r.next}}while(n);$l=!1}}function ue(){de()}function de(){Xl=ql=!1;var e=0;0!==Yl&&Ka()&&(e=Yl);for(var t=il(),n=null,r=Wl;null!==r;){var i=r.next,a=he(r,t);0===a?(r.next=null,null===n?Wl=i:n.next=i,null===i&&(Gl=n)):(n=r,(0!==e||!!(3&a))&&(Xl=!0)),r=i}0!==Au&&5!==Au||ce(e),0!==Yl&&(Yl=0)}function he(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-$s(a),s=1<<o,l=i[o];-1===l?(0===(s&n)||0!==(s&r))&&(i[o]=v(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=ou,n=m(e,e===(t=iu)?n:0,null!==e.cancelPendingCommit||e.timeoutHandle!==za),r=e.callbackNode,0===n||e===t&&(2===su||9===su)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&tl(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||g(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&tl(r),E(n)){case 2:case 8:n=ol;break;case 32:default:n=sl;break;case 268435456:n=ll}return r=fe.bind(null,e),n=el(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&tl(r),e.callbackPriority=2,e.callbackNode=null,2}function fe(e,t){if(0!==Au&&5!==Au)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Ni()&&e.callbackNode!==n)return null;var r=ou;return 0===(r=m(e,e===iu?r:0,null!==e.cancelPendingCommit||e.timeoutHandle!==za))?null:(oi(e,r,t),he(e,il()),null!=e.callbackNode&&e.callbackNode===n?fe.bind(null,e):null)}function pe(e,t){if(Ni())return null;oi(e,t,!0)}function me(){if(0===Yl){var e=Jl;0===e&&(e=Zs,!(261888&(Zs<<=1))&&(Zs=256)),Yl=e}return Yl}function ge(){if(0===--Zl&&null!==Kl){null!==Ql&&(Ql.status="fulfilled");var e=Kl;Kl=null,Jl=0,Ql=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ve(){var e=tc.current;return null!==e?e:iu.pooledCache}function ye(e,t){f(tc,null===t?tc.current:t.pool)}function be(){var e=ve();return null===e?null:{parent:Ba?Hl._currentValue:Hl._currentValue2,pool:e}}function xe(e,t){if(fl(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ml.call(t,i)||!fl(e[i],t[i]))return!1}return!0}function _e(e){return"fulfilled"===(e=e.status)||"rejected"===e}function we(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(se,se),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw Ee(e=t.reason),e;default:if("string"==typeof t.status)t.then(se,se);else{if(null!==(e=iu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw Ee(e=t.reason),e}throw oc=t,nc}}function Se(e){try{return(0,e._init)(e._payload)}catch(t){throw null!==t&&"object"==typeof t&&"function"==typeof t.then?(oc=t,nc):t}}function Me(){if(null===oc)throw Error(r(459));var e=oc;return oc=null,e}function Ee(e){if(e===nc||e===ic)throw Error(r(483))}function Te(e){var t=lc;return lc+=1,null===sc&&(sc=[]),we(sc,e,t)}function Ae(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ce(e,t){throw t.$$typeof===oa?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pe(e){function n(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function i(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function a(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Vi(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=qi(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n,r){var i=n.type;return i===ca?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===ya&&Se(i)===t.type)?(Ae(t=o(t,n.props),n),t.return=e,t):(Ae(t=Wi(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$i(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Gi(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=qi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case sa:return Ae(n=Wi(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case la:return(t=$i(t,e.mode,n)).return=e,t;case ya:return p(e,t=Se(t),n)}if(Sa(t)||c(t))return(t=Gi(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Te(t),n);if(t.$$typeof===fa)return p(e,re(e,t),n);Ce(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case sa:return n.key===i?d(e,t,n,r):null;case la:return n.key===i?h(e,t,n,r):null;case ya:return m(e,t,n=Se(n),r)}if(Sa(n)||c(n))return null!==i?null:f(e,t,n,r,null);if("function"==typeof n.then)return m(e,t,Te(n),r);if(n.$$typeof===fa)return m(e,t,re(e,n),r);Ce(e,n)}return null}function g(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case sa:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case la:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case ya:return g(e,t,n,r=Se(r),i)}if(Sa(r)||c(r))return f(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return g(e,t,n,Te(r),i);if(r.$$typeof===fa)return g(e,t,n,re(t,r),i);Ce(t,r)}return null}function v(t,u,d,h){if("object"==typeof d&&null!==d&&d.type===ca&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case sa:e:{for(var f=d.key;null!==u;){if(u.key===f){if((f=d.type)===ca){if(7===u.tag){i(t,u.sibling),(h=o(u,d.props.children)).return=t,t=h;break e}}else if(u.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===ya&&Se(f)===u.type){i(t,u.sibling),Ae(h=o(u,d.props),d),h.return=t,t=h;break e}i(t,u);break}n(t,u),u=u.sibling}d.type===ca?((h=Gi(d.props.children,t.mode,h,d.key)).return=t,t=h):(Ae(h=Wi(d.type,d.key,d.props,null,t.mode,h),d),h.return=t,t=h)}return l(t);case la:e:{for(f=d.key;null!==u;){if(u.key===f){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){i(t,u.sibling),(h=o(u,d.children||[])).return=t,t=h;break e}i(t,u);break}n(t,u),u=u.sibling}(h=$i(d,t.mode,h)).return=t,t=h}return l(t);case ya:return v(t,u,d=Se(d),h)}if(Sa(d))return function(t,r,o,l){for(var c=null,u=null,d=r,h=r=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var v=m(t,d,o[h],l);if(null===v){null===d&&(d=f);break}e&&d&&null===v.alternate&&n(t,d),r=s(v,r,h),null===u?c=v:u.sibling=v,u=v,d=f}if(h===o.length)return i(t,d),Ll&&L(t,h),c;if(null===d){for(;h<o.length;h++)null!==(d=p(t,o[h],l))&&(r=s(d,r,h),null===u?c=d:u.sibling=d,u=d);return Ll&&L(t,h),c}for(d=a(d);h<o.length;h++)null!==(f=g(d,t,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),r=s(f,r,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return n(t,e)}),Ll&&L(t,h),c}(t,u,d,h);if(c(d)){if("function"!=typeof(f=c(d)))throw Error(r(150));return function(t,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,v=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(v=h,h=null):v=h.sibling;var b=m(t,h,y.value,c);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&n(t,h),o=s(b,o,f),null===d?u=b:d.sibling=b,d=b,h=v}if(y.done)return i(t,h),Ll&&L(t,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=p(t,y.value,c))&&(o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return Ll&&L(t,f),u}for(h=a(h);!y.done;f++,y=l.next())null!==(y=g(h,t,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),o=s(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return n(t,e)}),Ll&&L(t,f),u}(t,u,d=f.call(d),h)}if("function"==typeof d.then)return v(t,u,Te(d),h);if(d.$$typeof===fa)return v(t,u,re(t,d),h);Ce(t,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==u&&6===u.tag?(i(t,u.sibling),(h=o(u,d)).return=t,t=h):(i(t,u),(h=qi(d,t.mode,h)).return=t,t=h),l(t)):i(t,u)}return function(e,n,r,i){try{lc=0;var a=v(e,n,r,i);return sc=null,a}catch(s){if(s===nc||s===ic)throw s;var o=t(29,s,null,e.mode);return o.lanes=i,o.return=e,o}}}function Re(){for(var e=hc,t=fc=hc=0;t<e;){var n=dc[t];dc[t++]=null;var r=dc[t];dc[t++]=null;var i=dc[t];dc[t++]=null;var a=dc[t];if(dc[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Ie(n,i,a)}}function Ne(e,t,n,r){dc[hc++]=e,dc[hc++]=t,dc[hc++]=n,dc[hc++]=r,fc|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function ke(e,t,n,r){return Ne(e,t,n,r),Oe(e)}function Le(e,t){return Ne(e,null,null,t),Oe(e)}function Ie(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-$s(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Oe(e){if(50<Iu)throw Iu=0,Ou=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}function De(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ue(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function je(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ru){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Oe(e),Ie(e,null,n),t}return Ne(e,r,t,n),Oe(e)}function ze(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,w(e,n)}}function Be(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ve(){if(mc&&null!==Ql)throw Ql}function He(e,t,n,r){mc=!1;var i=e.updateQueue;pc=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&(s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l)}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(ou&h)===h:(r&h)===h){0!==h&&h===Jl&&(mc=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var p=e,m=s;h=t;var g=n;switch(m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(g,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=m.payload)?p.call(g,d,h):p))break e;d=aa({},d,h);break e;case 2:pc=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pu|=o,e.lanes=o,e.memoizedState=d}}function We(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ge(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)We(n[e],t)}function qe(e,t){f(vc,e=hu),f(gc,t),hu=e|t.baseLanes}function Xe(){f(vc,hu),f(gc,gc.current)}function $e(){hu=vc.current,h(gc),h(vc)}function Ye(e){var t=e.alternate;f(xc,1&xc.current),f(yc,e),null===bc&&(null===t||null!==gc.current||null!==t.memoizedState)&&(bc=e)}function Ke(e){f(xc,xc.current),f(yc,e),null===bc&&(bc=e)}function Ze(e){22===e.tag?(f(xc,xc.current),f(yc,e),null===bc&&(bc=e)):Je()}function Je(){f(xc,xc.current),f(yc,yc.current)}function Qe(e){h(yc),bc===e&&(bc=null),h(xc)}function et(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Bo(n)||Vo(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function tt(){throw Error(r(321))}function nt(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fl(e[n],t[n]))return!1;return!0}function rt(e,t,n,r,i,a){return _c=a,wc=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ma.H=null===e||null===e.memoizedState?Lc:Ic,Ac=!1,a=n(r,i),Ac=!1,Tc&&(a=at(t,n,r,i)),it(e),a}function it(e){Ma.H=kc;var t=null!==Sc&&null!==Sc.next;if(_c=0,Mc=Sc=wc=null,Ec=!1,Pc=0,Rc=null,t)throw Error(r(300));null===e||Uc||null!==(e=e.dependencies)&&ee(e)&&(Uc=!0)}function at(e,t,n,i){wc=e;var a=0;do{if(Tc&&(Rc=null),Pc=0,Tc=!1,25<=a)throw Error(r(301));if(a+=1,Mc=Sc=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}Ma.H=Oc,o=t(n,i)}while(Tc);return o}function ot(){var e=Ma.H,t=e.useState()[0];return t="function"==typeof t.then?ht(t):t,e=e.useState()[0],(null!==Sc?Sc.memoizedState:null)!==e&&(wc.flags|=1024),t}function st(){var e=0!==Cc;return Cc=0,e}function lt(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ct(e){if(Ec){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ec=!1}_c=0,Mc=Sc=wc=null,Tc=!1,Pc=Cc=0,Rc=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Mc?wc.memoizedState=Mc=e:Mc=Mc.next=e,Mc}function dt(){if(null===Sc){var e=wc.alternate;e=null!==e?e.memoizedState:null}else e=Sc.next;var t=null===Mc?wc.memoizedState:Mc.next;if(null!==t)Mc=t,Sc=e;else{if(null===e)throw null===wc.alternate?Error(r(467)):Error(r(310));e={memoizedState:(Sc=e).memoizedState,baseState:Sc.baseState,baseQueue:Sc.baseQueue,queue:Sc.queue,next:null},null===Mc?wc.memoizedState=Mc=e:Mc=Mc.next=e}return Mc}function ht(e){var t=Pc;return Pc+=1,null===Rc&&(Rc=[]),e=we(Rc,e,t),t=wc,null===(null===Mc?t.memoizedState:Mc.next)&&(t=t.alternate,Ma.H=null===t||null===t.memoizedState?Lc:Ic),e}function ft(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ht(e);if(e.$$typeof===fa)return ne(e)}throw Error(r(438,String(e)))}function pt(e){var t=null,n=wc.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wc.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wc.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=xa;return t.index++,n}function mt(e,t){return"function"==typeof t?t(e):t}function gt(e){return vt(dt(),Sc,e)}function vt(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ou&h)===h:(_c&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Jl&&(d=!0);else{if((_c&f)===f){u=u.next,f===Jl&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,wc.lanes|=f,pu|=f}h=u.action,Ac&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,wc.lanes|=h,pu|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!fl(o,e.memoizedState)&&(Uc=!0,d&&null!==(n=Ql)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,i.lastRenderedState=o}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function yt(e){var t=dt(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);fl(o,t.memoizedState)||(Uc=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function bt(e,t,n){var i=wc,a=dt(),o=Ll;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!fl((Sc||a).memoizedState,n);if(s&&(a.memoizedState=n,Uc=!0),a=a.queue,Wt(wt.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==Mc&&1&Mc.memoizedState.tag){if(i.flags|=2048,jt(9,{destroy:void 0},_t.bind(null,i,a,n,t),null),null===iu)throw Error(r(349));o||127&_c||xt(i,t,n)}return n}function xt(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wc.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wc.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _t(e,t,n,r){t.value=n,t.getSnapshot=r,St(t)&&Mt(e)}function wt(e,t,n){return n(function(){St(t)&&Mt(e)})}function St(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fl(e,n)}catch{return!0}}function Mt(e){var t=Le(e,2);null!==t&&ai(t,0,2)}function Et(e){var t=ut();if("function"==typeof e){var n=e;if(e=n(),Ac){T(!0);try{n()}finally{T(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:e},t}function Tt(e,t,n,r){return e.baseState=n,vt(e,Sc,"function"==typeof r?r:mt)}function At(e,t,n,i,a){if(hn(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==Ma.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,Ct(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ct(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=Ma.T,o={};Ma.T=o;try{var s=n(i,r),l=Ma.S;null!==l&&l(o,s),Pt(e,t,s)}catch(c){Nt(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),Ma.T=a}}else try{Pt(e,t,a=n(i,r))}catch(c){Nt(e,t,c)}}function Pt(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Rt(e,t,n)},function(n){return Nt(e,t,n)}):Rt(e,t,n)}function Rt(e,t,n){t.status="fulfilled",t.value=n,kt(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ct(e,n)))}function Nt(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,kt(t),t=t.next}while(t!==r)}e.action=null}function kt(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lt(e,t){return t}function It(e,t){if(Ll){var n=iu.formState;if(null!==n){e:{var r=wc;if(Ll){if(kl){var i=Go(kl,Ol);if(i){kl=Xo(i),r=qo(i);break e}}V(r)}r=!1}r&&(t=n[0])}}(n=ut()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lt,lastRenderedState:t},n.queue=r,n=cn.bind(null,wc,r),r.dispatch=n,r=Et(!1);var a=dn.bind(null,wc,!1,r.queue);return i={state:t,dispatch:null,action:e,pending:null},(r=ut()).queue=i,n=At.bind(null,wc,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ot(e){return Dt(dt(),Sc,e)}function Dt(e,t,n){if(t=vt(e,t,Lt)[0],e=gt(mt)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ht(t)}catch(o){throw o===nc?ic:o}else r=t;var i=(t=dt()).queue,a=i.dispatch;return n!==t.memoizedState&&(wc.flags|=2048,jt(9,{destroy:void 0},Ft.bind(null,i,n),null)),[r,a,e]}function Ft(e,t){e.action=t}function Ut(e){var t=dt(),n=Sc;if(null!==n)return Dt(t,n,e);dt(),t=t.memoizedState;var r=(n=dt()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function jt(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wc.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wc.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zt(){return dt().memoizedState}function Bt(e,t,n,r){var i=ut();wc.flags|=e,i.memoizedState=jt(1|t,{destroy:void 0},n,void 0===r?null:r)}function Vt(e,t,n,r){var i=dt();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Sc&&null!==r&&nt(r,Sc.memoizedState.deps)?i.memoizedState=jt(t,a,n,r):(wc.flags|=e,i.memoizedState=jt(1|t,a,n,r))}function Ht(e,t){Bt(8390656,8,e,t)}function Wt(e,t){Vt(2048,8,e,t)}function Gt(e){var t=dt().memoizedState;return function(e){wc.flags|=4;var t=wc.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},wc.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&ru)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function qt(e,t){return Vt(4,2,e,t)}function Xt(e,t){return Vt(4,4,e,t)}function $t(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Yt(e,t,n){n=null!=n?n.concat([e]):null,Vt(4,4,$t.bind(null,t,e),n)}function Kt(){}function Zt(e,t){var n=dt();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&nt(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jt(e,t){var n=dt();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&nt(t,r[1]))return r[0];if(r=e(),Ac){T(!0);try{e()}finally{T(!1)}}return n.memoizedState=[r,t],r}function Qt(e,t,n){return void 0===n||1073741824&_c&&!(261930&ou)?e.memoizedState=t:(e.memoizedState=n,e=ii(),wc.lanes|=e,pu|=e,n)}function en(e,t,n,r){return fl(n,t)?n:null!==gc.current?(e=Qt(e,n,r),fl(e,t)||(Uc=!0),e):42&_c&&(!(1073741824&_c)||261930&ou)?(e=ii(),wc.lanes|=e,pu|=e,t):(Uc=!0,e.memoizedState=n)}function tn(e,t,n,r,i){var a=$a();Xa(0!==a&&8>a?a:8);var o=Ma.T,s={};Ma.T=s,dn(e,!1,t,n);try{var l=i(),c=Ma.S;if(null!==c&&c(s,l),null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);un(e,t,u,ri())}else un(e,t,r,ri())}catch(d){un(e,t,{then:function(){},status:"rejected",reason:d},ri())}finally{Xa(a),null!==o&&null!==s.types&&(o.types=s.types),Ma.T=o}}function nn(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:ao,baseState:ao,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:ao},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mt,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rn(){return ne(oo)}function an(){return dt().memoizedState}function on(){return dt().memoizedState}function sn(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=ri(),r=je(t,e=Ue(n),n);return null!==r&&(ai(r,0,n),ze(r,t,n)),t={cache:ae()},void(e.payload=t)}t=t.return}}function ln(e,t,n){var r=ri();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hn(e)?fn(t,n):null!==(n=ke(e,t,n,r))&&(ai(n,0,r),pn(n,t,r))}function cn(e,t,n){un(e,t,n,ri())}function un(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hn(e))fn(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,fl(s,o))return Ne(e,t,i,0),null===iu&&Re(),!1}catch{}if(null!==(n=ke(e,t,i,r)))return ai(n,0,r),pn(n,t,r),!0}return!1}function dn(e,t,n,i){if(i={lane:2,revertLane:me(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},hn(e)){if(t)throw Error(r(479))}else null!==(t=ke(e,n,i,2))&&ai(t,0,2)}function hn(e){var t=e.alternate;return e===wc||null!==t&&t===wc}function fn(e,t){Tc=Ec=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pn(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,w(e,n)}}function mn(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:aa({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}function gn(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&xe(n,r)&&xe(i,a))}function vn(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function yn(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=aa({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function bn(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xn(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _n(e,t,n){return(n=Ue(n)).tag=3,n.payload={element:null},n.callback=function(){bn(e,t)},n}function wn(e){return(e=Ue(e)).tag=3,e}function Sn(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){xn(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){xn(t,n,r),"function"!=typeof i&&(null===Tu?Tu=new Set([this]):Tu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function Mn(e,t,n,r){t.child=null===e?uc(t,null,n,r):cc(t,e.child,n,r)}function En(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return te(t),r=rt(e,t,n,o,a,i),s=st(),null===e||Uc?(Ll&&s&&O(t),t.flags|=1,Mn(e,t,r,i),t.child):(lt(e,t,i),Xn(e,t,i))}function Tn(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Bi(a)||void 0!==a.defaultProps||null!==n.compare?((e=Wi(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,An(e,t,a,r,i))}if(a=e.child,!$n(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:xe)(o,r)&&e.ref===t.ref)return Xn(e,t,i)}return t.flags|=1,(e=Vi(a,r)).ref=t.ref,e.return=t,t.child=e}function An(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(xe(a,r)&&e.ref===t.ref){if(Uc=!1,t.pendingProps=r=a,!$n(e,i))return t.lanes=e.lanes,Xn(e,t,i);131072&e.flags&&(Uc=!0)}}return In(e,t,n,r,i)}function Cn(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Rn(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Rn(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&ye(0,null!==a?a.cachePool:null),null!==a?qe(t,a):Xe(),Ze(t)}else null!==a?(ye(0,a.cachePool),qe(t,a),Je(),t.memoizedState=null):(null!==e&&ye(0,null),Xe(),Je());return Mn(e,t,i,n),t.child}function Pn(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Rn(e,t,n,r,i){var a=ve();return a=null===a?null:{parent:Ba?Hl._currentValue:Hl._currentValue2,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&ye(0,null),Xe(),Ze(t),null!==e&&Q(e,t,r,!0),t.childLanes=i,null}function Nn(e,t){return(t=Vn({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function kn(e,t,n){return cc(t,e.child,null,n),(e=Nn(t,t.pendingProps)).flags|=2,Qe(t),t.memoizedState=null,e}function Ln(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));(null===e||e.ref!==n)&&(t.flags|=4194816)}}function In(e,t,n,r,i){return te(t),n=rt(e,t,n,r,void 0,i),r=st(),null===e||Uc?(Ll&&r&&O(t),t.flags|=1,Mn(e,t,n,i),t.child):(lt(e,t,i),Xn(e,t,i))}function On(e,t,n,r,i,a){return te(t),t.updateQueue=null,n=at(t,r,n,i),it(e),r=st(),null===e||Uc?(Ll&&r&&O(t),t.flags|=1,Mn(e,t,n,a),t.child):(lt(e,t,a),Xn(e,t,a))}function Dn(e,t,n,r,i){if(te(t),null===t.stateNode){var a=Xs,o=n.contextType;"object"==typeof o&&null!==o&&(a=ne(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Dc,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},De(t),o=n.contextType,a.context="object"==typeof o&&null!==o?ne(o):Xs,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(mn(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Dc.enqueueReplaceState(a,a.state,null),He(t,r,a,i),Ve(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=yn(n,s);a.props=l;var c=a.context,u=n.contextType;o=Xs,"object"==typeof u&&null!==u&&(o=ne(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||c!==o)&&vn(t,a,r,o),pc=!1;var h=t.memoizedState;a.state=h,He(t,r,a,i),Ve(),c=t.memoizedState,s||h!==c||pc?("function"==typeof d&&(mn(t,n,d,r),c=t.memoizedState),(l=pc||gn(t,n,l,r,h,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fe(e,t),u=yn(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Xs,"object"==typeof c&&null!==c&&(l=ne(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&vn(t,a,r,l),pc=!1,h=t.memoizedState,a.state=h,He(t,r,a,i),Ve();var f=t.memoizedState;o!==d||h!==f||pc||null!==e&&null!==e.dependencies&&ee(e.dependencies)?("function"==typeof s&&(mn(t,n,s,r),f=t.memoizedState),(u=pc||gn(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ee(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ln(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=cc(t,e.child,null,i),t.child=cc(t,null,n,i)):Mn(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Xn(e,t,i),e}function Fn(e,t,n,r){return q(),t.flags|=256,Mn(e,t,n,r),t.child}function Un(e){return{baseLanes:e,cachePool:be()}}function jn(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function zn(e,t,n){var i,a=t.pendingProps,o=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&xc.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(Ll){if(o?Ye(t):Je(),(e=kl)?null!==(e=rs(e,Ol))&&(t.memoizedState={dehydrated:e,treeContext:null!==Ml?{id:El,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},(n=Xi(e)).return=t,t.child=n,Nl=t,kl=null):e=null,null===e)throw V(t);return Vo(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,o?(Je(),l=Vn({mode:"hidden",children:l},o=t.mode),a=Gi(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Un(n),a.childLanes=jn(e,i,n),t.memoizedState=jc,Pn(null,a)):(Ye(t),Bn(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Ye(t),t.flags&=-257,t=Hn(e,t,n)):null!==t.memoizedState?(Je(),t.child=e.child,t.flags|=128,t=null):(Je(),l=a.fallback,o=t.mode,a=Vn({mode:"visible",children:a.children},o),(l=Gi(l,o,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,cc(t,e.child,null,n),(a=t.child).memoizedState=Un(n),a.childLanes=jn(e,i,n),t.memoizedState=jc,t=Pn(null,a));else if(Ye(t),Vo(l))i=Ho(l).digest,(a=Error(r(419))).stack="",a.digest=i,$({value:a,source:null,stack:null}),t=Hn(e,t,n);else if(Uc||Q(e,t,n,!1),i=0!==(n&e.childLanes),Uc||i){if(null!==(i=iu)&&0!==(a=S(i,n))&&a!==c.retryLane)throw c.retryLane=a,Le(e,a),ai(i,0,a),Fc;Bo(l)||vi(),t=Hn(e,t,n)}else Bo(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Wa&&(kl=Jo(l),Nl=t,Ll=!0,Il=null,Ol=!1,null!==e&&F(t,e)),(t=Bn(t,a.children)).flags|=4096);return t}return o?(Je(),l=a.fallback,o=t.mode,s=(c=e.child).sibling,(a=Vi(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==s?l=Vi(s,l):(l=Gi(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Pn(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Un(n):(null!==(o=l.cachePool)?(c=Ba?Hl._currentValue:Hl._currentValue2,o=o.parent!==c?{parent:c,pool:c}:o):o=be(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=jn(e,i,n),t.memoizedState=jc,Pn(e.child,a)):(Ye(t),e=(n=e.child).sibling,(n=Vi(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Bn(e,t){return(t=Vn({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vn(e,n){return(e=t(22,e,null,n)).lanes=0,e}function Hn(e,t,n){return cc(t,e.child,null,n),(e=Bn(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wn(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Z(e.return,t,n)}function Gn(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function qn(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=xc.current,s=!!(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,f(xc,o),Mn(e,t,r,n),r=Ll?_l:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wn(e,n,t);else if(19===e.tag)Wn(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===et(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gn(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===et(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gn(t,!0,n,null,a,r);break;case"together":Gn(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Xn(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Q(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Vi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $n(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ee(e))}function Yn(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Uc=!0;else{if(!($n(e,n)||128&t.flags))return Uc=!1,function(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),Y(0,Hl,e.memoizedState.cache),q();break;case 27:case 5:z(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:Y(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ke(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Ye(t),t.flags|=128,null):0!==(n&t.child.childLanes)?zn(e,t,n):(Ye(t),null!==(e=Xn(e,t,n))?e.sibling:null);Ye(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Q(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return qn(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),f(xc,xc.current),r)break;return null;case 22:return t.lanes=0,Cn(e,t,n,t.pendingProps);case 24:Y(0,Hl,e.memoizedState.cache)}return Xn(e,t,n)}(e,t,n);Uc=!!(131072&e.flags)}else Uc=!1,Ll&&1048576&t.flags&&I(t,_l,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Se(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===pa){t.tag=11,t=En(null,t,e,i,n);break e}if(a===va){t.tag=14,t=Tn(null,t,e,i,n);break e}}throw t=u(e)||e,Error(r(306,t,""))}Bi(e)?(i=yn(e,i),t.tag=1,t=Dn(null,t,e,i,n)):(t.tag=0,t=In(null,t,e,i,n))}return t;case 0:return In(e,t,t.type,t.pendingProps,n);case 1:return Dn(e,t,i=t.type,a=yn(i,t.pendingProps),n);case 3:e:{if(U(t,t.stateNode.containerInfo),null===e)throw Error(r(387));var o=t.pendingProps;i=(a=t.memoizedState).element,Fe(e,t),He(t,o,null,n);var s=t.memoizedState;if(o=s.cache,Y(0,Hl,o),o!==a.cache&&J(t,[Hl],n,!0),Ve(),o=s.element,Wa&&a.isDehydrated){if(a={element:o,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fn(e,t,o,n);break e}if(o!==i){$(i=k(Error(r(424)),t)),t=Fn(e,t,o,n);break e}for(Wa&&(kl=Ko(t.stateNode.containerInfo),Nl=t,Ll=!0,Il=null,Ol=!0),n=uc(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(q(),o===i){t=Xn(e,t,n);break e}Mn(e,t,o,n)}t=t.child}return t;case 26:if(Es)return Ln(e,t),null===e?(n=Cs(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ll||(t.stateNode=Is(t.type,t.pendingProps,Pl.current,t)):t.memoizedState=Cs(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:if(js)return z(t),null===e&&js&&Ll&&(i=t.stateNode=zs(t.type,t.pendingProps,Pl.current,Al.current,!1),Nl=t,Ol=!0,kl=Qo(t.type,i,kl)),Mn(e,t,t.pendingProps.children,n),Ln(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Ll&&(Ss(t.type,t.pendingProps,Al.current),(a=i=kl)&&(null!==(i=es(i,t.type,t.pendingProps,Ol))?(t.stateNode=i,Nl=t,kl=Yo(i),Ol=!1,a=!0):a=!1),a||V(t)),z(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,Da(a,o)?i=null:null!==s&&Da(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=rt(e,t,ot,null,null,n),Ba?oo._currentValue=a:oo._currentValue2=a),Ln(e,t),Mn(e,t,i,n),t.child;case 6:return null===e&&Ll&&(Ms(t.pendingProps,Al.current),(e=n=kl)&&(null!==(n=ts(n,t.pendingProps,Ol))?(t.stateNode=n,Nl=t,kl=null,e=!0):e=!1),e||V(t)),null;case 13:return zn(e,t,n);case 4:return U(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=cc(t,null,i,n):Mn(e,t,i,n),t.child;case 11:return En(e,t,t.type,t.pendingProps,n);case 7:return Mn(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mn(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Y(0,t.type,i.value),Mn(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,te(t),i=i(a=ne(a)),t.flags|=1,Mn(e,t,i,n),t.child;case 14:return Tn(e,t,t.type,t.pendingProps,n);case 15:return An(e,t,t.type,t.pendingProps,n);case 19:return qn(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(Ll){if("hidden"===i.mode)return e=Nn(t,i),t.lanes=536870912,Pn(null,e);if(Ke(t),(e=kl)?null!==(e=ns(e,Ol))&&(t.memoizedState={dehydrated:e,treeContext:null!==Ml?{id:El,overflow:Tl}:null,retryLane:536870912,hydrationErrors:null},(n=Xi(e)).return=t,t.child=n,Nl=t,kl=null):e=null,null===e)throw V(t);return t.lanes=536870912,null}return Nn(t,i)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(Ke(t),a)if(256&t.flags)t.flags&=-257,t=kn(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Uc||Q(e,t,n,!1),a=0!==(n&e.childLanes),Uc||a){if(null!==(i=iu)&&0!==(s=S(i,n))&&s!==o.retryLane)throw o.retryLane=s,Le(e,s),ai(i,0,s),Fc;vi(),t=kn(e,t,n)}else e=o.treeContext,Wa&&(kl=Zo(s),Nl=t,Ll=!0,Il=null,Ol=!1,null!==e&&F(t,e)),(t=Nn(t,i)).flags|=4096;return t}return(e=Vi(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Cn(e,t,n,t.pendingProps);case 24:return te(t),i=ne(Hl),null===e?(null===(a=ve())&&(a=iu,o=ae(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},De(t),Y(0,Hl,a)):(0!==(e.lanes&n)&&(Fe(e,t),He(t,null,null,n),Ve()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Y(0,Hl,i)):(i=o.cache,Y(0,Hl,i),i!==a.cache&&J(t,[Hl],n,!0))),Mn(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function Kn(e){e.flags|=4}function Zn(e){Ha&&(e.flags|=8)}function Jn(e,t){if(null!==e&&e.child===t.child)return!1;if(16&t.flags)return!0;for(e=t.child;null!==e;){if(8218&e.flags||8218&e.subtreeFlags)return!0;e=e.sibling}return!1}function Qn(e,t,n,r){if(Va)for(n=t.child;null!==n;){if(5===n.tag||6===n.tag)Ia(e,n.stateNode);else if(!(4===n.tag||js&&27===n.tag)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(Ha)for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=jo(a,i.type,i.memoizedProps)),Ia(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=zo(a,i.memoizedProps)),Ia(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),Qn(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function er(e,t,n,r){var i=!1;if(Ha)for(var a=t.child;null!==a;){if(5===a.tag){var o=a.stateNode;n&&r&&(o=jo(o,a.type,a.memoizedProps)),Do(e,o)}else if(6===a.tag)o=a.stateNode,n&&r&&(o=zo(o,a.memoizedProps)),Do(e,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),er(e,a,!0,!0),i=!0;else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return i;a=a.return}a.sibling.return=a.return,a=a.sibling}return i}function tr(e,t){if(Ha&&Jn(e,t)){var n=(e=t.stateNode).containerInfo,r=Oo();er(r,t,!1,!1),e.pendingChildren=r,Kn(t),Fo(n,r)}}function nr(e,t,n,r){if(Va)e.memoizedProps!==r&&Kn(t);else if(Ha){var i=e.stateNode,a=e.memoizedProps;if((e=Jn(e,t))||a!==r){var o=Al.current;(a=Io(i,n,a,r,!e,null))===i?t.stateNode=i:(Zn(t),Oa(a,n,r,o)&&Kn(t),t.stateNode=a,e&&Qn(a,t,!1,!1))}else t.stateNode=i}}function rr(e,t,n,r,i){if(32&e.mode&&(null===n?Ja(t,r):Qa(t,n,r))){if(e.flags|=16777216,(335544128&i)===i||eo(t,r))if(to(e.stateNode,t,r))e.flags|=8192;else{if(!pi())throw oc=ac,rc;e.flags|=8192}}else e.flags&=-16777217}function ir(e,t){if(Ds(t)){if(e.flags|=16777216,!Fs(t)){if(!pi())throw oc=ac,rc;e.flags|=8192}}else e.flags&=-16777217}function ar(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?y():536870912,e.lanes|=t,yu|=t)}function or(e,t){if(!Ll)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sr(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function lr(e,t,n){var i=t.pendingProps;switch(D(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sr(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),K(Hl),j(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(G(t)?Kn(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,X())),tr(e,t),sr(t),null;case 26:if(Es){var a=t.type,o=t.memoizedState;return null===e?(Kn(t),null!==o?(sr(t),ir(t,o)):(sr(t),rr(t,a,null,i,n))):o?o!==e.memoizedState?(Kn(t),sr(t),ir(t,o)):(sr(t),t.flags&=-16777217):(o=e.memoizedProps,Va?o!==i&&Kn(t):nr(e,t,a,i),sr(t),rr(t,a,o,i,n)),null}case 27:if(js){if(B(t),n=Pl.current,a=t.type,null!==e&&null!=t.stateNode)Va?e.memoizedProps!==i&&Kn(t):nr(e,t,a,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return sr(t),null}e=Al.current,G(t)?H(t,e):(e=zs(a,i,n,e,!0),t.stateNode=e,Kn(t))}return sr(t),null}case 5:if(B(t),a=t.type,null!==e&&null!=t.stateNode)nr(e,t,a,i);else{if(!i){if(null===t.stateNode)throw Error(r(166));return sr(t),null}if(o=Al.current,G(t))H(t,o),ps(t.stateNode,a,i,o)&&(t.flags|=64);else{var s=La(a,i,Pl.current,o,t);Zn(t),Qn(s,t,!1,!1),t.stateNode=s,Oa(s,a,i,o)&&Kn(t)}}return sr(t),rr(t,t.type,null===e?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)n=e.memoizedProps,Va?n!==i&&Kn(t):Ha&&(n!==i?(e=Pl.current,n=Al.current,Zn(t),t.stateNode=Fa(i,e,n,t)):t.stateNode=e.stateNode);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=Pl.current,n=Al.current,G(t)){if(!Wa)throw Error(r(176));if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=Nl))switch(a.tag){case 27:case 5:i=a.memoizedProps}as(e,n,t,i)||V(t,!0)}else Zn(t),t.stateNode=Fa(i,e,n,t)}return sr(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=G(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!Wa)throw Error(r(556));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));os(e,t)}else q(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sr(t),e=!1}else n=X(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Qe(t),t):(Qe(t),null);if(128&t.flags)throw Error(r(558))}return sr(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=G(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!Wa)throw Error(r(344));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));ss(a,t)}else q(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sr(t),a=!1}else a=X(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Qe(t),t):(Qe(t),null)}return Qe(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool),o=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ar(t,t.updateQueue),sr(t),null);case 4:return j(),tr(e,t),null===e&&qa(t.stateNode.containerInfo),sr(t),null;case 10:return K(t.type),sr(t),null;case 19:if(h(xc),null===(i=t.memoizedState))return sr(t),null;if(a=!!(128&t.flags),null===(o=i.rendering))if(a)or(i,!1);else{if(0!==fu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=et(e))){for(t.flags|=128,or(i,!1),e=o.updateQueue,t.updateQueue=e,ar(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hi(n,e),n=n.sibling;return f(xc,1&xc.current|2),Ll&&L(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&il()>Mu&&(t.flags|=128,a=!0,or(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=et(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ar(t,e),or(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!Ll)return sr(t),null}else 2*il()-i.renderingStartTime>Mu&&536870912!==n&&(t.flags|=128,a=!0,or(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=il(),e.sibling=null,n=xc.current,f(xc,a?1&n|2:1&n),Ll&&L(t,i.treeForkCount),e):(sr(t),null);case 22:case 23:return Qe(t),$e(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(sr(t),6&t.subtreeFlags&&(t.flags|=8192)):sr(t),null!==(n=t.updateQueue)&&ar(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&h(tc),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),K(Hl),sr(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function cr(e,t){switch(D(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return K(Hl),j(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return B(t),null;case 31:if(null!==t.memoizedState){if(Qe(t),null===t.alternate)throw Error(r(340));q()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Qe(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));q()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return h(xc),null;case 4:return j(),null;case 10:return K(t.type),null;case 22:case 23:return Qe(t),$e(),null!==e&&h(tc),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return K(Hl),null;default:return null}}function ur(e,t){switch(D(t),t.tag){case 3:K(Hl),j();break;case 26:case 27:case 5:B(t);break;case 4:j();break;case 31:null!==t.memoizedState&&Qe(t);break;case 13:Qe(t);break;case 19:h(xc);break;case 10:K(t.type);break;case 22:case 23:Qe(t),$e(),null!==e&&h(tc);break;case 24:K(Hl)}}function dr(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){Ii(t,t.return,s)}}function hr(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){Ii(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Ii(t,t.return,u)}}function fr(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ge(t,n)}catch(r){Ii(e,e.return,r)}}}function pr(e,t,n){n.props=yn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Ii(e,t,r)}}function mr(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=Ca(e.stateNode);break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Ii(e,t,i)}}function gr(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){Ii(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Ii(e,t,i)}else n.current=null}function vr(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{wo(r,t,n,e)}catch(i){Ii(e,e.return,i)}}function yr(e,t,n){try{So(e.stateNode,e.type,n,t,e)}catch(r){Ii(e,e.return,r)}}function br(e){return 5===e.tag||3===e.tag||!!Es&&26===e.tag||!!js&&27===e.tag&&Ws(e.type)||4===e.tag}function xr(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||br(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(js&&27===e.tag&&Ws(e.type)||2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _r(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?Eo(n,e,t):xo(n,e);else if(4!==r&&(js&&27===r&&Ws(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(_r(e,t,n),e=e.sibling;null!==e;)_r(e,t,n),e=e.sibling}function wr(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?Mo(n,e,t):bo(n,e);else if(4!==r&&(js&&27===r&&Ws(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(wr(e,t,n),e=e.sibling;null!==e;)wr(e,t,n),e=e.sibling}function Sr(e,t,n){e=e.containerInfo;try{Uo(e,n)}catch(r){Ii(t,t.return,r)}}function Mr(e){var t=e.stateNode,n=e.memoizedProps;try{Bs(e.type,n,t,e)}catch(r){Ii(e,e.return,r)}}function Er(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dr(e,n),4&r&&dr(5,n);break;case 1:if(Dr(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){Ii(n,n.return,o)}else{var i=yn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ii(n,n.return,o)}}64&r&&fr(n),512&r&&mr(n,n.return);break;case 3:if(Dr(e,n),64&r&&null!==(r=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:e=Ca(n.child.stateNode);break;case 1:e=n.child.stateNode}try{Ge(r,e)}catch(o){Ii(n,n.return,o)}}break;case 27:js&&null===t&&4&r&&Mr(n);case 26:case 5:if(Dr(e,n),null===t)if(4&r)vr(n);else if(64&r){e=n.type,t=n.memoizedProps,i=n.stateNode;try{us(i,e,t,n)}catch(o){Ii(n,n.return,o)}}512&r&&mr(n,n.return);break;case 12:Dr(e,n);break;case 31:Dr(e,n),4&r&&Pr(e,n);break;case 13:Dr(e,n),4&r&&Rr(e,n),64&r&&null!==(r=n.memoizedState)&&null!==(r=r.dehydrated)&&(n=Ui.bind(null,n),Wo(r,n));break;case 22:if(!(r=null!==n.memoizedState||zc)){t=null!==t&&null!==t.memoizedState||Bc,i=zc;var a=Bc;zc=r,(Bc=t)&&!a?Ur(e,n,!!(8772&n.subtreeFlags)):Dr(e,n),zc=i,Bc=a}break;case 30:break;default:Dr(e,n)}}function Tr(e){var t=e.alternate;null!==t&&(e.alternate=null,Tr(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Za(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ar(e,t,n){for(n=n.child;null!==n;)Cr(e,t,n),n=n.sibling}function Cr(e,t,n){if(hl&&"function"==typeof hl.onCommitFiberUnmount)try{hl.onCommitFiberUnmount(dl,n)}catch{}switch(n.tag){case 26:if(Es){Bc||gr(n,t),Ar(e,t,n),n.memoizedState?Rs(n.memoizedState):n.stateNode&&Ls(n.stateNode);break}case 27:if(js){Bc||gr(n,t);var r=Gc,i=qc;Ws(n.type)&&(Gc=n.stateNode,qc=!1),Ar(e,t,n),Vs(n.stateNode),Gc=r,qc=i;break}case 5:Bc||gr(n,t);case 6:if(Va){if(r=Gc,i=qc,Gc=null,Ar(e,t,n),qc=i,null!==(Gc=r))if(qc)try{Ao(Gc,n.stateNode)}catch(a){Ii(n,t,a)}else try{To(Gc,n.stateNode)}catch(a){Ii(n,t,a)}}else Ar(e,t,n);break;case 18:Va&&null!==Gc&&(qc?vs(Gc,n.stateNode):gs(Gc,n.stateNode));break;case 4:Va?(r=Gc,i=qc,Gc=n.stateNode.containerInfo,qc=!0,Ar(e,t,n),Gc=r,qc=i):(Ha&&Sr(n.stateNode,n,Oo()),Ar(e,t,n));break;case 0:case 11:case 14:case 15:hr(2,n,t),Bc||hr(4,n,t),Ar(e,t,n);break;case 1:Bc||(gr(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&pr(n,t,r)),Ar(e,t,n);break;case 21:Ar(e,t,n);break;case 22:Bc=(r=Bc)||null!==n.memoizedState,Ar(e,t,n),Bc=r;break;default:Ar(e,t,n)}}function Pr(e,t){if(Wa&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{hs(e)}catch(n){Ii(t,t.return,n)}}}function Rr(e,t){if(Wa&&null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{fs(e)}catch(n){Ii(t,t.return,n)}}function Nr(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Hc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Hc),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=ji.bind(null,e,t);t.then(r,r)}})}function kr(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t;if(Va){var l=s;e:for(;null!==l;){switch(l.tag){case 27:if(js){if(Ws(l.type)){Gc=l.stateNode,qc=!1;break e}break}case 5:Gc=l.stateNode,qc=!1;break e;case 3:case 4:Gc=l.stateNode.containerInfo,qc=!0;break e}l=l.return}if(null===Gc)throw Error(r(160));Cr(o,s,a),Gc=null,qc=!1}else Cr(o,s,a);null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Lr(t,e),t=t.sibling}function Lr(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kr(t,e),Ir(e),4&i&&(hr(3,e,e.return),dr(3,e),hr(5,e,e.return));break;case 1:kr(t,e),Ir(e),512&i&&(Bc||null===n||gr(n,n.return)),64&i&&zc&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:if(Es){var a=Xc;if(kr(t,e),Ir(e),512&i&&(Bc||null===n||gr(n,n.return)),4&i){i=null!==n?n.memoizedState:null;var o=e.memoizedState;null===n?null===o?null===e.stateNode?e.stateNode=Ns(a,e.type,e.memoizedProps,e):ks(a,e.type,e.stateNode):e.stateNode=Ps(a,o,e.memoizedProps):i!==o?(null===i?null!==n.stateNode&&Ls(n.stateNode):Rs(i),null===o?ks(a,e.type,e.stateNode):Ps(a,o,e.memoizedProps)):null===o&&null!==e.stateNode&&yr(e,e.memoizedProps,n.memoizedProps)}break}case 27:if(js){kr(t,e),Ir(e),512&i&&(Bc||null===n||gr(n,n.return)),null!==n&&4&i&&yr(e,e.memoizedProps,n.memoizedProps);break}case 5:if(kr(t,e),Ir(e),512&i&&(Bc||null===n||gr(n,n.return)),Va){if(32&e.flags){a=e.stateNode;try{Co(a)}catch(h){Ii(e,e.return,h)}}4&i&&null!=e.stateNode&&yr(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(Vc=!0)}else Ha&&null!==e.alternate&&(e.alternate.stateNode=e.stateNode);break;case 6:if(kr(t,e),Ir(e),4&i&&Va){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=null!==n?n.memoizedProps:i,a=e.stateNode;try{_o(a,n,i)}catch(h){Ii(e,e.return,h)}}break;case 3:if(Es?(Os(),a=Xc,Xc=As(t.containerInfo),kr(t,e),Xc=a):kr(t,e),Ir(e),4&i){if(Va&&Wa&&null!==n&&n.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(h){Ii(e,e.return,h)}if(Ha){i=t.containerInfo,n=t.pendingChildren;try{Uo(i,n)}catch(h){Ii(e,e.return,h)}}}Vc&&(Vc=!1,Or(e));break;case 4:Es?(n=Xc,Xc=As(e.stateNode.containerInfo),kr(t,e),Ir(e),Xc=n):(kr(t,e),Ir(e)),4&i&&Ha&&Sr(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:kr(t,e),Ir(e);break;case 31:kr(t,e),Ir(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Nr(e,i));break;case 13:kr(t,e),Ir(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(wu=il()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Nr(e,i));break;case 22:a=null!==e.memoizedState;var s=null!==n&&null!==n.memoizedState,l=zc,c=Bc;if(zc=l||a,Bc=c||s,kr(t,e),Bc=c,zc=l,Ir(e),8192&i&&((t=e.stateNode)._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||s||zc||Bc||Fr(e)),Va))e:if(n=null,Va)for(t=e;;){if(5===t.tag||Es&&26===t.tag){if(null===n){s=n=t;try{o=s.stateNode,a?Po(o):No(s.stateNode,s.memoizedProps)}catch(h){Ii(s,s.return,h)}}}else if(6===t.tag){if(null===n){s=t;try{var u=s.stateNode;a?Ro(u):ko(u,s.memoizedProps)}catch(h){Ii(s,s.return,h)}}}else if(18===t.tag){if(null===n){s=t;try{var d=s.stateNode;a?ys(d):bs(s.stateNode)}catch(h){Ii(s,s.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,Nr(e,n));break;case 19:kr(t,e),Ir(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,Nr(e,i));break;case 30:case 21:break;default:kr(t,e),Ir(e)}}function Ir(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(br(i)){n=i;break}i=i.return}if(Va){if(null==n)throw Error(r(160));switch(n.tag){case 27:if(js){var a=n.stateNode;wr(e,xr(e),a);break}case 5:var o=n.stateNode;32&n.flags&&(Co(o),n.flags&=-33),wr(e,xr(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;_r(e,xr(e),s);break;default:throw Error(r(161))}}}catch(l){Ii(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Or(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Or(t),5===t.tag&&1024&t.flags&&so(t.stateNode),e=e.sibling}}function Dr(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Er(e,t.alternate,t),t=t.sibling}function Fr(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:hr(4,t,t.return),Fr(t);break;case 1:gr(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&pr(t,t.return,n),Fr(t);break;case 27:js&&Vs(t.stateNode);case 26:case 5:gr(t,t.return),Fr(t);break;case 22:null===t.memoizedState&&Fr(t);break;default:Fr(t)}e=e.sibling}}function Ur(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ur(i,a,n),dr(4,a);break;case 1:if(Ur(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Ii(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)We(l[i],s)}catch(c){Ii(r,r.return,c)}}n&&64&o&&fr(a),mr(a,a.return);break;case 27:js&&Mr(a);case 26:case 5:Ur(i,a,n),n&&null===r&&4&o&&vr(a),mr(a,a.return);break;case 12:Ur(i,a,n);break;case 31:Ur(i,a,n),n&&4&o&&Pr(i,a);break;case 13:Ur(i,a,n),n&&4&o&&Rr(i,a);break;case 22:null===a.memoizedState&&Ur(i,a,n),mr(a,a.return);break;case 30:break;default:Ur(i,a,n)}t=t.sibling}}function jr(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&oe(n))}function zr(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&oe(e))}function Br(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vr(e,t,n,r),t=t.sibling}function Vr(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Br(e,t,n,r),2048&i&&dr(9,t);break;case 1:case 31:case 13:default:Br(e,t,n,r);break;case 3:Br(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&oe(e)));break;case 12:if(2048&i){Br(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Ii(t,t.return,l)}}else Br(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Br(e,t,n,r):Wr(e,t):2&a._visibility?Br(e,t,n,r):(a._visibility|=2,Hr(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&jr(o,t);break;case 24:Br(e,t,n,r),2048&i&&zr(t.alternate,t)}}function Hr(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hr(a,o,s,l,i),dr(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hr(a,o,s,l,i):Wr(a,o):(u._visibility|=2,Hr(a,o,s,l,i)),i&&2048&c&&jr(o.alternate,o);break;case 24:Hr(a,o,s,l,i),i&&2048&c&&zr(o.alternate,o);break;default:Hr(a,o,s,l,i)}t=t.sibling}}function Wr(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Wr(n,r),2048&i&&jr(r.alternate,r);break;case 24:Wr(n,r),2048&i&&zr(r.alternate,r);break;default:Wr(n,r)}t=t.sibling}}function Gr(e,t,n){if(e.subtreeFlags&$c)for(e=e.child;null!==e;)qr(e,t,n),e=e.sibling}function qr(e,t,n){switch(e.tag){case 26:if(Gr(e,t,n),e.flags&$c)if(null!==e.memoizedState)Us(n,Xc,e.memoizedState,e.memoizedProps);else{var r=e.stateNode,i=e.type;e=e.memoizedProps,((335544128&t)===t||eo(i,e))&&ro(n,r,i,e)}break;case 5:Gr(e,t,n),e.flags&$c&&(r=e.stateNode,i=e.type,e=e.memoizedProps,((335544128&t)===t||eo(i,e))&&ro(n,r,i,e));break;case 3:case 4:Es?(r=Xc,Xc=As(e.stateNode.containerInfo),Gr(e,t,n),Xc=r):Gr(e,t,n);break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=$c,$c=16777216,Gr(e,t,n),$c=r):Gr(e,t,n));break;default:Gr(e,t,n)}}function Xr(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $r(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Wc=r,Zr(r,e)}Xr(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yr(e),e=e.sibling}function Yr(e){switch(e.tag){case 0:case 11:case 15:$r(e),2048&e.flags&&hr(9,e,e.return);break;case 3:case 12:default:$r(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Kr(e)):$r(e)}}function Kr(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Wc=r,Zr(r,e)}Xr(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:hr(8,t,t.return),Kr(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Kr(t));break;default:Kr(t)}e=e.sibling}}function Zr(e,t){for(;null!==Wc;){var n=Wc;switch(n.tag){case 0:case 11:case 15:hr(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:oe(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Wc=r;else e:for(n=e;null!==Wc;){var i=(r=Wc).sibling,a=r.return;if(Tr(r),r===n){Wc=null;break e}if(null!==i){i.return=a,Wc=i;break e}Wc=a}}}function Jr(e){var t=Ga(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(r(364));return t}if(null===(e=ho(e)))throw Error(r(362));return e.stateNode.current}function Qr(e,t){var n=e.tag;switch(t.$$typeof){case Kc:if(e.type===t.value)return!0;break;case Zc:e:{for(t=t.value,e=[e,0],n=0;n<e.length;){var i=e[n++],a=i.tag,o=e[n++],s=t[o];if(5!==a&&26!==a&&27!==a||!mo(i)){for(;null!=s&&Qr(i,s);)s=t[++o];if(o===t.length){t=!0;break e}for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}t=!1}return t;case Jc:if((5===n||26===n||27===n)&&go(e.stateNode,t.value))return!0;break;case eu:if((5===n||6===n||26===n||27===n)&&null!==(e=po(e))&&0<=e.indexOf(t.value))return!0;break;case Qc:if((5===n||26===n||27===n)&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(r(365))}return!1}function ei(e){switch(e.$$typeof){case Kc:return"<"+(u(e.value)||"Unknown")+">";case Zc:return":has("+(ei(e)||"")+")";case Jc:return'[role="'+e.value+'"]';case eu:return'"'+e.value+'"';case Qc:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function ti(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=i.tag,o=e[r++],s=t[o];if(5!==a&&26!==a&&27!==a||!mo(i)){for(;null!=s&&Qr(i,s);)s=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function ni(e,t){if(!uo)throw Error(r(363));e=ti(e=Jr(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var i=e[n++],a=i.tag;if(5===a||26===a||27===a)mo(i)||t.push(i.stateNode);else for(i=i.child;null!==i;)e.push(i),i=i.sibling}return t}function ri(){return 2&ru&&0!==ou?ou&-ou:null!==Ma.T?me():Ya()}function ii(){if(0===vu)if(536870912&ou&&!Ll)vu=536870912;else{var e=Js;!(3932160&(Js<<=1))&&(Js=262144),vu=e}return null!==(e=yc.current)&&(e.flags|=32),vu}function ai(e,t,n){(e===iu&&(2===su||9===su)||null!==e.cancelPendingCommit)&&(hi(e,0),ci(e,ou,vu,!1)),x(e,n),(!(2&ru)||e!==iu)&&(e===iu&&(!(2&ru)&&(mu|=n),4===fu&&ci(e,ou,vu,!1)),le(e))}function oi(e,t,n){if(6&ru)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||g(e,t),a=i?function(e,t){var n=ru;ru|=2;var i=mi(),a=gi();iu!==e||ou!==t?(Eu=null,Mu=il()+500,hi(e,t)):uu=g(e,t);e:for(;;)try{if(0!==su&&null!==au){t=au;var o=lu;t:switch(su){case 1:su=0,lu=null,Si(e,t,o,1);break;case 2:case 9:if(_e(o)){su=0,lu=null,wi(t);break}t=function(){2!==su&&9!==su||iu!==e||(su=7),le(e)},o.then(t,t);break e;case 3:su=7;break e;case 4:su=5;break e;case 7:_e(o)?(su=0,lu=null,wi(t)):(su=0,lu=null,Si(e,t,o,7));break;case 5:var s=null;switch(au.tag){case 26:s=au.memoizedState;case 5:case 27:var l=au,c=l.type,u=l.pendingProps;if(s?Fs(s):to(l.stateNode,c,u)){su=0,lu=null;var d=l.sibling;if(null!==d)au=d;else{var h=l.return;null!==h?(au=h,Mi(h)):au=null}break t}}su=0,lu=null,Si(e,t,o,5);break;case 6:su=0,lu=null,Si(e,t,o,6);break;case 8:di(),fu=6;break e;default:throw Error(r(462))}}xi();break}catch(f){fi(e,f)}return jl=Ul=null,Ma.H=i,Ma.A=a,ru=n,null!==au?0:(iu=null,ou=0,Re(),fu)}(e,t):yi(e,t,!0),o=i;;){if(0===a){uu&&!i&&ci(e,t,0,!1);break}if(n=e.current.alternate,!o||li(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=bu;var c=Wa&&l.current.memoizedState.isDehydrated;if(c&&(hi(l,s).flags|=256),2!==(s=yi(l,s,!1))){if(du&&!c){l.errorRecoveryDisabledLanes|=o,mu|=o,a=4;break e}o=xu,xu=a,null!==o&&(null===xu?xu=o:xu.push.apply(xu,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){hi(e,0),ci(e,t,0,!0);break}e:{switch(i=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ci(i,t,vu,!cu);break e;case 2:xu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=wu+300-il())){if(ci(i,t,vu,!cu),0!==m(i,0,!0))break e;Ru=t,i.timeoutHandle=Ua(si.bind(null,i,n,xu,Eu,_u,t,vu,mu,yu,cu,o,"Throttled",-0,0),a)}else si(i,n,xu,Eu,_u,t,vu,mu,yu,cu,o,null,-0,0)}break}a=yi(e,t,!1),o=!1}le(e)}function si(e,t,n,r,i,a,o,s,l,c,u,d,h,f){if(e.timeoutHandle=za,8192&(d=t.subtreeFlags)||!(16785408&~d)){qr(t,a,d=no());var p=(62914560&a)===a?wu-il():(4194048&a)===a?Su-il():0;if(null!==(p=io(d,p)))return Ru=a,e.cancelPendingCommit=p(Ti.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,f)),void ci(e,a,o,!c)}Ti(e,t,a,n,r,i,o,s,l)}function li(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fl(a(),i))return!1}catch{return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t,n,r){t&=~gu,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-$s(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&_(e,n,t)}function ui(){return!!(6&ru)||(ce(0),!1)}function di(){if(null!==au){if(0===su)var e=au.return;else jl=Ul=null,ct(e=au),sc=null,lc=0,e=au;for(;null!==e;)ur(e.alternate,e),e=e.return;au=null}}function hi(e,t){var n=e.timeoutHandle;n!==za&&(e.timeoutHandle=za,ja(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Ru=0,di(),iu=e,au=n=Vi(e.current,null),ou=t,su=0,lu=null,cu=!1,uu=g(e,t),du=!1,yu=vu=gu=mu=pu=fu=0,xu=bu=null,_u=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-$s(r),a=1<<i;t|=e[i],r&=~a}return hu=t,Re(),n}function fi(e,t){wc=null,Ma.H=kc,t===nc||t===ic?(t=Me(),su=3):t===rc?(t=Me(),su=4):su=t===Fc?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,lu=t,null===au&&(fu=1,bn(e,k(t,e.current)))}function pi(){var e=yc.current;return null===e||((4194048&ou)===ou?null===bc:!!((62914560&ou)===ou||536870912&ou)&&e===bc)}function mi(){var e=Ma.H;return Ma.H=kc,null===e?kc:e}function gi(){var e=Ma.A;return Ma.A=Yc,e}function vi(){fu=4,cu||(4194048&ou)!==ou&&null!==yc.current||(uu=!0),!(134217727&pu)&&!(134217727&mu)||null===iu||ci(iu,ou,vu,!1)}function yi(e,t,n){var r=ru;ru|=2;var i=mi(),a=gi();(iu!==e||ou!==t)&&(Eu=null,hi(e,t)),t=!1;var o=fu;e:for(;;)try{if(0!==su&&null!==au){var s=au,l=lu;switch(su){case 8:di(),o=6;break e;case 3:case 2:case 9:case 6:null===yc.current&&(t=!0);var c=su;if(su=0,lu=null,Si(e,s,l,c),n&&uu){o=0;break e}break;default:c=su,su=0,lu=null,Si(e,s,l,c)}}bi(),o=fu;break}catch(u){fi(e,u)}return t&&e.shellSuspendCounter++,jl=Ul=null,ru=r,Ma.H=i,Ma.A=a,null===au&&(iu=null,ou=0,Re()),o}function bi(){for(;null!==au;)_i(au)}function xi(){for(;null!==au&&!nl();)_i(au)}function _i(e){var t=Yn(e.alternate,e,hu);e.memoizedProps=e.pendingProps,null===t?Mi(e):au=t}function wi(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=On(n,t,t.pendingProps,t.type,void 0,ou);break;case 11:t=On(n,t,t.pendingProps,t.type.render,t.ref,ou);break;case 5:ct(t);default:ur(n,t),t=Yn(n,t=au=Hi(t,hu),hu)}e.memoizedProps=e.pendingProps,null===t?Mi(e):au=t}function Si(e,t,n,i){jl=Ul=null,ct(t),sc=null,lc=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Q(t,n,a,!0),null!==(n=yc.current)){switch(n.tag){case 31:case 13:return null===bc?vi():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===ac?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Oi(e,i,a)),!1;case 22:return n.flags|=65536,i===ac?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Oi(e,i,a)),!1}throw Error(r(435,n.tag))}return Oi(e,i,a),vi(),!1}if(Ll)return null!==(t=yc.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==Dl&&$(k(e=Error(r(422),{cause:i}),n))):(i!==Dl&&$(k(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=k(i,n),Be(e,a=_n(e.stateNode,i,a)),4!==fu&&(fu=2)),!1;var o=Error(r(520),{cause:i});if(o=k(o,n),null===bu?bu=[o]:bu.push(o),4!==fu&&(fu=2),null===t)return!0;i=k(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,Be(n,e=_n(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Tu&&Tu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Sn(a=wn(a),e,n,i),Be(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,ou))return fu=1,bn(e,k(n,e.current)),void(au=null)}catch(o){if(null!==a)throw au=a,o;return fu=1,bn(e,k(n,e.current)),void(au=null)}32768&t.flags?(Ll||1===i?e=!0:uu||536870912&ou?e=!1:(cu=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=yc.current)&&13===i.tag&&(i.flags|=16384)),Ei(t,e)):Mi(t)}function Mi(e){var t=e;do{if(32768&t.flags)return void Ei(t,cu);e=t.return;var n=lr(t.alternate,t,hu);if(null!==n)return void(au=n);if(null!==(t=t.sibling))return void(au=t);au=t=e}while(null!==t);0===fu&&(fu=5)}function Ei(e,t){do{var n=cr(e.alternate,e);if(null!==n)return n.flags&=32767,void(au=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(au=e);au=e=n}while(null!==e);fu=6,au=null}function Ti(e,t,n,i,a,o,s,l,c){e.cancelPendingCommit=null;do{Ni()}while(0!==Au);if(6&ru)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-$s(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&_(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o|=fc,s,l,c),e===iu&&(au=iu=null,ou=0),Pu=t,Cu=e,Ru=n,Nu=o,ku=a,Lu=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,function(e,t){el(e,t)}(sl,function(){return ki(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=Ma.T,Ma.T=null,a=$a(),Xa(2),s=ru,ru|=4;try{!function(e,t){for(Na(e.containerInfo),Wc=t;null!==Wc;)if(t=(e=Wc).child,1028&e.subtreeFlags&&null!==t)t.return=e,Wc=t;else for(;null!==Wc;){var n=(e=Wc).alternate;switch(t=e.flags,e.tag){case 0:if(4&t&&null!==(t=null!==(t=e.updateQueue)?t.events:null))for(var i=0;i<t.length;i++){var a=t[i];a.ref.impl=a.nextImpl}break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&t&&null!==n){t=void 0,i=e,a=n.memoizedProps,n=n.memoizedState;var o=i.stateNode;try{var s=yn(i.type,a);t=o.getSnapshotBeforeUpdate(s,n),o.__reactInternalSnapshotBeforeUpdate=t}catch(l){Ii(i,i.return,l)}}break;case 3:1024&t&&Va&&Lo(e.stateNode.containerInfo);break;default:if(1024&t)throw Error(r(163))}if(null!==(t=e.sibling)){t.return=e.return,Wc=t;break}Wc=e.return}}(e,t)}finally{ru=s,Xa(a),Ma.T=i}}Au=1,Ai(),Ci(),Pi()}}function Ai(){if(1===Au){Au=0;var e=Cu,t=Pu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=Ma.T,Ma.T=null;var r=$a();Xa(2);var i=ru;ru|=4;try{Lr(t,e),ka(e.containerInfo)}finally{ru=i,Xa(r),Ma.T=n}}e.current=t,Au=2}}function Ci(){if(2===Au){Au=0;var e=Cu,t=Pu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=Ma.T,Ma.T=null;var r=$a();Xa(2);var i=ru;ru|=4;try{Er(e,t.alternate,t)}finally{ru=i,Xa(r),Ma.T=n}}Au=3}}function Pi(){if(4===Au||3===Au){Au=0,rl();var e=Cu,t=Pu,n=Ru,r=Lu;10256&t.subtreeFlags||10256&t.flags?Au=5:(Au=0,Pu=Cu=null,Ri(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tu=null),E(n),t=t.stateNode,hl&&"function"==typeof hl.onCommitFiberRoot)try{hl.onCommitFiberRoot(dl,t,void 0,!(128&~t.current.flags))}catch{}if(null!==r){t=Ma.T,i=$a(),Xa(2),Ma.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{Ma.T=t,Xa(i)}}!!(3&Ru)&&Ni(),le(e),i=e.pendingLanes,261930&n&&42&i?e===Ou?Iu++:(Iu=0,Ou=e):Iu=0,Wa&&ms(),ce(0)}}function Ri(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,oe(t))}function Ni(){return Ai(),Ci(),Pi(),ki()}function ki(){if(5!==Au)return!1;var e=Cu,t=Nu;Nu=0;var n=E(Ru),i=32>n?32:n;n=Ma.T;var a=$a();try{Xa(i),Ma.T=null,i=ku,ku=null;var o=Cu,s=Ru;if(Au=0,Pu=Cu=null,Ru=0,6&ru)throw Error(r(331));var l=ru;if(ru|=4,Yr(o.current),Vr(o,o.current,s,i),ru=l,ce(0),hl&&"function"==typeof hl.onPostCommitFiberRoot)try{hl.onPostCommitFiberRoot(dl,o)}catch{}return!0}finally{Xa(a),Ma.T=n,Ri(e,t)}}function Li(e,t,n){t=k(n,t),null!==(e=je(e,t=_n(e.stateNode,t,2),2))&&(x(e,2),le(e))}function Ii(e,t,n){if(3===e.tag)Li(e,e,n);else for(;null!==t;){if(3===t.tag){Li(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Tu||!Tu.has(r))){e=k(n,e),null!==(r=je(t,n=wn(2),2))&&(Sn(n,r,t,e),x(r,2),le(r));break}}t=t.return}}function Oi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(du=!0,i.add(n),e=Di.bind(null,e,t,n),t.then(e,e))}function Di(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,iu===e&&(ou&n)===n&&(4===fu||3===fu&&(62914560&ou)===ou&&300>il()-wu?!(2&ru)&&hi(e,0):gu|=n,yu===ou&&(yu=0)),le(e)}function Fi(e,t){0===t&&(t=y()),null!==(e=Le(e,t))&&(x(e,t),le(e))}function Ui(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Fi(e,n)}function ji(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Fi(e,n)}function zi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return null===r?((r=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Hi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wi(e,n,i,a,o,s){var l=0;if(a=e,"function"==typeof e)Bi(e)&&(l=1);else if("string"==typeof e)l=Es&&js?Ts(e,i,Al.current)?26:Hs(e)?27:5:Es?Ts(e,i,Al.current)?26:5:js&&Hs(e)?27:5;else e:switch(e){case ba:return(e=t(31,i,n,o)).elementType=ba,e.lanes=s,e;case ca:return Gi(i.children,o,s,n);case ua:l=8,o|=24;break;case da:return(e=t(12,i,n,2|o)).elementType=da,e.lanes=s,e;case ma:return(e=t(13,i,n,o)).elementType=ma,e.lanes=s,e;case ga:return(e=t(19,i,n,o)).elementType=ga,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case fa:l=10;break e;case ha:l=9;break e;case pa:l=11;break e;case va:l=14;break e;case ya:l=16,a=null;break e}l=29,i=Error(r(130,null===e?"null":typeof e,"")),a=null}return(n=t(l,i,n,o)).elementType=e,n.type=a,n.lanes=s,n}function Gi(e,n,r,i){return(e=t(7,e,i,n)).lanes=r,e}function qi(e,n,r){return(e=t(6,e,null,n)).lanes=r,e}function Xi(e){var n=t(18,null,null,0);return n.stateNode=e,n}function $i(e,n,r){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Yi(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=za,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=b(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b(0),this.hiddenUpdates=b(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function Ki(e,n,r,i,a,o,s,l,c,u,d,h){return e=new Yi(e,n,r,s,c,u,d,h,l),n=1,!0===o&&(n|=24),o=t(3,null,null,n),e.current=o,o.stateNode=e,(n=ae()).refCount++,e.pooledCache=n,n.refCount++,o.memoizedState={element:i,isDehydrated:r,cache:n},De(o),e}function Zi(e){return e?e=Xs:Xs}function Ji(e){var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return null===(e=null!==(e=o(t))?s(e):null)?null:Ca(e.stateNode)}function Qi(e,t,n,r,i,a){i=Zi(i),null===r.context?r.context=i:r.pendingContext=i,(r=Ue(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=je(e,r,t))&&(ai(n,0,t),ze(n,e,t))}function ea(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ta(e,t){ea(e,t),(e=e.alternate)&&ea(e,t)}var na={},ra=A,ia=lB,aa=Object.assign,oa=Symbol.for("react.element"),sa=Symbol.for("react.transitional.element"),la=Symbol.for("react.portal"),ca=Symbol.for("react.fragment"),ua=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),ha=Symbol.for("react.consumer"),fa=Symbol.for("react.context"),pa=Symbol.for("react.forward_ref"),ma=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),va=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),ba=Symbol.for("react.activity"),xa=Symbol.for("react.memo_cache_sentinel"),_a=Symbol.iterator,wa=Symbol.for("react.client.reference"),Sa=Array.isArray,Ma=ra.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ea=e.rendererVersion,Ta=e.rendererPackageName,Aa=e.extraDevToolsConfig,Ca=e.getPublicInstance,Pa=e.getRootHostContext,Ra=e.getChildHostContext,Na=e.prepareForCommit,ka=e.resetAfterCommit,La=e.createInstance;e.cloneMutableInstance;var Ia=e.appendInitialChild,Oa=e.finalizeInitialChildren,Da=e.shouldSetTextContent,Fa=e.createTextInstance;e.cloneMutableTextInstance;var Ua=e.scheduleTimeout,ja=e.cancelTimeout,za=e.noTimeout,Ba=e.isPrimaryRenderer;e.warnsIfNotActing;var Va=e.supportsMutation,Ha=e.supportsPersistence,Wa=e.supportsHydration,Ga=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var qa=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Xa=e.setCurrentUpdatePriority,$a=e.getCurrentUpdatePriority,Ya=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Ka=e.shouldAttemptEagerTransition,Za=e.detachDeletedInstance;e.requestPostPaintCallback;var Ja=e.maySuspendCommit,Qa=e.maySuspendCommitOnUpdate,eo=e.maySuspendCommitInSyncRender,to=e.preloadInstance,no=e.startSuspendingCommit,ro=e.suspendInstance;e.suspendOnActiveViewTransition;var io=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var ao=e.NotPendingTransition,oo=e.HostTransitionContext,so=e.resetFormInstance;e.bindToConsole;var lo=e.supportsMicrotasks,co=e.scheduleMicrotask,uo=e.supportsTestSelectors,ho=e.findFiberRoot,fo=e.getBoundingRect,po=e.getTextContent,mo=e.isHiddenSubtree,go=e.matchAccessibilityRole,vo=e.setFocusIfFocusable,yo=e.setupIntersectionObserver,bo=e.appendChild,xo=e.appendChildToContainer,_o=e.commitTextUpdate,wo=e.commitMount,So=e.commitUpdate,Mo=e.insertBefore,Eo=e.insertInContainerBefore,To=e.removeChild,Ao=e.removeChildFromContainer,Co=e.resetTextContent,Po=e.hideInstance,Ro=e.hideTextInstance,No=e.unhideInstance,ko=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Lo=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Io=e.cloneInstance,Oo=e.createContainerChildSet,Do=e.appendChildToContainerChildSet,Fo=e.finalizeContainerChildren,Uo=e.replaceContainerChildren,jo=e.cloneHiddenInstance,zo=e.cloneHiddenTextInstance,Bo=e.isSuspenseInstancePending,Vo=e.isSuspenseInstanceFallback,Ho=e.getSuspenseInstanceFallbackErrorDetails,Wo=e.registerSuspenseInstanceRetry,Go=e.canHydrateFormStateMarker,qo=e.isFormStateMarkerMatching,Xo=e.getNextHydratableSibling,$o=e.getNextHydratableSiblingAfterSingleton,Yo=e.getFirstHydratableChild,Ko=e.getFirstHydratableChildWithinContainer,Zo=e.getFirstHydratableChildWithinActivityInstance,Jo=e.getFirstHydratableChildWithinSuspenseInstance,Qo=e.getFirstHydratableChildWithinSingleton,es=e.canHydrateInstance,ts=e.canHydrateTextInstance,ns=e.canHydrateActivityInstance,rs=e.canHydrateSuspenseInstance,is=e.hydrateInstance,as=e.hydrateTextInstance,os=e.hydrateActivityInstance,ss=e.hydrateSuspenseInstance,ls=e.getNextHydratableInstanceAfterActivityInstance,cs=e.getNextHydratableInstanceAfterSuspenseInstance,us=e.commitHydratedInstance,ds=e.commitHydratedContainer,hs=e.commitHydratedActivityInstance,fs=e.commitHydratedSuspenseInstance,ps=e.finalizeHydratedChildren,ms=e.flushHydrationEvents;e.clearActivityBoundary;var gs=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var vs=e.clearSuspenseBoundaryFromContainer,ys=e.hideDehydratedBoundary,bs=e.unhideDehydratedBoundary,xs=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var _s,ws,Ss=e.validateHydratableInstance,Ms=e.validateHydratableTextInstance,Es=e.supportsResources,Ts=e.isHostHoistableType,As=e.getHoistableRoot,Cs=e.getResource,Ps=e.acquireResource,Rs=e.releaseResource,Ns=e.hydrateHoistable,ks=e.mountHoistable,Ls=e.unmountHoistable,Is=e.createHoistableInstance,Os=e.prepareToCommitHoistables,Ds=e.mayResourceSuspendCommit,Fs=e.preloadResource,Us=e.suspendResource,js=e.supportsSingletons,zs=e.resolveSingletonInstance,Bs=e.acquireSingletonInstance,Vs=e.releaseSingletonInstance,Hs=e.isHostSingletonType,Ws=e.isSingletonScope,Gs=[],qs=-1,Xs={},$s=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(Ys(e)/Ks|0)|0},Ys=Math.log,Ks=Math.LN2,Zs=256,Js=262144,Qs=4194304,el=ia.unstable_scheduleCallback,tl=ia.unstable_cancelCallback,nl=ia.unstable_shouldYield,rl=ia.unstable_requestPaint,il=ia.unstable_now,al=ia.unstable_ImmediatePriority,ol=ia.unstable_UserBlockingPriority,sl=ia.unstable_NormalPriority,ll=ia.unstable_IdlePriority,cl=ia.log,ul=ia.unstable_setDisableYieldValue,dl=null,hl=null,fl="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},pl="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},ml=Object.prototype.hasOwnProperty,gl=!1,vl=new WeakMap,yl=[],bl=0,xl=null,_l=0,wl=[],Sl=0,Ml=null,El=1,Tl="",Al=d(null),Cl=d(null),Pl=d(null),Rl=d(null),Nl=null,kl=null,Ll=!1,Il=null,Ol=!1,Dl=Error(r(519)),Fl=d(null),Ul=null,jl=null,zl=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Bl=ia.unstable_scheduleCallback,Vl=ia.unstable_NormalPriority,Hl={$$typeof:fa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Wl=null,Gl=null,ql=!1,Xl=!1,$l=!1,Yl=0,Kl=null,Zl=0,Jl=0,Ql=null,ec=Ma.S;Ma.S=function(e,t){Su=il(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Kl){var n=Kl=[];Zl=0,Jl=me(),Ql={status:"pending",value:void 0,then:function(e){n.push(e)}}}Zl++,t.then(ge,ge)}(0,t),null!==ec&&ec(e,t)};var tc=d(null),nc=Error(r(460)),rc=Error(r(474)),ic=Error(r(542)),ac={then:function(){}},oc=null,sc=null,lc=0,cc=Pe(!0),uc=Pe(!1),dc=[],hc=0,fc=0,pc=!1,mc=!1,gc=d(null),vc=d(0),yc=d(null),bc=null,xc=d(0),_c=0,wc=null,Sc=null,Mc=null,Ec=!1,Tc=!1,Ac=!1,Cc=0,Pc=0,Rc=null,Nc=0,kc={readContext:ne,use:ft,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};kc.useEffectEvent=tt;var Lc={readContext:ne,use:ft,useCallback:function(e,t){return ut().memoizedState=[e,void 0===t?null:t],e},useContext:ne,useEffect:Ht,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Bt(4194308,4,$t.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bt(4194308,4,e,t)},useInsertionEffect:function(e,t){Bt(4,2,e,t)},useMemo:function(e,t){var n=ut();t=void 0===t?null:t;var r=e();if(Ac){T(!0);try{e()}finally{T(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ut();if(void 0!==n){var i=n(t);if(Ac){T(!0);try{n(t)}finally{T(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ln.bind(null,wc,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ut().memoizedState=e},useState:function(e){var t=(e=Et(e)).queue,n=cn.bind(null,wc,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Kt,useDeferredValue:function(e,t){return Qt(ut(),e,t)},useTransition:function(){var e=Et(!1);return e=tn.bind(null,wc,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=wc,a=ut();if(Ll){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===iu)throw Error(r(349));127&ou||xt(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Ht(wt.bind(null,i,o,e),[e]),i.flags|=2048,jt(9,{destroy:void 0},_t.bind(null,i,o,n,t),null),n},useId:function(){var e=ut(),t=iu.identifierPrefix;if(Ll){var n=Tl;t="_"+t+"R_"+(n=(El&~(1<<32-$s(El)-1)).toString(32)+n),0<(n=Cc++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Nc++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rn,useFormState:It,useActionState:It,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=dn.bind(null,wc,!0,n),n.dispatch=t,[e,t]},useMemoCache:pt,useCacheRefresh:function(){return ut().memoizedState=sn.bind(null,wc)},useEffectEvent:function(e){var t=ut(),n={impl:e};return t.memoizedState=n,function(){if(2&ru)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Ic={readContext:ne,use:ft,useCallback:Zt,useContext:ne,useEffect:Wt,useImperativeHandle:Yt,useInsertionEffect:qt,useLayoutEffect:Xt,useMemo:Jt,useReducer:gt,useRef:zt,useState:function(){return gt(mt)},useDebugValue:Kt,useDeferredValue:function(e,t){return en(dt(),Sc.memoizedState,e,t)},useTransition:function(){var e=gt(mt)[0],t=dt().memoizedState;return["boolean"==typeof e?e:ht(e),t]},useSyncExternalStore:bt,useId:an,useHostTransitionStatus:rn,useFormState:Ot,useActionState:Ot,useOptimistic:function(e,t){return Tt(dt(),0,e,t)},useMemoCache:pt,useCacheRefresh:on};Ic.useEffectEvent=Gt;var Oc={readContext:ne,use:ft,useCallback:Zt,useContext:ne,useEffect:Wt,useImperativeHandle:Yt,useInsertionEffect:qt,useLayoutEffect:Xt,useMemo:Jt,useReducer:yt,useRef:zt,useState:function(){return yt(mt)},useDebugValue:Kt,useDeferredValue:function(e,t){var n=dt();return null===Sc?Qt(n,e,t):en(n,Sc.memoizedState,e,t)},useTransition:function(){var e=yt(mt)[0],t=dt().memoizedState;return["boolean"==typeof e?e:ht(e),t]},useSyncExternalStore:bt,useId:an,useHostTransitionStatus:rn,useFormState:Ut,useActionState:Ut,useOptimistic:function(e,t){var n=dt();return null!==Sc?Tt(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pt,useCacheRefresh:on};Oc.useEffectEvent=Gt;var Dc={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ri(),i=Ue(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=je(e,i,r))&&(ai(t,0,r),ze(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ri(),i=Ue(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=je(e,i,r))&&(ai(t,0,r),ze(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ri(),r=Ue(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=je(e,r,n))&&(ai(t,0,n),ze(t,e,n))}},Fc=Error(r(461)),Uc=!1,jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},zc=!1,Bc=!1,Vc=!1,Hc="function"==typeof WeakSet?WeakSet:Set,Wc=null,Gc=null,qc=!1,Xc=null,$c=8192,Yc={getCacheForType:function(e){var t=ne(Hl),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ne(Hl).controller.signal}},Kc=0,Zc=1,Jc=2,Qc=3,eu=4;if("function"==typeof Symbol&&Symbol.for){var tu=Symbol.for;Kc=tu("selector.component"),Zc=tu("selector.has_pseudo_class"),Jc=tu("selector.role"),Qc=tu("selector.test_id"),eu=tu("selector.text")}var nu="function"==typeof WeakMap?WeakMap:Map,ru=0,iu=null,au=null,ou=0,su=0,lu=null,cu=!1,uu=!1,du=!1,hu=0,fu=0,pu=0,mu=0,gu=0,vu=0,yu=0,bu=null,xu=null,_u=!1,wu=0,Su=0,Mu=1/0,Eu=null,Tu=null,Au=0,Cu=null,Pu=null,Ru=0,Nu=0,ku=null,Lu=null,Iu=0,Ou=null;return na.attemptContinuousHydration=function(e){if(13===e.tag||31===e.tag){var t=Le(e,67108864);null!==t&&ai(t,0,67108864),ta(e,67108864)}},na.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag||31===e.tag){var t=ri(),n=Le(e,t=M(t));null!==n&&ai(n,0,t),ta(e,t)}},na.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var t=p(e.pendingLanes);if(0!==t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-$s(t);e.entanglements[1]|=n,t&=~n}le(e),!(6&ru)&&(Mu=il()+500,ce(0))}}break;case 31:case 13:null!==(t=Le(e,2))&&ai(t,0,2),ui(),ta(e,2)}},na.batchedUpdates=function(e,t){return e(t)},na.createComponentSelector=function(e){return{$$typeof:Kc,value:e}},na.createContainer=function(e,t,n,r,i,a,o,s,l,c){return Ki(e,t,!1,null,0,r,a,null,o,s,l,c)},na.createHasPseudoClassSelector=function(e){return{$$typeof:Zc,value:e}},na.createHydrationContainer=function(e,t,n,r,i,a,o,s,l,c,u,d,h,f){var p;return(e=Ki(n,r,!0,e,0,a,s,f,l,c,u,d)).context=Zi(null),n=e.current,(i=Ue(r=M(r=ri()))).callback=null!=(p=t)?p:null,je(n,i,r),t=r,e.current.lanes=t,x(e,t),le(e),e},na.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:la,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},na.createRoleSelector=function(e){return{$$typeof:Jc,value:e}},na.createTestNameSelector=function(e){return{$$typeof:Qc,value:e}},na.createTextSelector=function(e){return{$$typeof:eu,value:e}},na.defaultOnCaughtError=function(e){},na.defaultOnRecoverableError=function(e){pl(e)},na.defaultOnUncaughtError=function(e){pl(e)},na.deferredUpdates=function(e){var t=Ma.T,n=$a();try{return Xa(32),Ma.T=null,e()}finally{Xa(n),Ma.T=t}},na.discreteUpdates=function(e,t,n,r,i){var a=Ma.T,o=$a();try{return Xa(2),Ma.T=null,e(t,n,r,i)}finally{Xa(o),Ma.T=a,0===ru&&(Mu=il()+500)}},na.findAllNodes=ni,na.findBoundingRects=function(e,t){if(!uo)throw Error(r(363));t=ni(e,t),e=[];for(var n=0;n<t.length;n++)e.push(fo(t[n]));for(t=e.length-1;0<t;t--)for(var i=(n=e[t]).x,a=i+n.width,o=n.y,s=o+n.height,l=t-1;0<=l;l--)if(t!==l){var c=e[l],u=c.x,d=u+c.width,h=c.y,f=h+c.height;if(i>=u&&o>=h&&a<=d&&s<=f){e.splice(t,1);break}if(!(i!==u||n.width!==c.width||f<o||h>s)){h>o&&(c.height+=h-o,c.y=o),f<s&&(c.height=s-h),e.splice(t,1);break}if(!(o!==h||n.height!==c.height||d<i||u>a)){u>i&&(c.width+=u-i,c.x=i),d<a&&(c.width=a-u),e.splice(t,1);break}}return e},na.findHostInstance=Ji,na.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=o(e))?l(e):null)?null:Ca(e.stateNode)},na.findHostInstanceWithWarning=function(e){return Ji(e)},na.flushPassiveEffects=Ni,na.flushSyncFromReconciler=function(e){var t=ru;ru|=1;var n=Ma.T,r=$a();try{if(Xa(2),Ma.T=null,e)return e()}finally{Xa(r),Ma.T=n,!(6&(ru=t))&&ce(0)}},na.flushSyncWork=ui,na.focusWithin=function(e,t){if(!uo)throw Error(r(363));for(t=ti(e=Jr(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++],i=n.tag;if(!mo(n)){if((5===i||26===i||27===i)&&vo(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},na.getFindAllNodesFailureDescription=function(e,t){if(!uo)throw Error(r(363));var n=0,i=[];e=[Jr(e),0];for(var a=0;a<e.length;){var o=e[a++],s=o.tag,l=e[a++],c=t[l];if((5!==s&&26!==s&&27!==s||!mo(o))&&(Qr(o,c)&&(i.push(ei(c)),++l>n&&(n=l)),l<t.length))for(o=o.child;null!==o;)e.push(o,l),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(ei(t[n]));return"findAllNodes was able to match part of the selector:\n  "+i.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},na.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return Ca(e.child.stateNode);default:return e.child.stateNode}},na.injectIntoDevTools=function(){var e={bundleType:0,version:Ea,rendererPackageName:Ta,currentDispatcherRef:Ma,reconcilerVersion:"19.2.0"};if(null!==Aa&&(e.rendererConfig=Aa),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{dl=t.inject(e),hl=t}catch{}e=!!t.checkDCE}}return e},na.isAlreadyRendering=function(){return!!(6&ru)},na.observeVisibleRects=function(e,t,n,i){if(!uo)throw Error(r(363));e=ni(e,t);var a=yo(e,n,i).disconnect;return{disconnect:function(){a()}}},na.shouldError=function(){return null},na.shouldSuspend=function(){return!1},na.startHostTransition=function(e,t,i,a){if(5!==e.tag)throw Error(r(476));var o=nn(e).queue;tn(e,o,t,ao,null===i?n:function(){var t=nn(e);return null===t.next&&(t=e.alternate.memoizedState),un(e,t.next.queue,{},ri()),i(a)})},na.updateContainer=function(e,t,n,r){var i=t.current,a=ri();return Qi(i,a,e,t,n,r),a},na.updateContainerSync=function(e,t,n,r){return Qi(t.current,2,e,t,n,r),2},na},e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})),tV.exports;var e}var rV=(QB||(QB=1,eV.exports=nV()),eV.exports);const iV=(aV=rV)&&aV.__esModule&&Object.prototype.hasOwnProperty.call(aV,"default")?aV.default:aV;var aV;function oV(e){const t=iV(e);return t.injectIntoDevTools(),t}const sV={},lV=/^three(?=[A-Z])/,cV=e=>`${e[0].toUpperCase()}${e.slice(1)}`;let uV=0;function dV(e,t){const n=cV(e),r=sV[n];if("primitive"!==e&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if("primitive"===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function hV(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?kB(e.parent,e):BB(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,zB(e))}function fV(e,t,n){const r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var i,a;const e=sV[cV(t.type)];t.object=null!=(i=t.props.object)?i:new e(...null!=(a=t.props.args)?a:[]),t.object.__r3f=t}if(jB(t.object,t.props),t.props.attach)kB(e,t);else if(BB(t.object)&&BB(e.object)){const r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const i=n<r?r-1:r;e.object.children.splice(i,0,t.object)}else t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:"added"}),e.object.dispatchEvent({type:"childadded",child:t.object})}else e.object.add(t.object)}for(const e of t.children)fV(t,e);zB(t)}}function pV(e,t){t&&(t.parent=e,e.children.push(t),fV(e,t))}function mV(e,t,n){if(!t||!n)return;t.parent=e;const r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),fV(e,t,n)}function gV(e){if("function"==typeof e.dispose){const t=()=>{try{e.dispose()}catch{}};"undefined"!=typeof IS_REACT_ACT_ENVIRONMENT?t():sB.unstable_scheduleCallback(sB.unstable_IdlePriority,t)}}function vV(e,t,n){if(!t)return;t.parent=null;const r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?LB(e,t):BB(t.object)&&BB(e.object)&&(e.object.remove(t.object),function(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{HB(n.capturedMap,t,e,r)})}(vB(t),t.object));const i=null!==t.props.dispose&&!1!==n;for(let a=t.children.length-1;a>=0;a--)vV(t,t.children[a],i);t.children.length=0,delete t.object.__r3f,i&&"primitive"!==t.type&&"Scene"!==t.object.type&&gV(t.object),void 0===n&&zB(t)}function yV(e,t){for(const n of[e,e.alternate])if(null!==n)if("function"==typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);"function"==typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const bV=[],xV=()=>{},_V={};let wV=0;const SV=oV({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return dV(e=cV(e)in sV?e:e.replace(lV,""),t),"primitive"===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,PB(t.object,n,e,t)},removeChild:vV,appendChild:pV,appendInitialChild:pV,insertBefore:mV,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&pV(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&vV(n,t)},insertInContainerBefore(e,t,n){const r=e.getState().scene.__r3f;t&&n&&r&&mV(r,t,n)},getRootHostContext:()=>_V,getChildHostContext:()=>_V,commitUpdate(e,t,n,r,i){var a,o,s;dV(t,r);let l=!1;if(("primitive"===e.type&&n.object!==r.object||(null==(a=r.args)?void 0:a.length)!==(null==(o=n.args)?void 0:o.length)||null!=(s=r.args)&&s.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])}))&&(l=!0),l)bV.push([e,{...r},i]);else{const t=function(e,t){const n={};for(const r in t)if(!IB.includes(r)&&!TB.equ(t[r],e.props[r])){n[r]=t[r];for(const e in t)e.startsWith(`${r}-`)&&(n[e]=t[e])}for(const r in e.props){if(IB.includes(r)||t.hasOwnProperty(r))continue;const{root:i,key:a}=RB(e.object,r);if(i.constructor&&0===i.constructor.length){const e=DB(i);TB.und(e)||(n[a]=e[a])}else n[a]=0}return n}(e,r);Object.keys(t).length&&(Object.assign(e.props,t),jB(e.object,t))}(null===i.sibling||!(4&i.flags))&&function(){for(const[n]of bV){const e=n.parent;if(e){n.props.attach?LB(e,n):BB(n.object)&&BB(e.object)&&e.object.remove(n.object);for(const e of n.children)e.props.attach?LB(n,e):BB(e.object)&&BB(n.object)&&n.object.remove(e.object)}n.isHidden&&hV(n),n.object.__r3f&&delete n.object.__r3f,"primitive"!==n.type&&gV(n.object)}for(const[n,r,i]of bV){n.props=r;const a=n.parent;if(a){var e,t;const r=sV[cV(n.type)];n.object=null!=(e=n.props.object)?e:new r(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,yV(i,n.object),jB(n.object,n.props),n.props.attach?kB(a,n):BB(n.object)&&BB(a.object)&&a.object.add(n.object);for(const e of n.children)e.props.attach?kB(n,e):BB(e.object)&&BB(n.object)&&n.object.add(e.object);zB(n)}}bV.length=0}()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>PB(e.getState().scene,e,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?LB(e.parent,e):BB(e.object)&&(e.object.visible=!1),e.isHidden=!0,zB(e))},unhideInstance:hV,createTextInstance:xV,hideTextInstance:xV,unhideTextInstance:xV,scheduleTimeout:"function"==typeof setTimeout?setTimeout:void 0,cancelTimeout:"function"==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:T.createContext(null),setCurrentUpdatePriority(e){wV=e},getCurrentUpdatePriority:()=>wV,resolveUpdatePriority(){var e;if(0!==wV)return wV;switch("undefined"!=typeof window&&(null==(e=window.event)?void 0:e.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return 2;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return 8;default:return 32}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:"9.5.0",applyViewTransitionName(e,t,n){},restoreViewTransitionName(e,t){},cancelViewTransitionName(e,t,n){},cancelRootViewTransitionName(e){},restoreRootViewTransitionName(e){},InstanceMeasurement:null,measureInstance:e=>null,wasInstanceInViewport:e=>!0,hasInstanceChanged:(e,t)=>!1,hasInstanceAffectedParent:(e,t)=>!1,suspendOnActiveViewTransition(e,t){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(e){},createViewTransitionInstance:e=>null,getCurrentGestureOffset(e){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance:(e,t)=>e,cloneMutableTextInstance:e=>e,cloneRootViewTransitionContainer(e){throw new Error("Not implemented.")},removeRootViewTransitionClone(e,t){throw new Error("Not implemented.")},createFragmentInstance:e=>null,updateFragmentInstanceFiber(e,t){},commitNewChildToFragmentInstance(e,t){},deleteChildFromFragmentInstance(e,t){},measureClonedInstance:e=>null,maySuspendCommitOnUpdate:(e,t,n)=>!1,maySuspendCommitInSyncRender:(e,t)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(e,t)=>null}),MV=new Map,EV={objects:"shallow",strict:!1};function TV(e){const t=MV.get(e),n=null==t?void 0:t.fiber,r=null==t?void 0:t.store,i="function"==typeof reportError?reportError:console.error,a=r||XB(HV,WV),o=n||SV.createContainer(a,1,null,!1,null,"",i,i,i,null);let s,l;t||MV.set(e,{fiber:o,store:a});let c=!1,d=null;return{async configure(t={}){let n;d=new Promise(e=>n=e);let{gl:r,size:i,scene:o,events:u,onCreated:h,shadows:f=!1,linear:p=!1,flat:m=!1,legacy:g=!1,orthographic:v=!1,frameloop:y="always",dpr:b=[1,2],performance:x,raycaster:_,camera:w,onPointerMissed:S}=t,M=a.getState(),E=M.gl;if(!M.gl){const t={canvas:e,powerPreference:"high-performance",antialias:!0,alpha:!0},n="function"==typeof r?await r(t):r;E=GB(n)?n:new Fz({...t,...r}),M.set({gl:E})}let T=M.raycaster;T||M.set({raycaster:T=new fF});const{params:A,...C}=_||{};if(TB.equ(C,T,EV)||jB(T,{...C}),TB.equ(A,T.params,EV)||jB(T,{params:{...T.params,...A}}),!M.camera||M.camera===l&&!TB.equ(l,w,EV)){l=w;const e=null==w?void 0:w.isCamera,t=e?w:v?new wD(0,0,0,0,.1,1e3):new YN(75,0,.1,1e3);e||(t.position.z=5,w&&(jB(t,w),t.manual||("aspect"in w||"left"in w||"right"in w||"bottom"in w||"top"in w)&&(t.manual=!0,t.updateProjectionMatrix())),M.camera||null!=w&&w.rotation||t.lookAt(0,0,0)),M.set({camera:t}),T.camera=t}if(!M.scene){let e;null!=o&&o.isScene?(e=o,PB(e,a,"",{})):(e=new ak,PB(e,a,"",{}),o&&jB(e,o)),M.set({scene:e})}u&&!M.events.handlers&&M.set({events:u(a)});const P=function(e,t){if(!t&&"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return!t&&"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0,...t}}(e,i);if(TB.equ(P,M.size,EV)||M.setSize(P.width,P.height,P.top,P.left),b&&M.viewport.dpr!==MB(b)&&M.setDpr(b),M.frameloop!==y&&M.setFrameloop(y),M.onPointerMissed||M.set({onPointerMissed:S}),x&&!TB.equ(x,M.performance,EV)&&M.set(e=>({performance:{...e.performance,...x}})),!M.xr){var R;const e=(e,t)=>{const n=a.getState();"never"!==n.frameloop&&WV(e,!0,n,t)},t=()=>{const t=a.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||HV(t)},n={connect(){const e=a.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){const e=a.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(R=E.xr)?void 0:R.addEventListener)&&n.connect(),M.set({xr:n})}if(E.shadowMap){const e=E.shadowMap.enabled,t=E.shadowMap.type;if(E.shadowMap.enabled=!!f,TB.boo(f))E.shadowMap.type=2;else if(TB.str(f)){var N;const e={basic:0,percentage:1,soft:2,variance:3};E.shadowMap.type=null!=(N=e[f])?N:2}else TB.obj(f)&&Object.assign(E.shadowMap,f);e===E.shadowMap.enabled&&t===E.shadowMap.type||(E.shadowMap.needsUpdate=!0)}return _P.enabled=!g,c||(E.outputColorSpace=p?EC:MC,E.toneMapping=m?0:4),M.legacy!==g&&M.set(()=>({legacy:g})),M.linear!==p&&M.set(()=>({linear:p})),M.flat!==m&&M.set(()=>({flat:m})),!r||TB.fun(r)||GB(r)||TB.equ(r,E,EV)||jB(E,r),s=h,c=!0,n(),this},render(t){return c||d||this.configure(),d.then(()=>{SV.updateContainer(u.jsx(AV,{store:a,children:t,onCreated:s,rootElement:e}),o,null,()=>{})}),a},unmount(){CV(e)}}}function AV({store:e,children:t,onCreated:n,rootElement:r}){return xB(()=>{const t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),u.jsx(qB.Provider,{value:e,children:t})}function CV(e,t){const n=MV.get(e),r=null==n?void 0:n.fiber;if(r){const t=null==n?void 0:n.store.getState();t&&(t.internal.active=!1),SV.updateContainer(null,r,null,()=>{t&&setTimeout(()=>{try{var n,r,i,a;null==t.events.disconnect||t.events.disconnect(),null==(n=t.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=t.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(a=t.gl)&&a.xr&&t.xr.disconnect(),function(e){"Scene"!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];"Scene"!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}(t.scene),MV.delete(e)}catch(o){}},500)})}}const PV=new Set,RV=new Set,NV=new Set;function kV(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function LV(e,t){switch(e){case"before":return kV(PV,t);case"after":return kV(RV,t);case"tail":return kV(NV,t)}}let IV,OV;function DV(e,t,n){let r=t.clock.getDelta();"never"===t.frameloop&&"number"==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),IV=t.internal.subscribers;for(let i=0;i<IV.length;i++)OV=IV[i],OV.ref.current(OV.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}let FV,UV,jV,zV=!1,BV=!1;function VV(e){UV=requestAnimationFrame(VV),zV=!0,FV=0,LV("before",e),BV=!0;for(const n of MV.values()){var t;jV=n.store.getState(),!jV.internal.active||!("always"===jV.frameloop||jV.internal.frames>0)||null!=(t=jV.gl.xr)&&t.isPresenting||(FV+=DV(e,jV))}if(BV=!1,LV("after",e),0===FV)return LV("tail",e),zV=!1,cancelAnimationFrame(UV)}function HV(e,t=1){var n;if(!e)return MV.forEach(e=>HV(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||"never"===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):BV?2:1,zV||(zV=!0,requestAnimationFrame(VV)))}function WV(e,t=!0,n,r){if(t&&LV("before",e),n)DV(e,n,r);else for(const i of MV.values())DV(e,i.store.getState());t&&LV("after",e)}const GV={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qV(e){const{handlePointer:t}=WB(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(GV).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:{...e.events,connected:t}})),r.handlers)for(const e in r.handlers){const n=r.handlers[e],[i,a]=GV[e];t.addEventListener(i,n,{passive:a})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[r]=GV[e];n.connected.removeEventListener(r,t)}t(e=>({events:{...e.events,connected:void 0}}))}}}}function XV(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function $V({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=e?"number"==typeof e?e:e.scroll:null,c=e?"number"==typeof e?e:e.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>{u.current=!1}));const[d,h,f]=T.useMemo(()=>{const e=()=>{if(!s.current.element)return;const{left:e,top:t,width:n,height:i,bottom:a,right:l,x:c,y:d}=s.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:i,bottom:a,right:l,x:c,y:d};s.current.element instanceof HTMLElement&&r&&(h.height=s.current.element.offsetHeight,h.width=s.current.element.offsetWidth),Object.freeze(h),u.current&&!ZV(s.current.lastBounds,h)&&o(s.current.lastBounds=h)};return[e,c?XV(e,c):e,l?XV(e,l):e]},[o,r,l,c]);function p(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",f,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function m(){s.current.element&&(s.current.resizeObserver=new i(f),s.current.resizeObserver.observe(s.current.element),t&&s.current.scrollContainers&&s.current.scrollContainers.forEach(e=>e.addEventListener("scroll",f,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{f()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}return function(e,t){T.useEffect(()=>{if(t){const t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",t,!0)}}},[e,t])}(f,!!t),function(e){T.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e])}(h),T.useEffect(()=>{p(),m()},[t,f,h]),T.useEffect(()=>p,[]),[e=>{!e||e===s.current.element||(p(),s.current.element=e,s.current.scrollContainers=YV(e),m())},a,d]}function YV(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...YV(e.parentElement)]}const KV=["x","y","top","bottom","left","right","width","height"],ZV=(e,t)=>KV.every(n=>e[n]===t[n]);function JV({ref:e,children:t,fallback:n,resize:r,style:i,gl:a,events:o=qV,eventSource:s,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:g,performance:v,raycaster:y,camera:b,scene:x,onPointerMissed:_,onCreated:w,...S}){T.useMemo(()=>function(e){if((e=>"function"==typeof e)(e)){const t=""+uV++;return sV[t]=e,t}Object.assign(sV,e)}(Uz),[]);const M=function(){const e=fB(),t=gB();return T.useMemo(()=>({children:n})=>{const r=cB(e,!0,e=>e.type===T.StrictMode)?T.StrictMode:T.Fragment;return u.jsx(r,{children:u.jsx(t,{children:n})})},[e,t])}(),[E,A]=$V({scroll:!0,debounce:{scroll:50,resize:0},...r}),C=T.useRef(null),P=T.useRef(null);T.useImperativeHandle(e,()=>C.current);const R=_B(_),[N,k]=T.useState(!1),[L,I]=T.useState(!1);if(N)throw N;if(L)throw L;const O=T.useRef(null);xB(()=>{const e=C.current;if(A.width>0&&A.height>0&&e){async function n(){await O.current.configure({gl:a,scene:x,events:o,shadows:c,linear:d,flat:h,legacy:f,orthographic:p,frameloop:m,dpr:g,performance:v,raycaster:y,camera:b,size:A,onPointerMissed:(...e)=>null==R.current?void 0:R.current(...e),onCreated:e=>{var t;null==e.events.connect||e.events.connect(s?(t=s)&&t.hasOwnProperty("current")?s.current:s:P.current),l&&e.setEvents({compute:(e,t)=>{const n=e[l+"X"],r=e[l+"Y"];t.pointer.set(n/t.size.width*2-1,-r/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==w||w(e)}}),O.current.render(u.jsx(M,{children:u.jsx(SB,{set:I,children:u.jsx(T.Suspense,{fallback:u.jsx(wB,{set:k}),children:null!=t?t:null})})}))}O.current||(O.current=TV(e)),n()}}),T.useEffect(()=>{const e=C.current;if(e)return()=>CV(e)},[]);const D=s?"none":"auto";return u.jsx("div",{ref:P,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:D,...i},...S,children:u.jsx("div",{ref:E,style:{width:"100%",height:"100%"},children:u.jsx("canvas",{ref:C,style:{display:"block"},children:n})})})}function QV(e){return u.jsx(hB,{children:u.jsx(JV,{...e})})}var eH,tH,nH={exports:{}},rH={};function iH(){if(eH)return rH;eH=1;var e=oB(),t=E(),n=Eb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function s(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function l(e){if(a(e)!==e)throw Error(r(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case g:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList";case M:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case y:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case b:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case S:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var N=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},O=[],D=-1;function F(e){return{current:e}}function U(e){0>D||(e.current=O[D],O[D]=null,D--)}function j(e,t){D++,O[D]=e.current,e.current=t}var z,B,V=F(null),H=F(null),W=F(null),G=F(null);function q(e,t){switch(j(W,t),j(H,e),j(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?md(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=gd(t=md(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),j(V,e)}function X(){U(V),U(H),U(W)}function $(e){null!==e.memoizedState&&j(G,e);var t=V.current,n=gd(t,e.type);t!==n&&(j(H,e),j(V,n))}function Y(e){H.current===e&&(U(V),U(H)),G.current===e&&(U(G),lh._currentValue=I)}function K(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||"",B=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+z+e+B}var Z=!1;function J(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"==typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?K(n):""}function Q(e,t){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==t&&null!==t?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 1:return J(e.type,!0);case 31:return K("Activity");default:return""}}function ee(e){try{var t="",n=null;do{t+=Q(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var te=Object.prototype.hasOwnProperty,ne=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,ie=e.unstable_shouldYield,ae=e.unstable_requestPaint,oe=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,ce=e.unstable_UserBlockingPriority,ue=e.unstable_NormalPriority,de=e.unstable_LowPriority,he=e.unstable_IdlePriority,fe=e.log,pe=e.unstable_setDisableYieldValue,me=null,ge=null;function ve(e){if("function"==typeof fe&&pe(e),ge&&"function"==typeof ge.setStrictMode)try{ge.setStrictMode(me,e)}catch(KH){}}var ye=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(be(e)/xe|0)|0},be=Math.log,xe=Math.LN2,_e=256,we=262144,Se=4194304;function Me(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=Me(r):0!==(o&=s)?i=Me(o):n||0!==(n=s&~e)&&(i=Me(n)):0!==(s=r&~a)?i=Me(s):0!==o?i=Me(o):n||0!==(n=r&~e)&&(i=Me(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&4194048&n)?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=Se;return!(62914560&(Se<<=1))&&(Se=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ye(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ye(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=42&n?1:Ie(n))&(e.suspendedLanes|t))?0:n}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function De(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Mh(e.type)}function Fe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ue=Math.random().toString(36).slice(2),je="__reactFiber$"+Ue,ze="__reactProps$"+Ue,Be="__reactContainer$"+Ue,Ve="__reactEvents$"+Ue,He="__reactListeners$"+Ue,We="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,qe="__reactMarker$"+Ue;function Xe(e){delete e[je],delete e[ze],delete e[Ve],delete e[He],delete e[We]}function $e(e){var t=e[je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[je]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Id(e);null!==e;){if(n=e[je])return n;e=Id(e)}return t}n=(e=n).parentNode}return null}function Ye(e){if(e=e[je]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[qe]=!0}var Qe=new Set,et={};function tt(e,t){nt(e,t),nt(e+"Capture",t)}function nt(e,t){for(et[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},at={};function ot(e,t,n){if(i=t,te.call(at,i)||!te.call(it,i)&&(rt.test(i)?at[i]=!0:(it[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function lt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ut(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=n){if(("submit"===a||"reset"===a)&&null==t)return void dt(e);n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o),dt(e)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function _t(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(N(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),dt(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var a in t)i=t[a],t.hasOwnProperty(a)&&n[a]!==i&&Mt(e,a,i)}else for(var o in t)t.hasOwnProperty(o)&&Mt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Nt=null;function kt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,It=null;function Ot(e){var t=Ye(e);if(t&&(e=t.stateNode)){var n=e[ze]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=i[ze]||null;if(!a)throw Error(r(90));gt(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ft(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Lt||null!==It)&&(Zc(),Lt&&(t=Lt,e=It,It=Lt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var i=n[ze]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var jt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(jt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Yh){zt=!1}var Vt=null,Ht=null,Wt=null;function Gt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function $t(){return!1}function Yt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:$t,this.isPropagationStopped=$t,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var Kt,Zt,Jt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Yt(Qt),tn=u({},Qt,{view:0,detail:0}),nn=Yt(tn),rn=u({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Kt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Kt=0,Jt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),an=Yt(rn),on=Yt(u({},rn,{dataTransfer:0})),sn=Yt(u({},tn,{relatedTarget:0})),ln=Yt(u({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Yt(u({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Yt(u({},Qt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function mn(){return pn}var gn=Yt(u({},tn,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Yt(u({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Yt(u({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),bn=Yt(u({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Yt(u({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),_n=Yt(u({},Qt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=jt&&"CompositionEvent"in window,Mn=null;jt&&"documentMode"in document&&(Mn=document.documentMode);var En=jt&&"TextEvent"in window&&!Mn,Tn=jt&&(!Sn||Mn&&8<Mn&&11>=Mn),An=String.fromCharCode(32),Cn=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Nn=!1,kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!kn[e.type]:"textarea"===t}function In(e,t,n,r){Lt?It?It.push(r):It=[r]:Lt=r,0<(t=td(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function Fn(e){Xu(e,0)}function Un(e){if(ht(Ke(e)))return e}function jn(e,t){if("change"===e)return t}var zn=!1;if(jt){var Bn;if(jt){var Vn="oninput"in document;if(!Vn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Vn="function"==typeof Hn.oninput}Bn=Vn}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Wn(){On&&(On.detachEvent("onpropertychange",Gn),Dn=On=null)}function Gn(e){if("value"===e.propertyName&&Un(Dn)){var t=[];In(t,Dn,e,kt(e)),Ft(Fn,t)}}function qn(e,t,n){"focusin"===e?(Wn(),Dn=n,(On=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Wn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Dn)}function $n(e,t){if("click"===e)return Un(t)}function Yn(e,t){if("input"===e||"change"===e)return Un(t)}var Kn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Kn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!te.call(t,i)||!Kn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(KH){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=jt&&"documentMode"in document&&11>=document.documentMode,ir=null,ar=null,or=null,sr=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==ir||ir!==ft(r)||(r="selectionStart"in(r=ir)&&nr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=td(ar,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},dr={},hr={};function fr(e){if(dr[e])return dr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return dr[e]=n[t];return e}jt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var pr=fr("animationend"),mr=fr("animationiteration"),gr=fr("animationstart"),vr=fr("transitionrun"),yr=fr("transitionstart"),br=fr("transitioncancel"),xr=fr("transitionend"),_r=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){_r.set(e,t),tt(t,[e])}wr.push("scrollEnd");var Mr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Er=[],Tr=0,Ar=0;function Cr(){for(var e=Tr,t=Ar=Tr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var i=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&kr(n,i,a)}}function Pr(e,t,n,r){Er[Tr++]=e,Er[Tr++]=t,Er[Tr++]=n,Er[Tr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Pr(e,t,n,r),Lr(e)}function Nr(e,t){return Pr(e,null,null,t),Lr(e)}function kr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-ye(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Lr(e){if(50<Vc)throw Vc=0,Hc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ir={};function Or(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Or(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,i,a,o){var s=0;if(i=e,"function"==typeof e)Fr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case M:return(e=Dr(31,n,t,a)).elementType=M,e.lanes=o,e;case p:return Br(n.children,a,o,t);case m:s=8,a|=24;break;case g:return(e=Dr(12,n,t,2|a)).elementType=g,e.lanes=o,e;case x:return(e=Dr(13,n,t,a)).elementType=x,e.lanes=o,e;case _:return(e=Dr(19,n,t,a)).elementType=_,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:s=10;break e;case v:s=9;break e;case b:s=11;break e;case w:s=14;break e;case S:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Dr(s,n,t,a)).elementType=e,t.type=i,t.lanes=o,t}function Br(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Vr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Dr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function qr(e,t){if("object"==typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ee(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ee(t)}}var Xr=[],$r=0,Yr=null,Kr=0,Zr=[],Jr=0,Qr=null,ei=1,ti="";function ni(e,t){Xr[$r++]=Kr,Xr[$r++]=Yr,Yr=e,Kr=t}function ri(e,t,n){Zr[Jr++]=ei,Zr[Jr++]=ti,Zr[Jr++]=Qr,Qr=e;var r=ei;e=ti;var i=32-ye(r)-1;r&=~(1<<i),n+=1;var a=32-ye(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ei=1<<32-ye(t)+i|n<<i|r,ti=a+e}else ei=1<<a|n<<i|r,ti=e}function ii(e){null!==e.return&&(ni(e,1),ri(e,1,0))}function ai(e){for(;e===Yr;)Yr=Xr[--$r],Xr[$r]=null,Kr=Xr[--$r],Xr[$r]=null;for(;e===Qr;)Qr=Zr[--Jr],Zr[Jr]=null,ti=Zr[--Jr],Zr[Jr]=null,ei=Zr[--Jr],Zr[Jr]=null}function oi(e,t){Zr[Jr++]=ei,Zr[Jr++]=ti,Zr[Jr++]=Qr,ei=t.id,ti=t.overflow,Qr=e}var si=null,li=null,ci=!1,ui=null,di=!1,hi=Error(r(519));function fi(e){throw bi(qr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),hi}function pi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[je]=e,t[ze]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Gu.length;n++)$u(Gu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),_t(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||sd(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||fi(e,!0)}function mi(e){for(si=e.return;si;)switch(si.tag){case 5:case 31:case 13:return void(di=!1);case 27:case 3:return void(di=!0);default:si=si.return}}function gi(e){if(e!==si)return!1;if(!ci)return mi(e),ci=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||vd(e.type,e.memoizedProps)),t=!t),t&&li&&fi(e),mi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));li=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));li=Ld(e)}else 27===n?(n=li,Md(e.type)?(e=kd,kd=null,li=e):li=n):li=si?Nd(e.stateNode.nextSibling):null;return!0}function vi(){li=si=null,ci=!1}function yi(){var e=ui;return null!==e&&(null===Cc?Cc=e:Cc.push.apply(Cc,e),ui=null),e}function bi(e){null===ui?ui=[e]:ui.push(e)}var xi=F(null),_i=null,wi=null;function Si(e,t,n){j(xi,t._currentValue),t._currentValue=n}function Mi(e){e._currentValue=xi.current,U(xi)}function Ei(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t,n,i){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var o=a.dependencies;if(null!==o){var s=a.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ei(o.return,n,e),i||(s=null);break e}o=l.next}}else if(18===a.tag){if(null===(s=a.return))throw Error(r(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),Ei(s,n,e),s=null}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===e){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}}function Ai(e,t,n,i){e=null;for(var a=t,o=!1;null!==a;){if(!o)if(524288&a.flags)o=!0;else if(262144&a.flags)break;if(10===a.tag){var s=a.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=a.type;Kn(a.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(s=a.alternate))throw Error(r(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(lh):e=[lh])}a=a.return}null!==e&&Ti(t,e,n,i),t.flags|=262144}function Ci(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Pi(e){_i=e,wi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return ki(_i,e)}function Ni(e,t){return null===_i&&Pi(e),ki(e,t)}function ki(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===wi){if(null===e)throw Error(r(308));wi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else wi=wi.next=t;return n}var Li="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=e.unstable_scheduleCallback,Oi=e.unstable_NormalPriority,Di={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new Li,data:new Map,refCount:0}}function Ui(e){e.refCount--,0===e.refCount&&Ii(Oi,function(){e.controller.abort()})}var ji=null,zi=0,Bi=0,Vi=null;function Hi(){if(0===--zi&&null!==ji){null!==Vi&&(Vi.status="fulfilled");var e=ji;ji=null,Bi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=k.S;k.S=function(e,t){Nc=oe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===ji){var n=ji=[];zi=0,Bi=zu(),Vi={status:"pending",value:void 0,then:function(e){n.push(e)}}}zi++,t.then(Hi,Hi)}(0,t),null!==Wi&&Wi(e,t)};var Gi=F(null);function qi(){var e=Gi.current;return null!==e?e:hc.pooledCache}function Xi(e,t){j(Gi,null===t?Gi.current:t.pool)}function $i(){var e=qi();return null===e?null:{parent:Di._currentValue,pool:e}}var Yi=Error(r(460)),Ki=Error(r(474)),Zi=Error(r(542)),Ji={then:function(){}};function Qi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ea(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=hc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ia(e=t.reason),e}throw na=t,Yi}}function ta(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw na=t,Yi;throw t}}var na=null;function ra(){if(null===na)throw Error(r(459));var e=na;return na=null,e}function ia(e){if(e===Yi||e===Zi)throw Error(r(483))}var aa=null,oa=0;function sa(e){var t=oa;return oa+=1,null===aa&&(aa=[]),ea(aa,e,t)}function la(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ca(e,t){if(t.$$typeof===d)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ua(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Vr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===p?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===S&&ta(i)===t.type)?(la(t=a(t,n.props),n),t.return=e,t):(la(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Br(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Vr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return la(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Wr(t,e.mode,n)).return=e,t;case S:return m(e,t=ta(t),n)}if(N(t)||C(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,sa(t),n);if(t.$$typeof===y)return m(e,Ni(e,t),n);ca(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?c(e,t,n,r):null;case f:return n.key===i?u(e,t,n,r):null;case S:return g(e,t,n=ta(n),r)}if(N(n)||C(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,sa(n),r);if(n.$$typeof===y)return g(e,t,Ni(e,n),r);ca(e,n)}return null}function v(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return v(e,t,n,r=ta(r),i)}if(N(r)||C(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return v(e,t,n,sa(r),i);if(r.$$typeof===y)return v(e,t,n,Ni(t,r),i);ca(t,r)}return null}function b(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===p&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case h:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===p){if(7===c.tag){n(l,c.sibling),(d=a(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===S&&ta(x)===c.type){n(l,c.sibling),la(d=a(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===p?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(la(d=zr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case f:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=a(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return s(l);case S:return b(l,c,u=ta(u),d)}if(N(u))return function(r,a,s,l){for(var c=null,u=null,d=a,h=a=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(r,d,s[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),a=o(p,a,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===s.length)return n(r,d),ci&&ni(r,h),c;if(null===d){for(;h<s.length;h++)null!==(d=m(r,s[h],l))&&(a=o(d,a,h),null===u?c=d:u.sibling=d,u=d);return ci&&ni(r,h),c}for(d=i(d);h<s.length;h++)null!==(f=v(d,r,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),a=o(f,a,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),ci&&ni(r,h),c}(l,c,u,d);if(C(u)){if("function"!=typeof(x=C(u)))throw Error(r(150));return function(a,s,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=s,f=s=0,p=null,y=l.next();null!==h&&!y.done;f++,y=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var b=g(a,h,y.value,c);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(a,h),s=o(b,s,f),null===d?u=b:d.sibling=b,d=b,h=p}if(y.done)return n(a,h),ci&&ni(a,f),u;if(null===h){for(;!y.done;f++,y=l.next())null!==(y=m(a,y.value,c))&&(s=o(y,s,f),null===d?u=y:d.sibling=y,d=y);return ci&&ni(a,f),u}for(h=i(h);!y.done;f++,y=l.next())null!==(y=v(h,a,f,y.value,c))&&(e&&null!==y.alternate&&h.delete(null===y.key?f:y.key),s=o(y,s,f),null===d?u=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(a,e)}),ci&&ni(a,f),u}(l,c,u=x.call(u),d)}if("function"==typeof u.then)return b(l,c,sa(u),d);if(u.$$typeof===y)return b(l,c,Ni(l,u),d);ca(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=a(c,u)).return=l,l=d):(n(l,c),(d=Vr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{oa=0;var i=b(e,t,n,r);return aa=null,i}catch(o){if(o===Yi||o===Zi)throw o;var a=Dr(29,o,null,e.mode);return a.lanes=r,a.return=e,a}}}var da=ua(!0),ha=ua(!1),fa=!1;function pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ga(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function va(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&dc){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),kr(e,null,n),t}return Pr(e,r,t,n),Lr(e)}function ya(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}function ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var xa=!1;function _a(){if(xa&&null!==Vi)throw Vi}function wa(e,t,n,r){xa=!1;var i=e.updateQueue;fa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var d=e.alternate;null!==d&&(s=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l)}if(null!==a){var h=i.baseState;for(o=0,d=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(pc&f)===f:(r&f)===f){0!==f&&f===Bi&&(xa=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var v=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(v,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(v,h,f):m))break e;h=u({},h,f);break e;case 2:fa=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null===a&&(i.shared.lanes=0),wc|=o,e.lanes=o,e.memoizedState=h}}function Sa(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ma(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Sa(n[e],t)}var Ea=F(null),Ta=F(0);function Aa(e,t){j(Ta,e=xc),j(Ea,t),xc=e|t.baseLanes}function Ca(){j(Ta,xc),j(Ea,Ea.current)}function Pa(){xc=Ta.current,U(Ea),U(Ta)}var Ra=F(null),Na=null;function ka(e){var t=e.alternate;j(Fa,1&Fa.current),j(Ra,e),null===Na&&(null===t||null!==Ea.current||null!==t.memoizedState)&&(Na=e)}function La(e){j(Fa,Fa.current),j(Ra,e),null===Na&&(Na=e)}function Ia(e){22===e.tag?(j(Fa,Fa.current),j(Ra,e),null===Na&&(Na=e)):Oa()}function Oa(){j(Fa,Fa.current),j(Ra,Ra.current)}function Da(e){U(Ra),Na===e&&(Na=null),U(Fa)}var Fa=F(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=0,za=null,Ba=null,Va=null,Ha=!1,Wa=!1,Ga=!1,qa=0,Xa=0,$a=null,Ya=0;function Ka(){throw Error(r(321))}function Za(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Ja(e,t,n,r,i,a){return ja=a,za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=null===e||null===e.memoizedState?ps:ms,Ga=!1,a=n(r,i),Ga=!1,Wa&&(a=eo(t,n,r,i)),Qa(e),a}function Qa(e){k.H=fs;var t=null!==Ba&&null!==Ba.next;if(ja=0,Va=Ba=za=null,Ha=!1,Xa=0,$a=null,t)throw Error(r(300));null===e||Ns||null!==(e=e.dependencies)&&Ci(e)&&(Ns=!0)}function eo(e,t,n,i){za=e;var a=0;do{if(Wa&&($a=null),Xa=0,Wa=!1,25<=a)throw Error(r(301));if(a+=1,Va=Ba=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}k.H=gs,o=t(n,i)}while(Wa);return o}function to(){var e=k.H,t=e.useState()[0];return t="function"==typeof t.then?so(t):t,e=e.useState()[0],(null!==Ba?Ba.memoizedState:null)!==e&&(za.flags|=1024),t}function no(){var e=0!==qa;return qa=0,e}function ro(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function io(e){if(Ha){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ha=!1}ja=0,Va=Ba=za=null,Wa=!1,Xa=qa=0,$a=null}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Va?za.memoizedState=Va=e:Va=Va.next=e,Va}function oo(){if(null===Ba){var e=za.alternate;e=null!==e?e.memoizedState:null}else e=Ba.next;var t=null===Va?za.memoizedState:Va.next;if(null!==t)Va=t,Ba=e;else{if(null===e){if(null===za.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Ba=e).memoizedState,baseState:Ba.baseState,baseQueue:Ba.baseQueue,queue:Ba.queue,next:null},null===Va?za.memoizedState=Va=e:Va=Va.next=e}return Va}function so(e){var t=Xa;return Xa+=1,null===$a&&($a=[]),e=ea($a,e,t),t=za,null===(null===Va?t.memoizedState:Va.next)&&(t=t.alternate,k.H=null===t||null===t.memoizedState?ps:ms),e}function lo(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return so(e);if(e.$$typeof===y)return Ri(e)}throw Error(r(438,String(e)))}function co(e){var t=null,n=za.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=za.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},za.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function uo(e,t){return"function"==typeof t?t(e):t}function ho(e){return fo(oo(),Ba,e)}function fo(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var a=e.baseQueue,o=i.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,i.pending=null}if(o=e.baseState,null===a)e.memoizedState=o;else{var l=s=null,c=null,u=t=a.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(pc&h)===h:(ja&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bi&&(d=!0);else{if((ja&f)===f){u=u.next,f===Bi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=o):c=c.next=h,za.lanes|=f,wc|=f}h=u.action,Ga&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=o):c=c.next=f,za.lanes|=h,wc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Kn(o,e.memoizedState)&&(Ns=!0,d&&null!==(n=Vi)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,i.lastRenderedState=o}return null===a&&(i.lanes=0),[e.memoizedState,i.dispatch]}function po(e){var t=oo(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);Kn(o,t.memoizedState)||(Ns=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function mo(e,t,n){var i=za,a=oo(),o=ci;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!Kn((Ba||a).memoizedState,n);if(s&&(a.memoizedState=n,Ns=!0),a=a.queue,zo(yo.bind(null,i,a,e),[e]),a.getSnapshot!==t||s||null!==Va&&1&Va.memoizedState.tag){if(i.flags|=2048,Oo(9,{destroy:void 0},vo.bind(null,i,a,n,t),null),null===hc)throw Error(r(349));o||127&ja||go(i,t,n)}return n}function go(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=za.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},za.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function vo(e,t,n,r){t.value=n,t.getSnapshot=r,bo(t)&&xo(e)}function yo(e,t,n){return n(function(){bo(t)&&xo(e)})}function bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(r){return!0}}function xo(e){var t=Nr(e,2);null!==t&&qc(t,0,2)}function _o(e){var t=ao();if("function"==typeof e){var n=e;if(e=n(),Ga){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e},t}function wo(e,t,n,r){return e.baseState=n,fo(e,Ba,"function"==typeof r?r:uo)}function So(e,t,n,i,a){if(us(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==k.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,Mo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Mo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=k.T,o={};k.T=o;try{var s=n(i,r),l=k.S;null!==l&&l(o,s),Eo(e,t,s)}catch(c){Ao(e,t,c)}finally{null!==a&&null!==o.types&&(a.types=o.types),k.T=a}}else try{Eo(e,t,a=n(i,r))}catch(u){Ao(e,t,u)}}function Eo(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){To(e,t,n)},function(n){return Ao(e,t,n)}):To(e,t,n)}function To(e,t,n){t.status="fulfilled",t.value=n,Co(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Mo(e,n)))}function Ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Co(t),t=t.next}while(t!==r)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Po(e,t){return t}function Ro(e,t){if(ci){var n=hc.formState;if(null!==n){e:{var r=za;if(ci){if(li){t:{for(var i=li,a=di;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Nd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){li=Nd(i.nextSibling),r="F!"===i.data;break e}}fi(r)}r=!1}r&&(t=n[0])}}return(n=ao()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:t},n.queue=r,n=ss.bind(null,za,r),r.dispatch=n,r=_o(!1),a=cs.bind(null,za,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ao()).queue=i,n=So.bind(null,za,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function No(e){return ko(oo(),Ba,e)}function ko(e,t,n){if(t=fo(e,t,Po)[0],e=ho(uo)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=so(t)}catch(o){if(o===Yi)throw Zi;throw o}else r=t;var i=(t=oo()).queue,a=i.dispatch;return n!==t.memoizedState&&(za.flags|=2048,Oo(9,{destroy:void 0},Lo.bind(null,i,n),null)),[r,a,e]}function Lo(e,t){e.action=t}function Io(e){var t=oo(),n=Ba;if(null!==n)return ko(t,n,e);oo(),t=t.memoizedState;var r=(n=oo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Oo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=za.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},za.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Do(){return oo().memoizedState}function Fo(e,t,n,r){var i=ao();za.flags|=e,i.memoizedState=Oo(1|t,{destroy:void 0},n,void 0===r?null:r)}function Uo(e,t,n,r){var i=oo();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ba&&null!==r&&Za(r,Ba.memoizedState.deps)?i.memoizedState=Oo(t,a,n,r):(za.flags|=e,i.memoizedState=Oo(1|t,a,n,r))}function jo(e,t){Fo(8390656,8,e,t)}function zo(e,t){Uo(2048,8,e,t)}function Bo(e){var t=oo().memoizedState;return function(e){za.flags|=4;var t=za.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},za.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&dc)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vo(e,t){return Uo(4,2,e,t)}function Ho(e,t){return Uo(4,4,e,t)}function Wo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Go(e,t,n){n=null!=n?n.concat([e]):null,Uo(4,4,Wo.bind(null,t,e),n)}function qo(){}function Xo(e,t){var n=oo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Za(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=oo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Za(t,r[1]))return r[0];if(r=e(),Ga){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Yo(e,t,n){return void 0===n||1073741824&ja&&!(261930&pc)?e.memoizedState=t:(e.memoizedState=n,e=Gc(),za.lanes|=e,wc|=e,n)}function Ko(e,t,n,r){return Kn(n,t)?n:null!==Ea.current?(e=Yo(e,n,r),Kn(e,t)||(Ns=!0),e):42&ja&&(!(1073741824&ja)||261930&pc)?(e=Gc(),za.lanes|=e,wc|=e,t):(Ns=!0,e.memoizedState=n)}function Zo(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var o,s,l,c=k.T,u={};k.T=u,cs(e,!1,t,n);try{var d=i(),h=k.S;null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?ls(e,t,(o=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<s.length;e++)(0,s[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l),Wc()):ls(e,t,r,Wc())}catch(f){ls(e,t,{then:function(){},status:"rejected",reason:f},Wc())}finally{L.p=a,null!==c&&null!==u.types&&(c.types=u.types),k.T=c}}function Jo(){}function Qo(e,t,n,i){if(5!==e.tag)throw Error(r(476));var a=es(e).queue;Zo(e,a,t,I,null===n?Jo:function(){return ts(e),n(i)})}function es(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:I},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ts(e){var t=es(e);null===t.next&&(t=e.alternate.memoizedState),ls(e,t.next.queue,{},Wc())}function ns(){return Ri(lh)}function rs(){return oo().memoizedState}function is(){return oo().memoizedState}function as(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wc(),r=va(t,e=ga(n),n);return null!==r&&(qc(r,0,n),ya(r,t,n)),t={cache:Fi()},void(e.payload=t)}t=t.return}}function os(e,t,n){var r=Wc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},us(e)?ds(t,n):null!==(n=Rr(e,t,n,r))&&(qc(n,0,r),hs(n,t,r))}function ss(e,t,n){ls(e,t,n,Wc())}function ls(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(us(e))ds(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Kn(s,o))return Pr(e,t,i,0),null===hc&&Cr(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return qc(n,0,r),hs(n,t,r),!0}return!1}function cs(e,t,n,i){if(i={lane:2,revertLane:zu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},us(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,i,2))&&qc(t,0,2)}function us(e){var t=e.alternate;return e===za||null!==t&&t===za}function ds(e,t){Wa=Ha=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,ke(e,n)}}var fs={readContext:Ri,use:lo,useCallback:Ka,useContext:Ka,useEffect:Ka,useImperativeHandle:Ka,useLayoutEffect:Ka,useInsertionEffect:Ka,useMemo:Ka,useReducer:Ka,useRef:Ka,useState:Ka,useDebugValue:Ka,useDeferredValue:Ka,useTransition:Ka,useSyncExternalStore:Ka,useId:Ka,useHostTransitionStatus:Ka,useFormState:Ka,useActionState:Ka,useOptimistic:Ka,useMemoCache:Ka,useCacheRefresh:Ka};fs.useEffectEvent=Ka;var ps={readContext:Ri,use:lo,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:jo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Fo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){Fo(4,2,e,t)},useMemo:function(e,t){var n=ao();t=void 0===t?null:t;var r=e();if(Ga){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ao();if(void 0!==n){var i=n(t);if(Ga){ve(!0);try{n(t)}finally{ve(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=os.bind(null,za,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:function(e){var t=(e=_o(e)).queue,n=ss.bind(null,za,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:qo,useDeferredValue:function(e,t){return Yo(ao(),e,t)},useTransition:function(){var e=_o(!1);return e=Zo.bind(null,za,e.queue,!0,!1),ao().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=za,a=ao();if(ci){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===hc)throw Error(r(349));127&pc||go(i,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,jo(yo.bind(null,i,o,e),[e]),i.flags|=2048,Oo(9,{destroy:void 0},vo.bind(null,i,o,n,t),null),n},useId:function(){var e=ao(),t=hc.identifierPrefix;if(ci){var n=ti;t="_"+t+"R_"+(n=(ei&~(1<<32-ye(ei)-1)).toString(32)+n),0<(n=qa++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ya++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ns,useFormState:Ro,useActionState:Ro,useOptimistic:function(e){var t=ao();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=cs.bind(null,za,!0,n),n.dispatch=t,[e,t]},useMemoCache:co,useCacheRefresh:function(){return ao().memoizedState=as.bind(null,za)},useEffectEvent:function(e){var t=ao(),n={impl:e};return t.memoizedState=n,function(){if(2&dc)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},ms={readContext:Ri,use:lo,useCallback:Xo,useContext:Ri,useEffect:zo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:$o,useReducer:ho,useRef:Do,useState:function(){return ho(uo)},useDebugValue:qo,useDeferredValue:function(e,t){return Ko(oo(),Ba.memoizedState,e,t)},useTransition:function(){var e=ho(uo)[0],t=oo().memoizedState;return["boolean"==typeof e?e:so(e),t]},useSyncExternalStore:mo,useId:rs,useHostTransitionStatus:ns,useFormState:No,useActionState:No,useOptimistic:function(e,t){return wo(oo(),0,e,t)},useMemoCache:co,useCacheRefresh:is};ms.useEffectEvent=Bo;var gs={readContext:Ri,use:lo,useCallback:Xo,useContext:Ri,useEffect:zo,useImperativeHandle:Go,useInsertionEffect:Vo,useLayoutEffect:Ho,useMemo:$o,useReducer:po,useRef:Do,useState:function(){return po(uo)},useDebugValue:qo,useDeferredValue:function(e,t){var n=oo();return null===Ba?Yo(n,e,t):Ko(n,Ba.memoizedState,e,t)},useTransition:function(){var e=po(uo)[0],t=oo().memoizedState;return["boolean"==typeof e?e:so(e),t]},useSyncExternalStore:mo,useId:rs,useHostTransitionStatus:ns,useFormState:Io,useActionState:Io,useOptimistic:function(e,t){var n=oo();return null!==Ba?wo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:co,useCacheRefresh:is};function vs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}gs.useEffectEvent=Bo;var ys={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wc(),i=ga(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=va(e,i,r))&&(qc(t,0,r),ya(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wc(),i=ga(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=va(e,i,r))&&(qc(t,0,r),ya(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wc(),r=ga(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=va(e,r,n))&&(qc(t,0,n),ya(t,e,n))}};function bs(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!(t.prototype&&t.prototype.isPureReactComponent&&Zn(n,r)&&Zn(i,a))}function xs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ys.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=u({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function ws(e){Mr(e)}function Ss(e){}function Ms(e){Mr(e)}function Es(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ts(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function As(e,t,n){return(n=ga(n)).tag=3,n.payload={element:null},n.callback=function(){Es(e,t)},n}function Cs(e){return(e=ga(e)).tag=3,e}function Ps(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ts(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Ts(t,n,r),"function"!=typeof i&&(null===Ic?Ic=new Set([this]):Ic.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Rs=Error(r(461)),Ns=!1;function ks(e,t,n,r){t.child=null===e?ha(t,null,n,r):da(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Pi(t),r=Ja(e,t,n,o,a,i),s=no(),null===e||Ns?(ci&&s&&ii(t),t.flags|=1,ks(e,t,r,i),t.child):(ro(e,t,i),nl(e,t,i))}function Is(e,t,n,r,i){if(null===e){var a=n.type;return"function"!=typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Os(e,t,a,r,i))}if(a=e.child,!rl(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return nl(e,t,i)}return t.flags|=1,(e=Ur(a,r)).ref=t.ref,e.return=t,t.child=e}function Os(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Ns=!1,t.pendingProps=r=a,!rl(e,i))return t.lanes=e.lanes,nl(e,t,i);131072&e.flags&&(Ns=!0)}}return Vs(e,t,n,r,i)}function Ds(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Us(e,t,a,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Us(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):Ca(),Ia(t)}else null!==a?(Xi(0,a.cachePool),Aa(t,a),Oa(),t.memoizedState=null):(null!==e&&Xi(0,null),Ca(),Oa());return ks(e,t,i,n),t.child}function Fs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Us(e,t,n,r,i){var a=qi();return a=null===a?null:{parent:Di._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Xi(0,null),Ca(),Ia(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function js(e,t){return(t=Zs({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function zs(e,t,n){return da(t,e.child,null,n),(e=js(t,t.pendingProps)).flags|=2,Da(t),t.memoizedState=null,e}function Bs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Vs(e,t,n,r,i){return Pi(t),n=Ja(e,t,n,r,void 0,i),r=no(),null===e||Ns?(ci&&r&&ii(t),t.flags|=1,ks(e,t,n,i),t.child):(ro(e,t,i),nl(e,t,i))}function Hs(e,t,n,r,i,a){return Pi(t),t.updateQueue=null,n=eo(t,r,n,i),Qa(e),r=no(),null===e||Ns?(ci&&r&&ii(t),t.flags|=1,ks(e,t,n,a),t.child):(ro(e,t,a),nl(e,t,a))}function Ws(e,t,n,r,i){if(Pi(t),null===t.stateNode){var a=Ir,o=n.contextType;"object"==typeof o&&null!==o&&(a=Ri(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ys,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},pa(t),o=n.contextType,a.context="object"==typeof o&&null!==o?Ri(o):Ir,a.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(vs(t,n,o,r),a.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ys.enqueueReplaceState(a,a.state,null),wa(t,r,a,i),_a(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=_s(n,s);a.props=l;var c=a.context,u=n.contextType;o=Ir,"object"==typeof u&&null!==u&&(o=Ri(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s||c!==o)&&xs(t,a,r,o),fa=!1;var h=t.memoizedState;a.state=h,wa(t,r,a,i),_a(),c=t.memoizedState,s||h!==c||fa?("function"==typeof d&&(vs(t,n,d,r),c=t.memoizedState),(l=fa||bs(t,n,l,r,h,c,o))?(u||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ma(e,t),u=_s(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Ir,"object"==typeof c&&null!==c&&(l=Ri(c)),(c="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||h!==l)&&xs(t,a,r,l),fa=!1,h=t.memoizedState,a.state=h,wa(t,r,a,i),_a();var f=t.memoizedState;o!==d||h!==f||fa||null!==e&&null!==e.dependencies&&Ci(e.dependencies)?("function"==typeof s&&(vs(t,n,s,r),f=t.memoizedState),(u=fa||bs(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ci(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Bs(e,t),r=!!(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=da(t,e.child,null,i),t.child=da(t,null,n,i)):ks(e,t,n,i),t.memoizedState=a.state,e=t.child):e=nl(e,t,i),e}function Gs(e,t,n,r){return vi(),t.flags|=256,ks(e,t,n,r),t.child}var qs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xs(e){return{baseLanes:e,cachePool:$i()}}function $s(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Ys(e,t,n){var i,a=t.pendingProps,o=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&Fa.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(ci){if(o?ka(t):Oa(),(e=li)?null!==(e=null!==(e=Cd(e,di))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Qr?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,si=t,li=null):e=null,null===e)throw fi(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,o?(Oa(),l=Zs({mode:"hidden",children:l},o=t.mode),a=Br(a,o,n,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Xs(n),a.childLanes=$s(e,i,n),t.memoizedState=qs,Fs(null,a)):(ka(t),Ks(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(ka(t),t.flags&=-257,t=Js(e,t,n)):null!==t.memoizedState?(Oa(),t.child=e.child,t.flags|=128,t=null):(Oa(),l=a.fallback,o=t.mode,a=Zs({mode:"visible",children:a.children},o),(l=Br(l,o,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,da(t,e.child,null,n),(a=t.child).memoizedState=Xs(n),a.childLanes=$s(e,i,n),t.memoizedState=qs,t=Fs(null,a));else if(ka(t),Rd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var u=i.dgst;i=u,(a=Error(r(419))).stack="",a.digest=i,bi({value:a,source:null,stack:null}),t=Js(e,t,n)}else if(Ns||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Ns||i){if(null!==(i=hc)&&0!==(a=Le(i,n))&&a!==c.retryLane)throw c.retryLane=a,Nr(e,a),qc(i,0,a),Rs;Pd(l)||iu(),t=Js(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,li=Nd(l.nextSibling),si=t,ci=!0,ui=null,di=!1,null!==e&&oi(t,e),(t=Ks(t,a.children)).flags|=4096);return t}return o?(Oa(),l=a.fallback,o=t.mode,u=(c=e.child).sibling,(a=Ur(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Ur(u,l):(l=Br(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,Fs(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Xs(n):(null!==(o=l.cachePool)?(c=Di._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=$i(),l={baseLanes:l.baseLanes|n,cachePool:o}),a.memoizedState=l,a.childLanes=$s(e,i,n),t.memoizedState=qs,Fs(e.child,a)):(ka(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Ks(e,t){return(t=Zs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zs(e,t){return(e=Dr(22,e,null,t)).lanes=0,e}function Js(e,t,n){return da(t,e.child,null,n),(e=Ks(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Qs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ei(e.return,t,n)}function el(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function tl(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Fa.current,s=!!(2&o);if(s?(o=1&o|2,t.flags|=128):o&=1,j(Fa,o),ks(e,t,r,n),r=ci?Kr:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n,t);else if(19===e.tag)Qs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),el(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}el(t,!0,n,null,a,r);break;case"together":el(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function nl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),wc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function rl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ci(e))}function il(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ns=!0;else{if(!(rl(e,n)||128&t.flags))return Ns=!1,function(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Si(0,Di,e.memoizedState.cache),vi();break;case 27:case 5:$(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Si(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ka(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ys(e,t,n):(ka(t),null!==(e=nl(e,t,n))?e.sibling:null);ka(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return tl(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),j(Fa,Fa.current),r)break;return null;case 22:return t.lanes=0,Ds(e,t,n,t.pendingProps);case 24:Si(0,Di,e.memoizedState.cache)}return nl(e,t,n)}(e,t,n);Ns=!!(131072&e.flags)}else Ns=!1,ci&&1048576&t.flags&&ri(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ta(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===b){t.tag=11,t=Ls(null,t,e,i,n);break e}if(a===w){t.tag=14,t=Is(null,t,e,i,n);break e}}throw t=R(e)||e,Error(r(306,t,""))}Fr(e)?(i=_s(e,i),t.tag=1,t=Ws(null,t,e,i,n)):(t.tag=0,t=Vs(null,t,e,i,n))}return t;case 0:return Vs(e,t,t.type,t.pendingProps,n);case 1:return Ws(e,t,i=t.type,a=_s(i,t.pendingProps),n);case 3:e:{if(q(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;a=o.element,ma(e,t),wa(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Si(0,Di,i),i!==o.cache&&Ti(t,[Di],n,!0),_a(),i=s.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Gs(e,t,i,n);break e}if(i!==a){bi(a=qr(Error(r(424)),t)),t=Gs(e,t,i,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,li=Nd(e.firstChild),si=t,ci=!0,ui=null,di=!0,n=ha(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(vi(),i===a){t=nl(e,t,n);break e}ks(e,t,i,n)}t=t.child}return t;case 26:return Bs(e,t),null===e?(n=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ci||(n=t.type,e=t.pendingProps,(i=pd(W.current).createElement(n))[je]=t,i[ze]=e,ud(i,n,e),Je(i),t.stateNode=i):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ci&&(i=t.stateNode=Od(t.type,t.pendingProps,W.current),si=t,di=!0,a=li,Md(t.type)?(kd=a,li=Nd(i.firstChild)):li=a),ks(e,t,t.pendingProps.children,n),Bs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ci&&((a=i=li)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Nd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,di))?(t.stateNode=i,si=t,li=Nd(i.firstChild),di=!1,a=!0):a=!1),a||fi(t)),$(t),a=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,vd(a,o)?i=null:null!==s&&vd(a,s)&&(t.flags|=32),null!==t.memoizedState&&(a=Ja(e,t,to,null,null,n),lh._currentValue=a),Bs(e,t),ks(e,t,i,n),t.child;case 6:return null===e&&ci&&((e=n=li)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Nd(e.nextSibling)))return null}return e}(n,t.pendingProps,di))?(t.stateNode=n,si=t,li=null,e=!0):e=!1),e||fi(t)),null;case 13:return Ys(e,t,n);case 4:return q(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=da(t,null,i,n):ks(e,t,i,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Si(0,t.type,i.value),ks(e,t,i.children,n),t.child;case 9:return a=t.type._context,i=t.pendingProps.children,Pi(t),i=i(a=Ri(a)),t.flags|=1,ks(e,t,i,n),t.child;case 14:return Is(e,t,t.type,t.pendingProps,n);case 15:return Os(e,t,t.type,t.pendingProps,n);case 19:return tl(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(ci){if("hidden"===i.mode)return e=js(t,i),t.lanes=536870912,Fs(null,e);if(La(t),(e=li)?null!==(e=null!==(e=Cd(e,di))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==Qr?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,si=t,li=null):e=null,null===e)throw fi(t);return t.lanes=536870912,null}return js(t,i)}var o=e.memoizedState;if(null!==o){var s=o.dehydrated;if(La(t),a)if(256&t.flags)t.flags&=-257,t=zs(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Ns||Ai(e,t,n,!1),a=0!==(n&e.childLanes),Ns||a){if(null!==(i=hc)&&0!==(s=Le(i,n))&&s!==o.retryLane)throw o.retryLane=s,Nr(e,s),qc(i,0,s),Rs;iu(),t=zs(e,t,n)}else e=o.treeContext,li=Nd(s.nextSibling),si=t,ci=!0,ui=null,di=!1,null!==e&&oi(t,e),(t=js(t,i)).flags|=4096;return t}return(e=Ur(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Ds(e,t,n,t.pendingProps);case 24:return Pi(t),i=Ri(Di),null===e?(null===(a=qi())&&(a=hc,o=Fi(),a.pooledCache=o,o.refCount++,null!==o&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:i,cache:a},pa(t),Si(0,Di,a)):(0!==(e.lanes&n)&&(ma(e,t),wa(t,null,null,n),_a()),a=e.memoizedState,o=t.memoizedState,a.parent!==i?(a={parent:i,cache:i},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Si(0,Di,i)):(i=o.cache,Si(0,Di,i),i!==a.cache&&Ti(t,[Di],n,!0))),ks(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function al(e){e.flags|=4}function ol(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!tu())throw na=Ji,Ki;e.flags|=8192}}else e.flags&=-16777217}function sl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!nh(t)){if(!tu())throw na=Ji,Ki;e.flags|=8192}}function ll(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,Tc|=t)}function cl(e,t){if(!ci)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ul(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dl(e,t,n){var i=t.pendingProps;switch(ai(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ul(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mi(Di),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(gi(t)?al(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,yi())),ul(t),null;case 26:var a=t.type,o=t.memoizedState;return null===e?(al(t),null!==o?(ul(t),sl(t,o)):(ul(t),ol(t,a,0,0,n))):o?o!==e.memoizedState?(al(t),ul(t),sl(t,o)):(ul(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&al(t),ul(t),ol(t,a,0,0,n)),null;case 27:if(Y(t),n=W.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ul(t),null}e=V.current,gi(t)?pi(t):(e=Od(a,i,n),t.stateNode=e,al(t))}return ul(t),null;case 5:if(Y(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return ul(t),null}if(o=V.current,gi(t))pi(t);else{var s=pd(W.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(o=s.createElement("div")).innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o="string"==typeof i.is?s.createElement(a,{is:i.is}):s.createElement(a)}}o[je]=t,o[ze]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)o.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch(ud(o,a,i),a){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&al(t)}}return ul(t),ol(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&al(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=W.current,gi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(a=si))switch(a.tag){case 27:case 5:i=a.memoizedProps}e[je]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||sd(e.nodeValue,n)))||fi(t,!0)}else(e=pd(e).createTextNode(i))[je]=t,t.stateNode=e}return ul(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=gi(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[je]=t}else vi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ul(t),e=!1}else n=yi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Da(t),t):(Da(t),null);if(128&t.flags)throw Error(r(558))}return ul(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=gi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[je]=t}else vi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ul(t),a=!1}else a=yi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(Da(t),t):(Da(t),null)}return Da(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(a=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(a=i.alternate.memoizedState.cachePool.pool),o=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ll(t,t.updateQueue),ul(t),null);case 4:return X(),null===e&&Zu(t.stateNode.containerInfo),ul(t),null;case 10:return Mi(t.type),ul(t),null;case 19:if(U(Fa),null===(i=t.memoizedState))return ul(t),null;if(a=!!(128&t.flags),null===(o=i.rendering))if(a)cl(i,!1);else{if(0!==_c||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Ua(e))){for(t.flags|=128,cl(i,!1),e=o.updateQueue,t.updateQueue=e,ll(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jr(n,e),n=n.sibling;return j(Fa,1&Fa.current|2),ci&&ni(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&oe()>kc&&(t.flags|=128,a=!0,cl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ua(o))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,ll(t,e),cl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!ci)return ul(t),null}else 2*oe()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,a=!0,cl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=oe(),e.sibling=null,n=Fa.current,j(Fa,a?1&n|2:1&n),ci&&ni(t,i.treeForkCount),e):(ul(t),null);case 22:case 23:return Da(t),Pa(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(ul(t),6&t.subtreeFlags&&(t.flags|=8192)):ul(t),null!==(n=t.updateQueue)&&ll(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&U(Gi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mi(Di),ul(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function hl(e,t){switch(ai(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Mi(Di),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 31:if(null!==t.memoizedState){if(Da(t),null===t.alternate)throw Error(r(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Da(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Fa),null;case 4:return X(),null;case 10:return Mi(t.type),null;case 22:case 23:return Da(t),Pa(),null!==e&&U(Gi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Mi(Di),null;default:return null}}function fl(e,t){switch(ai(t),t.tag){case 3:Mi(Di),X();break;case 26:case 27:case 5:Y(t);break;case 4:X();break;case 31:null!==t.memoizedState&&Da(t);break;case 13:Da(t);break;case 19:U(Fa);break;case 10:Mi(t.type);break;case 22:case 23:Da(t),Pa(),null!==e&&U(Gi);break;case 24:Mi(Di)}}function pl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){_u(t,t.return,s)}}function ml(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){_u(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){_u(t,t.return,u)}}function gl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ma(t,n)}catch(r){_u(e,e.return,r)}}}function vl(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){_u(e,t,r)}}function yl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){_u(e,t,i)}}function bl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){_u(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(a){_u(e,t,a)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){_u(e,e.return,i)}}function _l(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,o=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||ld(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&ld(e,t,f,p,i,h)}}return void gt(e,s,l,c,u,d,o,a);case"select":for(o in p=s=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(o)||ld(e,t,o,null,i,c)}for(a in i)if(o=i[a],c=n[a],i.hasOwnProperty(a)&&(null!=o||null!=c))switch(a){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&ld(e,t,a,o,i,c)}return t=l,n=s,i=p,void(null!=f?bt(e,!!n,f,!1):!!i!=!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ld(e,t,l,null,i,a)}for(s in i)if(a=i[s],o=n[s],i.hasOwnProperty(s)&&(null!=a||null!=o))switch(s){case"value":f=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(r(91));break;default:a!==o&&ld(e,t,s,a,i,o)}return void xt(e,f,p);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m)&&("selected"===m?e.selected=!1:ld(e,t,m,null,i,f));for(c in i)f=i[c],p=n[c],!i.hasOwnProperty(c)||f===p||null==f&&null==p||("selected"===c?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:ld(e,t,c,f,i,p));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ld(e,t,g,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ld(e,t,u,f,i,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!i.hasOwnProperty(v)&&cd(e,t,v,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||cd(e,t,d,f,i,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!i.hasOwnProperty(y)&&ld(e,t,y,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||ld(e,t,h,f,i,p)}(i,e.type,n,t),i[ze]=t}catch(a){_u(e,e.return,a)}}function wl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Md(e.type)||4===e.tag}function Sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||wl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ml(e,t,n),e=e.sibling;null!==e;)Ml(e,t,n),e=e.sibling}function El(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ud(t,r,n),t[je]=e,t[ze]=n}catch(a){_u(e,e.return,a)}}var Al=!1,Cl=!1,Pl=!1,Rl="function"==typeof WeakSet?WeakSet:Set,Nl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ql(e,n),4&r&&pl(5,n);break;case 1:if(ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){_u(n,n.return,o)}else{var i=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){_u(n,n.return,s)}}64&r&&gl(n),512&r&&yl(n,n.return);break;case 3:if(ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ma(e,t)}catch(o){_u(n,n.return,o)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:ql(e,n),null===t&&4&r&&xl(n),512&r&&yl(n,n.return);break;case 12:ql(e,n);break;case 31:ql(e,n),4&r&&Ul(e,n);break;case 13:ql(e,n),4&r&&jl(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Eu.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Cl,i=Al;var a=Cl;Al=r,(Cl=t)&&!a?$l(e,n,!!(8772&n.subtreeFlags)):ql(e,n),Al=i,Cl=a}break;case 30:break;default:ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&Xe(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,Ol=!1;function Dl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(ge&&"function"==typeof ge.onCommitFiberUnmount)try{ge.onCommitFiberUnmount(me,n)}catch(KH){}switch(n.tag){case 26:Cl||bl(n,t),Dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Cl||bl(n,t);var r=Il,i=Ol;Md(n.type)&&(Il=n.stateNode,Ol=!1),Dl(e,t,n),Dd(n.stateNode),Il=r,Ol=i;break;case 5:Cl||bl(n,t);case 6:if(r=Il,i=Ol,Il=null,Dl(e,t,n),Ol=i,null!==(Il=r))if(Ol)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(a){_u(n,t,a)}else try{Il.removeChild(n.stateNode)}catch(a){_u(n,t,a)}break;case 18:null!==Il&&(Ol?(Ed(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Vh(e)):Ed(Il,n.stateNode));break;case 4:r=Il,i=Ol,Il=n.stateNode.containerInfo,Ol=!0,Dl(e,t,n),Il=r,Ol=i;break;case 0:case 11:case 14:case 15:ml(2,n,t),Cl||ml(4,n,t),Dl(e,t,n);break;case 1:Cl||(bl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&vl(n,t,r)),Dl(e,t,n);break;case 21:Dl(e,t,n);break;case 22:Cl=(r=Cl)||null!==n.memoizedState,Dl(e,t,n),Cl=r;break;default:Dl(e,t,n)}}function Ul(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Vh(e)}catch(n){_u(t,t.return,n)}}}function jl(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Vh(e)}catch(n){_u(t,t.return,n)}}function zl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Bl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Md(l.type)){Il=l.stateNode,Ol=!1;break e}break;case 5:Il=l.stateNode,Ol=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,Ol=!0;break e}l=l.return}if(null===Il)throw Error(r(160));Fl(o,s,a),Il=null,Ol=!1,null!==(o=a.alternate)&&(o.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Hl(t,e),t=t.sibling}var Vl=null;function Hl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bl(t,e),Wl(e),4&i&&(ml(3,e,e.return),pl(3,e),ml(5,e,e.return));break;case 1:Bl(t,e),Wl(e),512&i&&(Cl||null===n||bl(n,n.return)),64&i&&Al&&null!==(e=e.updateQueue)&&null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i));break;case 26:var a=Vl;if(Bl(t,e),Wl(e),512&i&&(Cl||null===n||bl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(i){case"title":(!(o=a.getElementsByTagName("title")[0])||o[qe]||o[je]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=a.createElement(i),a.head.insertBefore(o,a.querySelector("head > title"))),ud(o,i,n),o[je]=e,Je(o),i=o;break e;case"link":var s=eh("link","href",a).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ud(o=a.createElement(i),i,n),a.head.appendChild(o);break;case"meta":if(s=eh("meta","content",a).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ud(o=a.createElement(i),i,n),a.head.appendChild(o);break;default:throw Error(r(468,i))}o[je]=e,Je(o),i=o}e.stateNode=i}else th(a,e.type,e.stateNode);else e.stateNode=Yd(a,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?th(a,e.type,e.stateNode):Yd(a,i,e.memoizedProps)):null===i&&null!==e.stateNode&&_l(e,e.memoizedProps,n.memoizedProps)}break;case 27:Bl(t,e),Wl(e),512&i&&(Cl||null===n||bl(n,n.return)),null!==n&&4&i&&_l(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Bl(t,e),Wl(e),512&i&&(Cl||null===n||bl(n,n.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(m){_u(e,e.return,m)}}4&i&&null!=e.stateNode&&_l(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&i&&(Pl=!0);break;case 6:if(Bl(t,e),Wl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){_u(e,e.return,m)}}break;case 3:if(Qd=null,a=Vl,Vl=jd(t.containerInfo),Bl(t,e),Vl=a,Wl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vh(t.containerInfo)}catch(m){_u(e,e.return,m)}Pl&&(Pl=!1,Gl(e));break;case 4:i=Vl,Vl=jd(e.stateNode.containerInfo),Bl(t,e),Wl(e),Vl=i;break;case 12:default:Bl(t,e),Wl(e);break;case 31:case 19:Bl(t,e),Wl(e),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,zl(e,i));break;case 13:Bl(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=oe()),4&i&&null!==(i=e.updateQueue)&&(e.updateQueue=null,zl(e,i));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Cl;if(Al=u||a,Cl=d||c,Bl(t,e),Cl=d,Al=u,Wl(e),8192&i)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||Al||Cl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,a)"function"==typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){_u(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(m){_u(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;a?Td(p,!0):Td(c.stateNode,!1)}catch(m){_u(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(i=e.updateQueue)&&null!==(n=i.retryQueue)&&(i.retryQueue=null,zl(e,n));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(wl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var a=n.stateNode;El(e,Sl(e),a);break;case 5:var o=n.stateNode;32&n.flags&&(wt(o,""),n.flags&=-33),El(e,Sl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Ml(e,Sl(e),s);break;default:throw Error(r(161))}}catch(l){_u(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Gl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Gl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ml(4,t,t.return),Xl(t);break;case 1:bl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&vl(t,t.return,n),Xl(t);break;case 27:Dd(t.stateNode);case 26:case 5:bl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:$l(i,a,n),pl(4,a);break;case 1:if($l(i,a,n),"function"==typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){_u(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Sa(l[i],s)}catch(c){_u(r,r.return,c)}}n&&64&o&&gl(a),yl(a,a.return);break;case 27:Tl(a);case 26:case 5:$l(i,a,n),n&&null===r&&4&o&&xl(a),yl(a,a.return);break;case 12:$l(i,a,n);break;case 31:$l(i,a,n),n&&4&o&&Ul(i,a);break;case 13:$l(i,a,n),n&&4&o&&jl(i,a);break;case 22:null===a.memoizedState&&$l(i,a,n),yl(a,a.return);break;case 30:break;default:$l(i,a,n)}t=t.sibling}}function Yl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ui(n))}function Kl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e))}function Zl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Jl(e,t,n,r),t=t.sibling}function Jl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,n,r),2048&i&&pl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,n,r);break;case 3:Zl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ui(e)));break;case 12:if(2048&i){Zl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"==typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){_u(t,t.return,l)}}else Zl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Zl(e,t,n,r):ec(e,t):2&a._visibility?Zl(e,t,n,r):(a._visibility|=2,Ql(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Yl(o,t);break;case 24:Zl(e,t,n,r),2048&i&&Kl(t.alternate,t)}}function Ql(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Ql(a,o,s,l,i),pl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Ql(a,o,s,l,i):ec(a,o):(u._visibility|=2,Ql(a,o,s,l,i)),i&&2048&c&&Yl(o.alternate,o);break;case 24:Ql(a,o,s,l,i),i&&2048&c&&Kl(o.alternate,o);break;default:Ql(a,o,s,l,i)}t=t.sibling}}function ec(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ec(n,r),2048&i&&Yl(r.alternate,r);break;case 24:ec(n,r),2048&i&&Kl(r.alternate,r);break;default:ec(n,r)}t=t.sibling}}var tc=8192;function nc(e,t,n){if(e.subtreeFlags&tc)for(e=e.child;null!==e;)rc(e,t,n),e=e.sibling}function rc(e,t,n){switch(e.tag){case 26:nc(e,t,n),e.flags&tc&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Wd(r.href),a=t.querySelector(Gd(i));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=ih.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void Je(a);a=t.ownerDocument||t,r=qd(r),(i=Fd.get(i))&&Zd(r,i),Je(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ud(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=ih.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Vl,e.memoizedState,e.memoizedProps);break;case 5:default:nc(e,t,n);break;case 3:case 4:var r=Vl;Vl=jd(e.stateNode.containerInfo),nc(e,t,n),Vl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=tc,tc=16777216,nc(e,t,n),tc=r):nc(e,t,n))}}function ic(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function ac(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,lc(r,e)}ic(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)oc(e),e=e.sibling}function oc(e){switch(e.tag){case 0:case 11:case 15:ac(e),2048&e.flags&&ml(9,e,e.return);break;case 3:case 12:default:ac(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,sc(e)):ac(e)}}function sc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,lc(r,e)}ic(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ml(8,t,t.return),sc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,sc(t));break;default:sc(t)}e=e.sibling}}function lc(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:ml(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ui(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var i=(r=Nl).sibling,a=r.return;if(Ll(r),r===n){Nl=null;break e}if(null!==i){i.return=a,Nl=i;break e}Nl=a}}}var cc={getCacheForType:function(e){var t=Ri(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(Di).controller.signal}},uc="function"==typeof WeakMap?WeakMap:Map,dc=0,hc=null,fc=null,pc=0,mc=0,gc=null,vc=!1,yc=!1,bc=!1,xc=0,_c=0,wc=0,Sc=0,Mc=0,Ec=0,Tc=0,Ac=null,Cc=null,Pc=!1,Rc=0,Nc=0,kc=1/0,Lc=null,Ic=null,Oc=0,Dc=null,Fc=null,Uc=0,jc=0,zc=null,Bc=null,Vc=0,Hc=null;function Wc(){return 2&dc&&0!==pc?pc&-pc:null!==k.T?zu():De()}function Gc(){if(0===Ec)if(536870912&pc&&!ci)Ec=536870912;else{var e=we;!(3932160&(we<<=1))&&(we=262144),Ec=e}return null!==(e=Ra.current)&&(e.flags|=32),Ec}function qc(e,t,n){(e!==hc||2!==mc&&9!==mc)&&null===e.cancelPendingCommit||(Qc(e,0),Kc(e,pc,Ec,!1)),Re(e,n),2&dc&&e===hc||(e===hc&&(!(2&dc)&&(Sc|=n),4===_c&&Kc(e,pc,Ec,!1)),Lu(e))}function Xc(e,t,n){if(6&dc)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||Te(e,t),a=i?function(e,t){var n=dc;dc|=2;var i=nu(),a=ru();hc!==e||pc!==t?(Lc=null,kc=oe()+500,Qc(e,t)):yc=Te(e,t);e:for(;;)try{if(0!==mc&&null!==fc){t=fc;var o=gc;t:switch(mc){case 1:mc=0,gc=null,uu(e,t,o,1);break;case 2:case 9:if(Qi(o)){mc=0,gc=null,cu(t);break}t=function(){2!==mc&&9!==mc||hc!==e||(mc=7),Lu(e)},o.then(t,t);break e;case 3:mc=7;break e;case 4:mc=5;break e;case 7:Qi(o)?(mc=0,gc=null,cu(t)):(mc=0,gc=null,uu(e,t,o,7));break;case 5:var s=null;switch(fc.tag){case 26:s=fc.memoizedState;case 5:case 27:var l=fc;if(s?nh(s):l.stateNode.complete){mc=0,gc=null;var c=l.sibling;if(null!==c)fc=c;else{var u=l.return;null!==u?(fc=u,du(u)):fc=null}break t}}mc=0,gc=null,uu(e,t,o,5);break;case 6:mc=0,gc=null,uu(e,t,o,6);break;case 8:Jc(),_c=6;break e;default:throw Error(r(462))}}su();break}catch(d){eu(e,d)}return wi=_i=null,k.H=i,k.A=a,dc=n,null!==fc?0:(hc=null,pc=0,Cr(),_c)}(e,t):au(e,t,!0),o=i;;){if(0===a){yc&&!i&&Kc(e,t,0,!1);break}if(n=e.current.alternate,!o||Yc(n)){if(2===a){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!=(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;a=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(Qc(l,s).flags|=256),2!==(s=au(l,s,!1))){if(bc&&!c){l.errorRecoveryDisabledLanes|=o,Sc|=o,a=4;break e}o=Cc,Cc=a,null!==o&&(null===Cc?Cc=o:Cc.push.apply(Cc,o))}a=s}if(o=!1,2!==a)continue}}if(1===a){Qc(e,0),Kc(e,t,0,!0);break}e:{switch(i=e,o=a){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Kc(i,t,Ec,!vc);break e;case 2:Cc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(a=Rc+300-oe())){if(Kc(i,t,Ec,!vc),0!==Ee(i,0,!0))break e;Uc=t,i.timeoutHandle=bd($c.bind(null,i,n,Cc,Lc,Pc,t,Ec,Sc,Tc,vc,o,"Throttled",-0,0),a)}else $c(i,n,Cc,Lc,Pc,t,Ec,Sc,Tc,vc,o,null,-0,0)}break}a=au(e,t,!1),o=!1}Lu(e)}function $c(e,t,n,r,i,a,o,s,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){rc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&a)===a?Rc-oe():(4194048&a)===a?Nc-oe():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&oh(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===rh&&(rh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&dd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&dd(d)&&(o+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+o)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&oh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>rh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Uc=a,e.cancelPendingCommit=p(fu.bind(null,e,t,a,n,r,i,o,s,l,u,d,null,h,f)),void Kc(e,a,o,!c)}fu(e,t,a,n,r,i,o,s,l)}function Yc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kc(e,t,n,r){t&=~Mc,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ye(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Ne(e,n,t)}function Zc(){return!!(6&dc)||(Iu(0),!1)}function Jc(){if(null!==fc){if(0===mc)var e=fc.return;else wi=_i=null,io(e=fc),aa=null,oa=0,e=fc;for(;null!==e;)fl(e.alternate,e),e=e.return;fc=null}}function Qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc=0,Jc(),hc=e,fc=n=Ur(e.current,null),pc=t,mc=0,gc=null,vc=!1,yc=Te(e,t),bc=!1,Tc=Ec=Mc=Sc=wc=_c=0,Cc=Ac=null,Pc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-ye(r),a=1<<i;t|=e[i],r&=~a}return xc=t,Cr(),n}function eu(e,t){za=null,k.H=fs,t===Yi||t===Zi?(t=ra(),mc=3):t===Ki?(t=ra(),mc=4):mc=t===Rs?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,gc=t,null===fc&&(_c=1,Es(e,qr(t,e.current)))}function tu(){var e=Ra.current;return null===e||((4194048&pc)===pc?null===Na:!!((62914560&pc)===pc||536870912&pc)&&e===Na)}function nu(){var e=k.H;return k.H=fs,null===e?fs:e}function ru(){var e=k.A;return k.A=cc,e}function iu(){_c=4,vc||(4194048&pc)!==pc&&null!==Ra.current||(yc=!0),!(134217727&wc)&&!(134217727&Sc)||null===hc||Kc(hc,pc,Ec,!1)}function au(e,t,n){var r=dc;dc|=2;var i=nu(),a=ru();hc===e&&pc===t||(Lc=null,Qc(e,t)),t=!1;var o=_c;e:for(;;)try{if(0!==mc&&null!==fc){var s=fc,l=gc;switch(mc){case 8:Jc(),o=6;break e;case 3:case 2:case 9:case 6:null===Ra.current&&(t=!0);var c=mc;if(mc=0,gc=null,uu(e,s,l,c),n&&yc){o=0;break e}break;default:c=mc,mc=0,gc=null,uu(e,s,l,c)}}ou(),o=_c;break}catch(u){eu(e,u)}return t&&e.shellSuspendCounter++,wi=_i=null,dc=r,k.H=i,k.A=a,null===fc&&(hc=null,pc=0,Cr()),o}function ou(){for(;null!==fc;)lu(fc)}function su(){for(;null!==fc&&!ie();)lu(fc)}function lu(e){var t=il(e.alternate,e,xc);e.memoizedProps=e.pendingProps,null===t?du(e):fc=t}function cu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Hs(n,t,t.pendingProps,t.type,void 0,pc);break;case 11:t=Hs(n,t,t.pendingProps,t.type.render,t.ref,pc);break;case 5:io(t);default:fl(n,t),t=il(n,t=fc=jr(t,xc),xc)}e.memoizedProps=e.pendingProps,null===t?du(e):fc=t}function uu(e,t,n,i){wi=_i=null,io(t),aa=null,oa=0;var a=t.return;try{if(function(e,t,n,i,a){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Ai(t,n,a,!0),null!==(n=Ra.current)){switch(n.tag){case 31:case 13:return null===Na?iu():null===n.alternate&&0===_c&&(_c=3),n.flags&=-257,n.flags|=65536,n.lanes=a,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),wu(e,i,a)),!1;case 22:return n.flags|=65536,i===Ji?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),wu(e,i,a)),!1}throw Error(r(435,n.tag))}return wu(e,i,a),iu(),!1}if(ci)return null!==(t=Ra.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,i!==hi&&bi(qr(e=Error(r(422),{cause:i}),n))):(i!==hi&&bi(qr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,i=qr(i,n),ba(e,a=As(e.stateNode,i,a)),4!==_c&&(_c=2)),!1;var o=Error(r(520),{cause:i});if(o=qr(o,n),null===Ac?Ac=[o]:Ac.push(o),4!==_c&&(_c=2),null===t)return!0;i=qr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ba(n,e=As(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Ic&&Ic.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,Ps(a=Cs(a),e,n,i),ba(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,pc))return _c=1,Es(e,qr(n,e.current)),void(fc=null)}catch(o){if(null!==a)throw fc=a,o;return _c=1,Es(e,qr(n,e.current)),void(fc=null)}32768&t.flags?(ci||1===i?e=!0:yc||536870912&pc?e=!1:(vc=e=!0,(2===i||9===i||3===i||6===i)&&null!==(i=Ra.current)&&13===i.tag&&(i.flags|=16384)),hu(t,e)):du(t)}function du(e){var t=e;do{if(32768&t.flags)return void hu(t,vc);e=t.return;var n=dl(t.alternate,t,xc);if(null!==n)return void(fc=n);if(null!==(t=t.sibling))return void(fc=t);fc=t=e}while(null!==t);0===_c&&(_c=5)}function hu(e,t){do{var n=hl(e.alternate,e);if(null!==n)return n.flags&=32767,void(fc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(fc=e);fc=e=n}while(null!==e);_c=6,fc=null}function fu(e,t,n,i,a,o,s,l,c){e.cancelPendingCommit=null;do{yu()}while(0!==Oc);if(6&dc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ye(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,o|=Ar,s,l,c),e===hc&&(fc=hc=null,pc=0),Fc=t,Dc=e,Uc=n,jc=o,zc=a,Bc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ne(ue,function(){return bu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=k.T,k.T=null,a=L.p,L.p=2,s=dc,dc|=4;try{!function(e,t){if(e=e.containerInfo,hd=vh,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=s+a),h!==o||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=s),f===o&&++d===i&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fd={focusedElem:e,selectionRange:n},vh=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(o=(t=Nl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(a=e[n]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=_s(n.type,a);e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(v){_u(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{dc=s,L.p=a,k.T=i}}Oc=1,pu(),mu(),gu()}}function pu(){if(1===Oc){Oc=0;var e=Dc,t=Fc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=k.T,k.T=null;var r=L.p;L.p=2;var i=dc;dc|=4;try{Hl(t,e);var a=fd,o=tr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&er(s.ownerDocument.documentElement,s)){if(null!==l&&nr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=Qn(s,m),y=Qn(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}vh=!!hd,fd=hd=null}finally{dc=i,L.p=r,k.T=n}}e.current=t,Oc=2}}function mu(){if(2===Oc){Oc=0;var e=Dc,t=Fc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=k.T,k.T=null;var r=L.p;L.p=2;var i=dc;dc|=4;try{kl(e,t.alternate,t)}finally{dc=i,L.p=r,k.T=n}}Oc=3}}function gu(){if(4===Oc||3===Oc){Oc=0,ae();var e=Dc,t=Fc,n=Uc,r=Bc;10256&t.subtreeFlags||10256&t.flags?Oc=5:(Oc=0,Fc=Dc=null,vu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ic=null),Oe(n),t=t.stateNode,ge&&"function"==typeof ge.onCommitFiberRoot)try{ge.onCommitFiberRoot(me,t,void 0,!(128&~t.current.flags))}catch(KH){}if(null!==r){t=k.T,i=L.p,L.p=2,k.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{k.T=t,L.p=i}}3&Uc&&yu(),Lu(e),i=e.pendingLanes,261930&n&&42&i?e===Hc?Vc++:(Vc=0,Hc=e):Vc=0,Iu(0)}}function vu(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Ui(t))}function yu(){return pu(),mu(),gu(),bu()}function bu(){if(5!==Oc)return!1;var e=Dc,t=jc;jc=0;var n=Oe(Uc),i=k.T,a=L.p;try{L.p=32>n?32:n,k.T=null,n=zc,zc=null;var o=Dc,s=Uc;if(Oc=0,Fc=Dc=null,Uc=0,6&dc)throw Error(r(331));var l=dc;if(dc|=4,oc(o.current),Jl(o,o.current,s,n),dc=l,Iu(0),ge&&"function"==typeof ge.onPostCommitFiberRoot)try{ge.onPostCommitFiberRoot(me,o)}catch(KH){}return!0}finally{L.p=a,k.T=i,vu(e,t)}}function xu(e,t,n){t=qr(n,t),null!==(e=va(e,t=As(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function _u(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ic||!Ic.has(r))){e=qr(n,e),null!==(r=va(t,n=Cs(2),2))&&(Ps(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(bc=!0,i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,hc===e&&(pc&n)===n&&(4===_c||3===_c&&(62914560&pc)===pc&&300>oe()-Rc?!(2&dc)&&Qc(e,0):Mc|=n,Tc===pc&&(Tc=0)),Lu(e)}function Mu(e,t){0===t&&(t=Ce()),null!==(e=Nr(e,t))&&(Re(e,t),Lu(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Mu(e,n)}var Au=null,Cu=null,Pu=!1,Ru=!1,Nu=!1,ku=0;function Lu(e){e!==Cu&&null===e.next&&(null===Cu?Au=Cu=e:Cu=Cu.next=e),Ru=!0,Pu||(Pu=!0,wd(function(){6&dc?ne(le,Ou):Du()}))}function Iu(e,t){if(!Nu&&Ru){Nu=!0;do{for(var n=!1,r=Au;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-ye(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,ju(r,a))}else a=pc,!(3&(a=Ee(r,r===hc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,ju(r,a));r=r.next}}while(n);Nu=!1}}function Ou(){Du()}function Du(){Ru=Pu=!1;var e,t=0;0!==ku&&((e=window.event)&&"popstate"===e.type?e!==yd&&(yd=e,1):(yd=null,0))&&(t=ku);for(var n=oe(),r=null,i=Au;null!==i;){var a=i.next,o=Fu(i,n);0===o?(i.next=null,null===r?Au=a:r.next=a,null===a&&(Cu=r)):(r=i,(0!==t||3&o)&&(Ru=!0)),i=a}0!==Oc&&5!==Oc||Iu(t),0!==ku&&(ku=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-ye(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ae(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=pc,n=Ee(e,e===(t=hc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===mc||9===mc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&re(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&re(r),Oe(n)){case 2:case 8:n=ce;break;case 32:default:n=ue;break;case 268435456:n=he}return r=Uu.bind(null,e),n=ne(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&re(r),e.callbackPriority=2,e.callbackNode=null,2}function Uu(e,t){if(0!==Oc&&5!==Oc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(yu()&&e.callbackNode!==n)return null;var r=pc;return 0===(r=Ee(e,e===hc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Fu(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Uu.bind(null,e):null)}function ju(e,t){if(yu())return null;Xc(e,t,!0)}function zu(){if(0===ku){var e=Bi;0===e&&(e=_e,!(261888&(_e<<=1))&&(_e=256)),ku=e}return ku}function Bu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Pt(""+e)}function Vu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Hu=0;Hu<wr.length;Hu++){var Wu=wr[Hu];Sr(Wu.toLowerCase(),"on"+(Wu[0].toUpperCase()+Wu.slice(1)))}Sr(pr,"onAnimationEnd"),Sr(mr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(vr,"onTransitionRun"),Sr(yr,"onTransitionStart"),Sr(br,"onTransitionCancel"),Sr(xr,"onTransitionEnd"),nt("onMouseEnter",["mouseout","mouseover"]),nt("onMouseLeave",["mouseout","mouseover"]),nt("onPointerEnter",["pointerout","pointerover"]),nt("onPointerLeave",["pointerout","pointerover"]),tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Mr(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){Mr(u)}i.currentTarget=null,a=l}}}}function $u(e,t){var n=t[Ve];void 0===n&&(n=t[Ve]=new Set);var r=e+"__bubble";n.has(r)||(Ju(t,e,2,!1),n.add(r))}function Yu(e,t,n){var r=0;t&&(r|=4),Ju(n,e,r,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Ku]){e[Ku]=!0,Qe.forEach(function(t){"selectionchange"!==t&&(qu.has(t)||Yu(t,!1,e),Yu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ku]||(t[Ku]=!0,Yu("selectionchange",!1,t))}}function Ju(e,t,n,r){switch(Mh(t)){case 2:var i=yh;break;case 8:i=bh;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qu(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==l;){if(null===(s=$e(l)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=o=s;continue e}l=l.parentNode}}r=r.return}Ft(function(){var r=o,i=kt(n),s=[];e:{var l=_r.get(e);if(void 0!==l){var c=en,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case mr:case gr:c=ln;break;case xr:c=bn;break;case"scroll":case"scrollend":c=nn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=_n}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(ed(m,g,p)),h)break;m=m.return}0<d.length&&(l=new c(l,u,null,n,i),s.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Nt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[Be])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=a(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?l:Ke(c),p=null==u?l:Ke(u),(l=new d(g,m+"leave",c,n,i)).target=h,l.relatedTarget=p,g=null,$e(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=nd,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&rd(s,l,c,d,!1),null!==u&&null!==h&&rd(s,h,u,d,!0)}if("select"===(c=(l=r?Ke(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=jn;else if(Ln(l))if(zn)y=Yn;else{y=Xn;var b=qn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Tt(r.elementType)&&(y=jn):y=$n;switch(y&&(y=y(e,r))?In(s,y,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&yt(l,"number",l.value)),b=r?Ke(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(ir=b,ar=r,or=null);break;case"focusout":or=ar=ir=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,lr(s,n,i);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":lr(s,n,i)}var x;if(Sn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Nn?Pn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Tn&&"ko"!==n.locale&&(Nn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Nn&&(x=Gt()):(Ht="value"in(Vt=i)?Vt.value:Vt.textContent,Nn=!0)),0<(b=td(r,_)).length&&(_=new un(_,e,null,n,i),s.push({event:_,listeners:b}),(x||null!==(x=Rn(n)))&&(_.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Cn=!0,An);case"textInput":return(e=t.data)===An&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Nn)return"compositionend"===e||!Sn&&Pn(e,t)?(e=Gt(),Wt=Ht=Vt=null,Nn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(_=td(r,"onBeforeInput")).length&&(b=new un("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:_}),b.data=x),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Bu((i[ze]||null).action),o=r.submitter;o&&null!==(t=(t=o[ze]||null)?Bu(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new en("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=o?Vu(i,o):new FormData(i);Qo(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"==typeof a&&(s.preventDefault(),e=o?Vu(i,o):new FormData(i),Qo(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Xu(s,t)})}function ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function td(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ut(e,n))&&r.unshift(ed(e,i,a)),null!=(i=Ut(e,t))&&r.push(ed(e,i,a))),3===e.tag)return r;e=e.return}return[]}function nd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function rd(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ut(n,a))&&o.unshift(ed(n,c,l)):i||null!=(c=Ut(n,a))&&o.push(ed(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var id=/\r\n?/g,ad=/\u0000|\uFFFD/g;function od(e){return("string"==typeof e?e:""+e).replace(id,"\n").replace(ad,"")}function sd(e,t){return t=od(t),od(e)===t}function ld(e,t,n,i,a,o){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||wt(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&wt(e,""+i);break;case"className":st(e,"class",i);break;case"tabIndex":st(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,i);break;case"style":Et(e,i,o);break;case"data":if("object"!==t){st(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ld(e,t,"name",a.name,a,null),ld(e,t,"formEncType",a.formEncType,a,null),ld(e,t,"formMethod",a.formMethod,a,null),ld(e,t,"formTarget",a.formTarget,a,null)):(ld(e,t,"encType",a.encType,a,null),ld(e,t,"method",a.method,a,null),ld(e,t,"target",a.target,a,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Pt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Rt);break;case"onScroll":null!=i&&$u("scroll",e);break;case"onScrollEnd":null!=i&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Pt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":$u("beforetoggle",e),$u("toggle",e),ot(e,"popover",i);break;case"xlinkActuate":lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":lt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":lt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":lt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":lt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ot(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=At.get(n)||n,i)}}function cd(e,t,n,i,a,o){switch(n){case"style":Et(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=a.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?wt(e,i):("number"==typeof i||"bigint"==typeof i)&&wt(e,""+i);break;case"onScroll":null!=i&&$u("scroll",e);break;case"onScrollEnd":null!=i&&$u("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:et.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"==typeof(o=null!=(o=e[ze]||null)?o[n]:null)&&e.removeEventListener(t,o,a),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ot(e,n,i):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,a)))}}function ud(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var i,a=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ld(e,t,i,s,n,null)}}return o&&ld(e,t,"srcSet",n.srcSet,n,null),void(a&&ld(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=i=s=o=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":o=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ld(e,t,a,d,n,null)}}return void vt(e,i,l,c,u,s,o,!1);case"select":for(o in $u("invalid",e),a=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:ld(e,t,o,l,n,null)}return t=i,n=s,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=n&&bt(e,!!a,n,!0));case"textarea":for(s in $u("invalid",e),i=o=a=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":a=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ld(e,t,s,l,n,null)}return void _t(e,a,o,i);case"option":for(c in n)n.hasOwnProperty(c)&&null!=(a=n[c])&&("selected"===c?e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a:ld(e,t,c,a,n,null));return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(a=0;a<Gu.length;a++)$u(Gu[a],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ld(e,t,u,a,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(a=n[d])&&cd(e,t,d,a,n,void 0);return}}for(l in n)n.hasOwnProperty(l)&&null!=(a=n[l])&&ld(e,t,l,a,n,null)}function dd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var hd=null,fd=null;function pd(e){return 9===e.nodeType?e:e.ownerDocument}function md(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function vd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yd=null,bd="function"==typeof setTimeout?setTimeout:void 0,xd="function"==typeof clearTimeout?clearTimeout:void 0,_d="function"==typeof Promise?Promise:void 0,wd="function"==typeof queueMicrotask?queueMicrotask:void 0!==_d?function(e){return _d.resolve(null).then(e).catch(Sd)}:bd;function Sd(e){setTimeout(function(){throw e})}function Md(e){return"head"===e}function Ed(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Vh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Dd(e.ownerDocument.documentElement);else if("head"===n){Dd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}else"body"===n&&Dd(e.ownerDocument.body);n=i}while(n);Vh(t)}function Td(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Cd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Nd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Nd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var kd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Nd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Id(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Od(e,t,n){switch(t=pd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Dd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var Fd=new Map,Ud=new Set;function jd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var zd=L.d;L.d={f:function(){var e=zd.f(),t=Zc();return e||t},r:function(e){var t=Ye(e);null!==t&&5===t.tag&&"form"===t.type?ts(t):zd.r(e)},D:function(e){zd.D(e),Vd("dns-prefetch",e,null)},C:function(e,t){zd.C(e,t),Vd("preconnect",e,t)},L:function(e,t,n){zd.L(e,t,n);var r=Bd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Wd(e);break;case"script":a=Xd(e)}Fd.has(a)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Gd(a))||"script"===t&&r.querySelector($d(a))||(ud(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){zd.m(e,t);var n=Bd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xd(e)}if(!Fd.has(a)&&(e=u({rel:"modulepreload",href:e},t),Fd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(a)))return}ud(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){zd.X(e,t);var n=Bd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=u({src:e,async:!0},t),(t=Fd.get(i))&&Jd(e,t),Je(a=n.createElement("script")),ud(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){zd.S(e,t,n);var r=Bd;if(r&&e){var i=Ze(r).hoistableStyles,a=Wd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gd(a)))s.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(a))&&Zd(e,n);var l=o=r.createElement("link");Je(l),ud(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Kd(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){zd.M(e,t);var n=Bd;if(n&&e){var r=Ze(n).hoistableScripts,i=Xd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=u({src:e,async:!0,type:"module"},t),(t=Fd.get(i))&&Jd(e,t),Je(a=n.createElement("script")),ud(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Bd="undefined"==typeof document?null:document;function Vd(e,t,n){var r=Bd;if(r&&"string"==typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),Ud.has(i)||(Ud.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ud(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function Hd(e,t,n,i){var a,o,s,l,c=(c=W.current)?jd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Wd(n.href),(i=(n=Ze(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Wd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Gd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(a=c,o=e,s=n,l=d.state,a.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=a.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ud(o,"link",s),Je(o),a.head.appendChild(o))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(i=(n=Ze(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wd(e){return'href="'+mt(e)+'"'}function Gd(e){return'link[rel="stylesheet"]['+e+"]"}function qd(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+mt(e)+'"]'}function $d(e){return"script[async]"+e}function Yd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(i)return t.instance=i,Je(i),i;var a=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(i=(e.ownerDocument||e).createElement("style")),ud(i,"style",a),Kd(i,n.precedence,e),t.instance=i;case"stylesheet":a=Wd(n.href);var o=e.querySelector(Gd(a));if(o)return t.state.loading|=4,t.instance=o,Je(o),o;i=qd(n),(a=Fd.get(a))&&Zd(i,a),Je(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ud(o,"link",i),t.state.loading|=4,Kd(o,n.precedence,e),t.instance=o;case"script":return o=Xd(n.src),(a=e.querySelector($d(o)))?(t.instance=a,Je(a),a):(i=n,(a=Fd.get(o))&&Jd(i=u({},n),a),Je(a=(e=e.ownerDocument||e).createElement("script")),ud(a,"link",i),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Kd(i,n.precedence,e));return t.instance}function Kd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Qd=null;function eh(e,t,n){if(null===Qd){var r=new Map,i=Qd=new Map;i.set(n,r)}else(r=(i=Qd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[qe]||a[je]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function th(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function nh(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var rh=0;function ih(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)oh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ah=null;function oh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ah=new Map,t.forEach(sh,e),ah=null,ih.call(e))}function sh(e,t){if(!(4&t.state.loading)){var n=ah.get(e);if(n)var r=n.get(null);else{n=new Map,ah.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=ih.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var lh={$$typeof:y,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function ch(e,t,n,r,i,a,o,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function uh(e,t,n,r,i,a,o,s,l,c,u,d){return e=new ch(e,t,n,o,l,c,u,d,s),t=1,!0===a&&(t|=24),a=Dr(3,null,null,t),e.current=a,a.stateNode=e,(t=Fi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},pa(a),e}function dh(e){return e?e=Ir:Ir}function hh(e,t,n,r,i,a){i=dh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ga(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=va(e,r,t))&&(qc(n,0,t),ya(n,e,t))}function fh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ph(e,t){fh(e,t),(e=e.alternate)&&fh(e,t)}function mh(e){if(13===e.tag||31===e.tag){var t=Nr(e,67108864);null!==t&&qc(t,0,67108864),ph(e,67108864)}}function gh(e){if(13===e.tag||31===e.tag){var t=Wc(),n=Nr(e,t=Ie(t));null!==n&&qc(n,0,t),ph(e,t)}}var vh=!0;function yh(e,t,n,r){var i=k.T;k.T=null;var a=L.p;try{L.p=2,xh(e,t,n,r)}finally{L.p=a,k.T=i}}function bh(e,t,n,r){var i=k.T;k.T=null;var a=L.p;try{L.p=8,xh(e,t,n,r)}finally{L.p=a,k.T=i}}function xh(e,t,n,r){if(vh){var i=_h(r);if(null===i)Qu(e,t,r,wh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Th=Ih(Th,e,t,n,r,i),!0;case"dragenter":return Ah=Ih(Ah,e,t,n,r,i),!0;case"mouseover":return Ch=Ih(Ch,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ph.set(a,Ih(Ph.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rh.set(a,Ih(Rh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<kh.indexOf(e)){for(;null!==i;){var a=Ye(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=Me(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-ye(o);s.entanglements[1]|=l,o&=~l}Lu(a),!(6&dc)&&(kc=oe()+500,Iu(0))}}break;case 31:case 13:null!==(s=Nr(a,2))&&qc(s,0,2),Zc(),ph(a,2)}if(null===(a=_h(r))&&Qu(e,t,r,wh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Qu(e,t,r,null,n)}}function _h(e){return Sh(e=kt(e))}var wh=null;function Sh(e){if(wh=null,null!==(e=$e(e))){var t=a(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(31===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return wh=e,null}function Mh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case le:return 2;case ce:return 8;case ue:case de:return 32;case he:return 268435456;default:return 32}default:return 32}}var Eh=!1,Th=null,Ah=null,Ch=null,Ph=new Map,Rh=new Map,Nh=[],kh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Ih(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&null!==(t=Ye(t))&&mh(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Oh(e){var t=$e(e.target);if(null!==t){var n=a(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void Fe(e.priority,function(){gh(n)})}else if(31===t){if(null!==(t=s(n)))return e.blockedOn=t,void Fe(e.priority,function(){gh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=_h(e.nativeEvent);if(null!==n)return null!==(t=Ye(n))&&mh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Nt=r,n.target.dispatchEvent(r),Nt=null,t.shift()}return!0}function Fh(e,t,n){Dh(e)&&n.delete(t)}function Uh(){Eh=!1,null!==Th&&Dh(Th)&&(Th=null),null!==Ah&&Dh(Ah)&&(Ah=null),null!==Ch&&Dh(Ch)&&(Ch=null),Ph.forEach(Fh),Rh.forEach(Fh)}function jh(t,n){t.blockedOn===n&&(t.blockedOn=null,Eh||(Eh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uh)))}var zh=null;function Bh(t){zh!==t&&(zh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zh===t&&(zh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Sh(r||n))continue;break}var a=Ye(n);null!==a&&(t.splice(e,3),e-=3,Qo(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vh(e){function t(t){return jh(t,e)}null!==Th&&jh(Th,e),null!==Ah&&jh(Ah,e),null!==Ch&&jh(Ch,e),Ph.forEach(t),Rh.forEach(t);for(var n=0;n<Nh.length;n++){var r=Nh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Nh.length&&null===(n=Nh[0]).blockedOn;)Oh(n),null===n.blockedOn&&Nh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[ze]||null;if("function"==typeof a)o||Bh(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[ze]||null)s=o.formAction;else if(null!==Sh(i))continue}else s=o.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Bh(n)}}}function Hh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Wh(e){this._internalRoot=e}function Gh(e){this._internalRoot=e}Gh.prototype.render=Wh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));hh(t.current,Wc(),e,t,null,null)},Gh.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hh(e.current,2,null,e,null,null),Zc(),t[Be]=null}},Gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=De();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nh.length&&0!==t&&t<Nh[n].priority;n++);Nh.splice(n,0,e),0===n&&Oh(e)}};var qh=t.version;if("19.2.3"!==qh)throw Error(r(527,qh,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(i=o.return)){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return l(o),e;if(s===i)return l(o),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=s;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,i=s;break}if(u===i){c=!0,i=o,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,i=o;break}if(u===i){c=!0,i=s,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{me=$h.inject(Xh),ge=$h}catch(KH){}}return rH.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,a="",o=ws,s=Ss,l=Ms;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=uh(e,1,!1,null,0,n,a,null,o,s,l,Hh),e[Be]=t.current,Zu(e),new Wh(t)},rH.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var a=!1,o="",s=ws,l=Ss,c=Ms,u=null;return null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=uh(e,1,!0,t,0,a,o,u,s,l,c,Hh)).context=dh(null),n=t.current,(o=ga(a=Ie(a=Wc()))).callback=null,va(n,o,a),n=a,t.current.lanes=n,Re(t,n),Lu(t),e[Be]=t.current,Zu(e),new Gh(t)},rH.version="19.2.3",rH}var aH=(tH||(tH=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(KH){}}(),nH.exports=iH()),nH.exports);const oH=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function sH(e,t){const n=function(e=e=>e,t){return $B()(e,t)}(e=>e.gl),r=ZB(dD,oH(e)?Object.values(e):e);return T.useLayoutEffect(()=>{null==t||t(r)},[t]),T.useEffect(()=>{if("initTexture"in n){let e=[];Array.isArray(r)?e=r:r instanceof NP?e=[r]:oH(r)&&(e=Object.values(r)),e.forEach(e=>{e instanceof NP&&n.initTexture(e)})}},[n,r]),T.useMemo(()=>{if(oH(e)){const t={};let n=0;for(const i in e)t[i]=r[n++];return t}return r},[e,r])}sH.preload=e=>ZB.preload(dD,e),sH.clear=e=>ZB.clear(dD,e);const lH=ll(hx);function cH(){const e=rx().props.album,t=T.useRef(null),n=T.useRef({x:0,y:0}),[r,i]=T.useState(null),[a,o]=T.useState(1),[s,l]=T.useState({url:null,visible:!1}),c=dl(Dl,[600,1600],[60,-40]);T.useEffect(()=>{const e=e=>{bx.get()&&(n.current={x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),T.useEffect(()=>{const e=()=>{if(!t.current)return;const e=t.current.offsetWidth;o(e<=375?.6:e<=768?.7:1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const d=T.useRef(e.map((t,n)=>({...t,radius:180+n%2*70,angle:cl(n/e.length*Math.PI*2),x:cl(0),y:cl(0),z:cl(0),speed:.0012*(1+n%2*.25)})));return pl(()=>{if(!t.current)return;const e=t.current.getBoundingClientRect();let o=null,s=1/0;const c=96*a/2+5;d.current.forEach(t=>{const r=(t.angle.get()+t.speed)%(2*Math.PI);t.angle.set(r);const i=t.radius*a,l=i*Math.cos(r),u=i*Math.sin(r);t.x.set(l),t.y.set(u),t.z.set(Math.sin(r)*i*.3);const d=e.left+e.width/2+l,h=e.top+e.height/2+u,f=n.current.x-d,p=n.current.y-h,m=Math.hypot(f,p);m<c&&m<s&&(s=m,o=t)}),o!==r&&(i(o),l(o?{url:o.cover_url,visible:!0}:e=>({...e,visible:!1})))}),u.jsxs(ll.section,{ref:t,style:{y:c},className:"\n        relative z-30\n        w-full min-h-screen\n        flex items-center justify-center\n\n        perspective-distant\n        mb-20\n    ",children:[u.jsx(Bo,{children:s.url&&u.jsx(ll.div,{className:"absolute inset-0 z-0 bg-cover bg-center filter-gpu min-h-dvh",style:{backgroundImage:`url(${s.url})`},initial:{clipPath:"circle(0% at 50% 50%)",filter:"brightness(0.2) blur(12px)"},animate:{clipPath:s.visible?"circle(150% at 50% 50%)":"circle(0% at 50% 50%)",filter:s.visible?"brightness(0.35) blur(0px)":"brightness(0.2) blur(12px)"},exit:{clipPath:"circle(0% at 50% 50%)",filter:"brightness(0.2) blur(12px)"},transition:{duration:.85,ease:[.22,1,.36,1]}},s.url)}),u.jsx("svg",{className:"absolute inset-0 w-full h-full z-10 pointer-events-none",children:Array.from({length:2}).map((e,t)=>u.jsx("circle",{cx:"50%",cy:"50%",r:(180+70*t)*a,stroke:"rgba(255,255,255,0.18)",strokeWidth:"1",fill:"none"},t))}),u.jsxs("div",{className:"absolute z-20 flex flex-col items-center text-center",children:[u.jsx("h2",{className:"tracking-[0.35em] text-sm",children:"BROWSE MUSIC"}),u.jsx(nT,{href:"/music",text:"Explore",ariaLabel:"Explore music albums and singles"})]}),u.jsx("div",{className:"relative w-full h-full z-20",children:d.current.map((e,t)=>u.jsx(uH,{item:e,isActive:r===e},t))})]})}function uH({item:e,isActive:t}){const n=T.useRef(null),[r,i]=T.useState(!1),[a,o]=T.useState({x:0,y:0}),[s,l]=T.useState({rotateX:0,rotateY:0});return u.jsx(lH,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none",style:{x:e.x,y:e.y,z:e.z},href:`/albums/${e.slug}`,children:u.jsxs("div",{className:"relative w-10.5 sm:w-14 md:w-20 lg:w-24 aspect-square rounded-full cursor-pointer",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onMouseMove:e=>{const t=n.current.getBoundingClientRect(),r=e.clientX-t.left,i=e.clientY-t.top;o({x:r,y:i});const a=t.width/2,s=t.height/2;l({rotateY:(r-a)/a*15,rotateX:(s-i)/s*15})},children:[u.jsx(ll.img,{ref:n,src:e.cover_url,alt:e.title,className:"rounded-full object-cover border border-white/40",style:{transform:`rotateX(${s.rotateX}deg) rotateY(${s.rotateY}deg)`,transition:"transform 0.08s ease-out",boxShadow:"rgba(255,255,255,0.25) 0 10px 30px, rgba(0,0,0,0.35) 0 20px 60px"}}),r&&u.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:`radial-gradient(circle at ${a.x}px ${a.y}px, rgba(255,255,255,0.35), transparent 60%)`,mixBlendMode:"screen"}}),u.jsx(Bo,{children:r&&t&&u.jsxs(ll.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},style:{left:a.x,top:a.y},className:"\n                            flex items-center\n                                pointer-events-none\n                                absolute z-20\n                                -translate-x-1/2 -translate-y-[120%]\n                                text-xs tracking-wide text-black\n                                bg-white/90 backdrop-blur\n                                px-3 py-1 rounded-full\n                                shadow-[0_0_20px_rgba(255,105,180,0.6)]\n                                whitespace-nowrap gap-1\n                            ",children:[e.title,u.jsx(Hx,{})]})})]})})}const dH=Object.freeze(Object.defineProperty({__proto__:null,default:cH},Symbol.toStringTag,{value:"Module"})),hH=ur(window.innerWidth/2),fH=ur(window.innerHeight/2);function pH(){const e=T.useRef(),t=sH("/images/mars.jpg"),n=T.useRef({x:0,y:0}),r=T.useRef({x:0,y:0});return T.useEffect(()=>{t.colorSpace=MC,t.anisotropy=4},[t]),T.useEffect(()=>{const e=(e,t)=>{const r=window.innerWidth/2,i=window.innerHeight/2;n.current.x=(e-r)/r,n.current.y=(t-i)/i},t=t=>e(t.clientX,t.clientY),r=t=>{t.touches?.[0]&&e(t.touches[0].clientX,t.touches[0].clientY)};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",r,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",r)}},[]),function(e,t=0){const n=$B(),r=n.getState().internal.subscribe,i=_B(e);xB(()=>r(i,t,n),[t,r,n])}((t,i)=>{const a=r.current;a.x+=(n.current.x-a.x)*(1-Math.pow(6e-4,i)),a.y+=(n.current.y-a.y)*(1-Math.pow(6e-4,i)),e.current&&(e.current.rotation.y=.35*a.x+.1*t.clock.elapsedTime,e.current.rotation.x=.18*a.y)}),u.jsxs("group",{ref:e,children:[u.jsxs("mesh",{scale:1.08,children:[u.jsx("sphereGeometry",{args:[1,48,48]}),u.jsx("meshBasicMaterial",{transparent:!0,opacity:.05,depthWrite:!1,blending:2,side:1,color:"#ffd1b3"})]}),u.jsxs("mesh",{children:[u.jsx("sphereGeometry",{args:[1,64,64]}),u.jsx("meshStandardMaterial",{map:t,roughness:.75,metalness:.02,envMapIntensity:.35})]}),u.jsxs("mesh",{scale:1.002,children:[u.jsx("sphereGeometry",{args:[1,64,64]}),u.jsx("meshLambertMaterial",{transparent:!0,opacity:.22,color:"#000000"})]})]})}function mH(){return u.jsxs("mesh",{children:[u.jsx("sphereGeometry",{args:[1,64,64]}),u.jsx("meshBasicMaterial",{color:"#3a2a22"})]})}function gH(){return u.jsx("div",{className:"absolute inset-0 pointer-events-none",children:u.jsxs(QV,{dpr:[1,1.35],camera:{position:[0,0,2.65],fov:45},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[u.jsx("ambientLight",{intensity:.08}),u.jsx("directionalLight",{position:[3.2,1.4,2.2],intensity:3.2}),u.jsx("directionalLight",{position:[-2.8,-1.4,.6],intensity:.18}),u.jsx(T.Suspense,{fallback:u.jsx(mH,{}),children:u.jsx(pH,{})})]})})}function vH(){const e=T.useMemo(()=>`data:image/svg+xml,${encodeURIComponent('\n          <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180">\n            <filter id="n">\n              <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" stitchTiles="stitch"/>\n              <feColorMatrix type="saturate" values="0"/>\n            </filter>\n            <rect width="180" height="180" filter="url(#n)" opacity="0.40"/>\n          </svg>\n        ')}`,[]);return u.jsx("div",{className:"\n        absolute left-1/2 top-1/2\n        -translate-x-1/2 -translate-y-1/2\n        perspective-distant\n        z-20\n      ",children:u.jsxs(ll.div,{className:"\n    relative\n    w-65 h-65\n    sm:w-80 sm:h-80\n    lg:w-95 lg:h-95\n    rounded-full\n    transform-gpu\n    will-change-transform\n  ",children:[u.jsx("div",{className:"pointer-events-none absolute -inset-10 rounded-full blur-3xl opacity-60 bg-[rgba(174,31,42,0.1)]"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-full",style:{boxShadow:"0 0 0 1px rgba(255,255,255,0.02), 0 0 30px rgba(255,255,255,0.08), 0 0 120px rgba(174,31,42,0.1)"}}),u.jsxs("div",{className:"relative h-full w-full rounded-full overflow-hidden",children:[u.jsx(gH,{}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-black/10"}),u.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.10] mix-blend-overlay",style:{backgroundImage:`url("${e}")`}}),u.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center",children:[u.jsx("h2",{className:"tracking-[0.35em] text-xs sm:text-sm text-white/90 mix-blend-difference",children:"DISCOVER THE ARCHIVE"}),u.jsx(nT,{href:"/archive",text:"Explore"})]})]})]})})}function yH({img:e,index:t=0,phase:n,title:r}){const i=T.useRef({fromLeft:t%2==0,verticalFactor:[.25,.5,.75][t%3],offset:.12*t}),a=T.useRef({x:0,y:0}),o=T.useRef(0),s=T.useRef(0);T.useEffect(()=>{const e=hH.get(),t=fH.get(),n=window.innerWidth,r=window.innerHeight;a.current.x=i.current.fromLeft?e-(n/2+140):e+(n/2+140),a.current.y=i.current.verticalFactor*r,o.current=Math.atan2(t-a.current.y,e-a.current.x),s.current=Math.hypot(e-a.current.x,t-a.current.y)},[]);const l=dl(n,e=>1-(e+i.current.offset)%1),c=dl(l,e=>a.current.x+Math.cos(o.current)*s.current*(1-e)),d=dl(l,e=>a.current.y+Math.sin(o.current)*s.current*(1-e)),h=dl(l,[1,0],[1.1,.12]),f=dl(l,[.2,0],[1,0]);return u.jsx(ll.div,{"aria-hidden":"true",style:{x:c,y:d,scale:h,opacity:f,backgroundImage:`url(${e})`},className:"\n    absolute\n    w-16 h-16\n    sm:w-20 sm:h-20\n    md:w-28 md:h-28\n    bg-contain bg-no-repeat \n    pointer-events-none\n    select-none\n  "})}function bH(){const e=rx().props.visual,t=DE(0,800,0,-60),n=T.useMemo(()=>e.slice(0,40),[e]),r=cl(0),i=T.useRef(null),a=Ol(i,{margin:"-20%"});return T.useEffect(()=>{if(!a)return;const e=Ll(r,1,{duration:12,ease:"linear",repeat:1/0});return()=>e.stop()},[a]),u.jsx(ll.section,{ref:i,style:{y:t},className:"relative min-h-screen w-full isolate z-10 flex items-center justify-center",children:u.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0",style:{WebkitMaskImage:"radial-gradient(circle at center, black 55%, transparent 100%)",maskImage:"radial-gradient(circle at center, black 55%, transparent 100%)"},children:n.map((e,t)=>u.jsx(yH,{img:e.thumbnail_path,index:t,phase:r,title:e.title},e.id??t))}),u.jsx(vH,{})]})})}sH.preload("/images/mars.jpg");const xH=Object.freeze(Object.defineProperty({__proto__:null,default:bH},Symbol.toStringTag,{value:"Module"}));function _H({onClose:e}){return u.jsxs(ll.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[u.jsx("div",{className:"absolute inset-0 bg-black/85 backdrop-blur-lg",onClick:e}),u.jsx(ll.div,{className:"\n          relative mx-auto mt-[8vh]\n          w-[85vw] max-w-5xl\n        ",initial:{scale:.92,y:60},animate:{scale:1,y:0},exit:{scale:.95,opacity:0},transition:{ease:"easeOut",duration:.4},children:u.jsx(wH,{onClose:e})})]})}function wH({onClose:e}){return u.jsxs("div",{className:"\n      relative rounded-3xl overflow-hidden\n      bg-neutral-900 shadow-2xl\n    ",children:[u.jsxs("div",{className:"\n        flex items-center justify-between\n        px-6 py-4 border-b border-white/10\n      ",children:[u.jsx("span",{className:"text-xs tracking-widest uppercase opacity-50",children:"Archive / Visual"}),u.jsx("button",{onClick:e,className:"text-xs tracking-widest opacity-60 hover:opacity-100",children:"Close"})]}),u.jsx("div",{className:"\n        relative aspect-video bg-neutral-800\n        flex items-center justify-center\n      ",children:u.jsxs("div",{className:"text-center",children:[u.jsx("span",{className:"block text-xs tracking-[0.3em] uppercase opacity-50",children:"Playback Disabled"}),u.jsx("span",{className:"block mt-2 text-sm opacity-30",children:"Visual locked in archive state"})]})}),u.jsxs("div",{className:"p-8 space-y-4",children:[u.jsx("h3",{className:"text-xl font-medium",children:"Visual Archive #01"}),u.jsx("p",{className:"text-sm opacity-60 max-w-xl",children:"This artifact contains a fragment of motion preserved before playback. Access is intentionally delayed to maintain narrative context."})]}),u.jsxs("div",{className:"\n        flex items-center justify-between\n        px-8 pb-8\n      ",children:[u.jsx("span",{className:"text-xs uppercase opacity-40",children:"Duration  Unknown"}),u.jsx("a",{href:"/videos/visual-archive-01",className:"\n            text-xs tracking-widest uppercase\n            opacity-70 hover:opacity-100\n          ",children:"Enter Full Page "})]})]})}const SH=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[e,t]=T.useState(!1);return u.jsxs("section",{className:"relative py-32",children:[u.jsx("div",{className:"max-w-5xl mx-auto px-6",children:u.jsxs(ll.div,{onClick:()=>t(!0),whileHover:{scale:1.02},whileTap:{scale:.98},className:"\n            relative aspect-video cursor-pointer overflow-hidden\n            rounded-2xl bg-neutral-900\n          ",children:[u.jsx("img",{src:"/images/discover/1.jpeg",alt:"Visual Archive",className:"absolute inset-0 w-full h-full object-cover opacity-80"}),u.jsx("div",{className:"absolute inset-0 bg-black/40"}),u.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-xs tracking-[0.3em] uppercase opacity-70",children:"Visual Artifact"}),u.jsx("span",{className:"mt-2 text-sm opacity-50",children:"Click to Open"})]})]})}),u.jsx(Bo,{children:e&&u.jsx(_H,{onClose:()=>t(!1)})})]})}},Symbol.toStringTag,{value:"Module"}));function MH(){const e=rx().props.latest_news;return u.jsxs("section",{className:"relative pt-20 z-20 overflow-hidden",children:[u.jsxs("div",{className:"\n          max-w-7xl mx-auto px-6 mb-10\n          flex flex-col gap-6\n          md:flex-row md:items-end md:justify-between\n        ",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"tracking-[0.35em] text-xs sm:text-sm",children:"LATEST NEWS"}),u.jsx("p",{className:"mt-2 text-xs opacity-40",children:"Current updates & editorial highlights"})]}),u.jsx(nT,{href:"/latest",text:"View All",ariaLabel:"View all latest news"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3",children:e.map((e,t)=>u.jsx(EH,{data:e,index:t},e.id))})]})}function EH({data:e,index:t}){const n=T.useRef(null),[r,i]=T.useState(!1);return T.useEffect(()=>{if(!n.current)return;const e=new IntersectionObserver(([t])=>{t.isIntersecting&&(i(!0),e.disconnect())},{threshold:.25,rootMargin:"0px 0px -10% 0px"});return e.observe(n.current),()=>e.disconnect()},[]),u.jsx(ll.div,{ref:n,initial:{opacity:0,y:32},animate:r?{opacity:1,y:0}:{opacity:0,y:32},transition:{delay:.08*t,duration:.6,ease:[.22,1,.36,1]},style:{willChange:"transform, opacity",transform:"translateZ(0)"},className:"\n        group block\n        relative\n        h-[70vh]\n        md:h-[80vh]\n        overflow-hidden\n      ",children:u.jsxs(hx,{href:`/latest/${e.slug}`,className:"absolute inset-0 block",children:[u.jsx(FE,{src:e.image,alt:e.title,className:"\n            absolute inset-0\n            w-full h-full object-cover\n            transition-transform duration-700\n            group-hover:scale-105\n          "}),u.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black via-black/50 to-transparent"}),u.jsxs("div",{className:"\n            absolute inset-0\n            flex flex-col justify-end\n            p-8 md:p-10\n          ",children:[u.jsx("span",{className:"text-xs tracking-widest uppercase opacity-60",children:e.category}),u.jsx("div",{className:"mt-3 min-h-14 md:min-h-18",children:u.jsx("h3",{className:"text-base md:text-lg leading-snug max-w-md",children:e.title})}),u.jsx("div",{className:"mt-4 w-10 h-px bg-white/30"})]})]})})}const TH=Object.freeze(Object.defineProperty({__proto__:null,default:MH},Symbol.toStringTag,{value:"Module"})),AH=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{seo:e}=rx().props;return DE(0,800,0,-60),u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:e}),u.jsxs(qx,{children:[u.jsx(QE,{}),u.jsx(rT,{}),u.jsx(cH,{}),u.jsx(bH,{}),u.jsx(MH,{})]})]})}},Symbol.toStringTag,{value:"Module"}));function CH({title:e,image:t,tag:n,slug:r}){const{ref:i,progress:a}=function(){const e=T.useRef(null),[t,n]=T.useState(0);return T.useEffect(()=>{const t=e.current;if(!t)return;const r=()=>{const e=t.getBoundingClientRect(),r=window.innerHeight,i=-e.height,a=1-(e.top-i)/(r-i);n(Math.min(1,Math.max(0,a)))};return window.addEventListener("scroll",r),r(),()=>window.removeEventListener("scroll",r)},[]),{ref:e,progress:t}}(),o=1.4-.4*a,s=a,l=80-80*a;return u.jsx("section",{ref:i,className:"relative h-[160vh] w-full bg-black",children:u.jsxs("div",{className:"sticky top-0 h-screen overflow-hidden",children:[u.jsx(hx,{href:`/latest/${r}`,className:"absolute inset-0 z-20","aria-label":e}),u.jsx("div",{className:"absolute inset-0",style:{transform:`scale(${o})`,backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"}}),u.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black via-black/50 to-transparent"}),u.jsxs("div",{className:"relative z-10 h-full flex flex-col items-center justify-center text-center px-8 pointer-events-none",style:{opacity:s,transform:`translateY(${l}px)`},children:[u.jsx("span",{className:"mb-4 text-xs tracking-[0.5em] text-stone-400 uppercase",children:n}),u.jsx("h2",{className:"max-w-5xl text-4xl md:text-6xl font-light tracking-wide",children:e})]})]})})}const PH=Object.freeze(Object.defineProperty({__proto__:null,default:CH},Symbol.toStringTag,{value:"Module"})),RH=Object.freeze(Object.defineProperty({__proto__:null,default:function({data:e,seo:t}){return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsxs("section",{className:"relative py-28 md:py-40 bg-black text-center",children:[u.jsx("span",{className:"block mb-3 text-[10px] tracking-[0.45em] text-stone-500",children:"LATEST NEWS"}),u.jsx("h1",{className:"text-3xl md:text-4xl mb-8",style:{fontFamily:"Nickson"},children:"KEEP UP TO DATE WITH THE LATEST NEWS AND RELEASES"})]}),e.map(e=>u.jsx(CH,{title:e.title,image:e.image,tag:e.category,slug:e.slug},e.id))]})]})}},Symbol.toStringTag,{value:"Module"}));function NH({data:e}){return u.jsxs("aside",{className:"md:col-span-4 md:sticky md:top-32 self-start",children:[u.jsx("span",{className:"text-xs tracking-[0.3em] uppercase opacity-50",children:e.category}),u.jsx("h1",{className:"mt-5 text-2xl md:text-3xl font-medium leading-tight",children:e.title}),u.jsx("time",{className:"block mt-8 text-xs opacity-40",children:e.date})]})}function kH({data:e}){const t=!!e.origin_content_url;return u.jsxs("article",{className:"md:col-span-8",children:[u.jsx("div",{className:"mb-24",children:u.jsx("img",{src:e.image,alt:e.title,className:"w-full max-w-xl ml-auto object-cover"})}),u.jsxs("div",{className:"max-w-xl ml-auto",children:[t?u.jsxs("div",{className:"space-y-10",children:[u.jsx("div",{className:"text-lg md:text-xl leading-relaxed opacity-90 italic font-serif",dangerouslySetInnerHTML:{__html:e.content}}),u.jsxs("div",{className:"pt-10 border-t border-white/10",children:[u.jsx("p",{className:"text-xs tracking-widest uppercase opacity-40 mb-6",children:"Full article available at:"}),u.jsxs("a",{href:e.origin_content_url,target:"_blank",rel:"noopener noreferrer",className:"group inline-flex flex-col gap-2",children:[u.jsx("span",{className:"text-2xl font-medium group-hover:text-red-500 transition-colors duration-300",children:new URL(e.origin_content_url).hostname}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[10px] tracking-[0.3em] uppercase opacity-50 group-hover:opacity-100 transition-opacity",children:"Read Full Story"}),u.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",className:"opacity-50 group-hover:opacity-100 transition-all translate-y-0 group-hover:-translate-y-1 group-hover:translate-x-1",children:u.jsx("path",{d:"M1.5 12.5L12.5 1.5M12.5 1.5H4.5M12.5 1.5V9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})]})]})]})]}):u.jsx("div",{className:"space-y-7 text-sm leading-relaxed opacity-80 prose prose-invert prose-sm",dangerouslySetInnerHTML:{__html:e.content}}),u.jsx("div",{className:"mt-24 text-[10px] tracking-wider opacity-30 leading-loose",children:t?"You are being redirected to an external website. Marsmolys is not responsible for the content of external sites.":"All rights reserved. Unauthorized reproduction is prohibited."})]})]})}const LH=Object.freeze(Object.defineProperty({__proto__:null,default:function({data:e,seo:t}){return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsx(TE,{href:"/latest",label:"LATEST",position:"right"}),u.jsx("section",{className:"relative",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-28 grid grid-cols-1 gap-20 md:grid-cols-12",children:[u.jsx(NH,{data:e}),u.jsx(kH,{data:e})]})})]})]})}},Symbol.toStringTag,{value:"Module"}));function IH({album:e,index:t,total:n,scrollY:r}){const[i,a]=T.useState(!1),[o,s]=T.useState(null),[l,c]=T.useState(!1),d=T.useRef(null),h=e.release_date?new Date(e.release_date).getFullYear():"";T.useEffect(()=>{c(!0)},[]);const f=[400*(t-1),400*t,400*(t+1)],p=dl(r,f,[0,-60,0]),m=dl(r,f,[.8,1.1,.8]),g=dl(r,f,[.5,1,.5]);return T.useEffect(()=>{window.lenis&&(i?(window.lenis.stop(),document.body.style.overflow="hidden"):(window.lenis.start(),document.body.style.overflow=""))},[i]),u.jsxs(u.Fragment,{children:[u.jsx(ll.div,{ref:d,className:"relative cursor-pointer shrink-0",style:{y:p,scale:m,opacity:g,zIndex:n-t},onClick:function(e){e.stopPropagation(),d.current&&s(d.current.getBoundingClientRect()),a(!0)},children:u.jsx("div",{className:"w-45 h-45 md:w-65 md:h-65 bg-cover bg-center rounded-xl shadow-2xl hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url(${e.cover_url})`}})}),l&&Tb.createPortal(u.jsx(Bo,{children:i&&o&&u.jsxs("div",{className:"fixed inset-0 z-99999 flex items-center justify-center",children:[u.jsx(ll.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:()=>a(!1)}),u.jsx(OH,{album:e,rackRect:o,year:h})]})}),document.body)]})}function OH({album:e,rackRect:t,year:n}){const r=window.innerWidth/2-(t.left+t.width/2),i=window.innerHeight/2-(t.top+t.height/2);return u.jsxs(ll.div,{className:"relative flex flex-col items-center p-4",initial:{scale:t.width/400,x:-r,y:-i},animate:{scale:1,x:0,y:0},exit:{scale:t.width/400,x:-r,y:-i,opacity:0},transition:{type:"spring",damping:30,stiffness:200},onClick:()=>fx.visit(`/albums/${e.slug}`),children:[u.jsx("div",{className:"w-[85vw] h-[85vw] max-w-100 max-h-100 bg-cover bg-center rounded-lg shadow-2xl cursor-pointer",style:{backgroundImage:`url(${e.cover_url})`}}),u.jsxs("div",{className:"text-center mt-8 text-white",children:[u.jsx("p",{className:"text-xs tracking-[0.5em] text-stone-500 mb-2 uppercase",children:n}),u.jsx("h2",{className:"text-3xl md:text-5xl font-bold",style:{fontFamily:"Nickson"},children:e.title}),u.jsx("p",{className:"mt-4 text-xs text-stone-400 italic",children:"Click image to explore tracks"})]})]})}const DH=Object.freeze(Object.defineProperty({__proto__:null,default:IH},Symbol.toStringTag,{value:"Module"}));function FH({albums:e}){const t=Dl,n=dl(t,[0,3e3],[0,-1500]);return u.jsxs("section",{className:"relative min-h-[350vh] md:min-h-[400vh] py-20 flex flex-col items-center justify-start gap-20 md:gap-32",children:[u.jsxs(ll.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1},className:"relative text-center px-6 w-full",children:[u.jsx("span",{className:"block text-xs tracking-[0.5em] text-stone-400 mb-6 uppercase",children:"ALBUMS"}),u.jsx("h1",{className:"text-3xl md:text-4xl mb-8 font-bold text-white",style:{fontFamily:"Nickson"},children:'"A collection of sonic journeys and psychedelic rock explorations."'})]}),u.jsx("div",{className:"sticky top-[30vh] w-full pt-20 overflow-x-hidden",children:u.jsx(ll.div,{className:"flex items-end gap-10 md:gap-16 px-5 md:px-[15vw] relative",style:{x:n},children:e.map((n,r)=>u.jsx(IH,{album:n,index:r,total:e.length,scrollY:t},n.slug))})})]})}const UH=Object.freeze(Object.defineProperty({__proto__:null,default:FH},Symbol.toStringTag,{value:"Module"})),jH=Object.freeze(Object.defineProperty({__proto__:null,default:function({albums:e,seo:t}){return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsx(FH,{albums:e})]})]})}},Symbol.toStringTag,{value:"Module"}));function zH({item:e,index:t}){const n="out"===e.stock,r=e.images||[],[i,a]=T.useState(0),[o,s]=T.useState(!1);return T.useEffect(()=>{if(!o||r.length<=1)return;a(1);let e=1;const t=setInterval(()=>{e=(e+1)%r.length,a(e)},1800);return()=>clearInterval(t)},[o,r]),T.useEffect(()=>{o&&r.length>1&&function(e=[]){e.forEach(e=>{(new Image).src=e})}(r.slice(1))},[o,r]),u.jsxs(ll.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Math.min(.05*t,.25)},className:`\n                group relative overflow-hidden rounded-3xl\n                border bg-white/2 shadow-[0_20px_60px_rgba(0,0,0,0.45)]\n                ${n?"border-red-400/20 opacity-50":"border-white/10"}\n            `,onMouseEnter:()=>{r.length>1&&s(!0)},onMouseLeave:()=>{r.length<=1||(s(!1),a(0))},children:[u.jsxs("div",{className:"relative aspect-16/11 overflow-hidden",children:[!o&&u.jsx(FE,{src:r[0],alt:e.title}),o&&u.jsx(Bo,{initial:!1,children:u.jsx(ll.img,{src:r[i],alt:e.title,loading:"eager",decoding:"async",draggable:!1,className:"absolute inset-0 h-full w-full object-cover",initial:{x:"100%",opacity:1},animate:{x:"0%",opacity:1},exit:{x:"-100%",opacity:1},transition:{duration:.9,ease:[.16,1,.3,1]}},r[i])}),u.jsx("div",{className:"pointer-events-none absolute inset-0 bg-linear-to-t from-black/80 via-black/25 to-black/10"}),u.jsx("div",{className:"absolute left-4 top-4",children:u.jsx("span",{className:"rounded-full border px-3 py-1 text-[11px] tracking-widest backdrop-blur-lg bg-black/30 "+(n?"border-red-400/40 text-red-400":"border-emerald-400/40 text-emerald-400"),children:n?"OUT OF STOCK":"IN STOCK"})}),r.length>1&&u.jsx("div",{className:"absolute bottom-3 left-1/2 flex -translate-x-1/2 gap-2 opacity-0 transition group-hover:opacity-100",children:r.map((e,t)=>u.jsx("button",{onMouseEnter:()=>a(t),className:"h-1.5 w-1.5 rounded-full transition "+(i===t?"bg-white":"bg-white/40")},t))})]}),u.jsxs("div",{className:"p-5",children:[u.jsx("h3",{className:"text-base font-semibold text-stone-100",children:e.title}),u.jsxs("div",{className:"mt-1 text-xs text-stone-500",children:[e.category,"  ",e.year]}),u.jsx("div",{className:"mt-3 text-sm tracking-widest text-stone-300",children:e.price}),u.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:e.tags.map(e=>u.jsxs("span",{className:"rounded-full border border-white/10 bg-white/2 px-2.5 py-1 text-[11px] text-stone-400",children:["#",e]},e))}),u.jsxs("div",{className:"mt-5 flex items-center justify-between",children:[u.jsx("span",{className:"text-[11px] tracking-[0.3em] text-stone-600",children:"MERCHMOLYS"}),u.jsx("button",{disabled:n,className:`inline-flex h-9 w-9 items-center justify-center rounded-2xl border transition\n                            ${n?"border-white/10 text-stone-600":"border-white/15 bg-white/3 text-stone-200 hover:bg-white/10"}\n                        `,children:u.jsx(gS,{className:"h-4 w-4"})})]})]})]})}const BH=Object.freeze(Object.defineProperty({__proto__:null,default:function({seo:e,merchandise:t,categories:n}){const[r,i]=T.useState("All"),[a,o]=T.useState(""),[s,l]=T.useState(null),c=T.useMemo(()=>{let e=[...t];if("All"!==r&&(e=e.filter(e=>e.category===r)),s&&(e=e.filter(e=>e.tags?.includes(s))),a.trim()){const t=a.toLowerCase();e=e.filter(e=>[e.title,e.year,e.category,e.price,...e.tags||[]].join(" ").toLowerCase().includes(t))}return e},[r,a,s]),d=T.useMemo(()=>{const e=new Set;return t.forEach(t=>(t.tags||[]).forEach(t=>e.add(t))),Array.from(e)},[]);return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:e}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[u.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10",children:[u.jsx("div",{className:"absolute inset-0 bg-linear-to-b from-black via-[#05060b] to-black"}),u.jsx("div",{className:"absolute -top-40 left-[-10%] h-130 w-130 rounded-full bg-indigo-500/10 blur-[90px]"}),u.jsx("div",{className:"absolute bottom-[-20%] right-[10%] h-140 w-140 rounded-full bg-cyan-500/10 blur-[110px]"})]}),u.jsx("div",{className:"mx-auto w-full max-w-6xl px-5 pt-28 pb-8",children:u.jsxs(ll.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col",children:[u.jsx("div",{className:"block text-xs tracking-[0.5em] text-stone-400 mb-6 uppercase",children:"STORE"}),u.jsx("h1",{className:"text-3xl md:text-4xl font-['Nickson']",children:"MERCHMOLYS"}),u.jsx("p",{className:"max-w-2xl text-sm leading-relaxed text-stone-400 mb-8",children:"Physical objects, limited editions, and artifacts that represent Marsmolys' identity."}),u.jsxs("div",{className:"flex flex-col gap-3 mb-6 md:flex-row md:items-center md:justify-between",children:[u.jsxs("div",{className:"relative w-full md:max-w-md",children:[u.jsx(yS,{className:"absolute left-4 top-1/2 h-4 w-4 -translate-y-1/2 text-stone-500"}),u.jsx("input",{value:a,onChange:e=>o(e.target.value),placeholder:"Search merch, tags, price...",className:"w-full rounded-2xl border border-white/10 bg-white/3 px-11 py-3 text-sm text-stone-200 outline-none focus:border-white/20"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-white/3 px-3 py-2 text-xs text-stone-400",children:[u.jsx(vS,{className:"h-4 w-4"}),"Filter"]}),n.map(e=>u.jsx("button",{onClick:()=>{i(e),l(null)},className:["rounded-2xl border px-3 py-2 text-xs",r===e?"border-white/20 bg-white/10 text-stone-100":"border-white/10 bg-white/2 text-stone-400 hover:bg-white/5"].join(" "),children:e},e))]})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-[11px] tracking-[0.3em] text-stone-600",children:"TAGS"}),u.jsx("button",{onClick:()=>l(null),className:"rounded-full border px-3 py-1.5 text-xs "+(null===s?"border-white/20 bg-white/10 text-stone-100":"border-white/10 bg-white/2 text-stone-500"),children:"All"}),d.map(e=>u.jsxs("button",{onClick:()=>l(t=>t===e?null:e),className:"rounded-full border px-3 py-1.5 text-xs "+(s===e?"border-white/20 bg-white/10 text-stone-100":"border-white/10 bg-white/2 text-stone-500"),children:["#",e]},e))]})]})}),u.jsx("div",{className:"mx-auto w-full max-w-6xl px-5 pb-20",children:u.jsx(ll.div,{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:c.map((e,t)=>u.jsx(zH,{item:e,index:t},e.id))})})]})]})]})}},Symbol.toStringTag,{value:"Module"}));function VH({item:e,index:t,onOpen:n}){return u.jsxs(ll.button,{type:"button",onClick:n,className:"group relative aspect-video w-full overflow-hidden bg-white/5 ring-1 ring-white/10 shadow-[0_20px_80px_rgba(0,0,0,0.55)]",initial:!1,whileHover:"hover",whileTap:{scale:.98},children:[u.jsx(ll.div,{layoutId:`cosmic-img-${e.youtubeId??e.id??t}`,className:"absolute inset-0",variants:{hover:{scale:1.06,filter:"contrast(1.08) saturate(1.05)"}},transition:{type:"spring",stiffness:220,damping:22},children:u.jsx(FE,{src:e.cover,alt:e.title??"image",className:"absolute inset-0"})}),u.jsxs(ll.div,{className:"pointer-events-none absolute inset-0 opacity-0",variants:{hover:{opacity:1}},transition:{duration:.25},children:[u.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/75 via-black/20 to-transparent"}),u.jsx("div",{className:"absolute -left-20 -top-20 h-56 w-56 bg-white/10 blur-2xl"}),u.jsx("div",{className:"absolute -right-24 top-10 h-56 w-56 bg-blue-200/10 blur-2xl"})]}),u.jsx("div",{className:"pointer-events-none absolute inset-0 ring-1 ring-white/10"}),u.jsx(ll.div,{className:"absolute inset-x-0 bottom-0 p-3 text-left",initial:{opacity:0,y:10},variants:{hover:{opacity:1,y:0}},transition:{duration:.25},children:u.jsxs("div",{className:"flex items-end justify-between gap-2",children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"truncate text-sm font-medium text-white/90",children:e.title??"Untitled"}),u.jsx("div",{className:"truncate text-[11px] tracking-[0.25em] text-white/45",children:e.publishedAt?new Date(e.publishedAt).getFullYear():""})]}),u.jsx("div",{className:"shrink-0 rounded-full bg-white/10 px-2 py-1 text-[10px] tracking-[0.35em] text-white/60 ring-1 ring-white/10",children:"Watch"})]})})]})}const HH=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const{items:e=[],seo:t}=rx().props,n=DE(0,800,0,-60),[r,i]=T.useState(!1),[a,o]=T.useState(0),s=T.useMemo(()=>e?.[a]??null,[e,a]),l=e=>{e&&((new Image).src=e)},c=t=>{(t=>{l(e[t]?.cover),l(e[t+1]?.cover),l(e[t-1]?.cover)})(t),o(t),i(!0)};return u.jsxs(u.Fragment,{children:[u.jsx(EE,{seo:t}),u.jsxs(qx,{children:[u.jsx(TE,{href:"/",label:"HOME",position:"left"}),u.jsx(Go,{children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(ll.section,{className:"relative py-28 md:py-40 text-center",style:{y:n},children:u.jsxs(ll.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.45,ease:[.22,1,.36,1]},children:[u.jsx("span",{className:"block text-xs tracking-[0.5em] text-stone-400 mb-6 uppercase",children:"VIDEO"}),u.jsx("h1",{className:"text-3xl md:text-4xl font-[Nickson]",children:"Marsmolys Video Archive"}),u.jsx("p",{className:"max-w-2xl text-sm leading-relaxed text-stone-400 mx-auto",children:"The collection of live, recorded, and archived videos."})]})}),u.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 py-8",children:e.map((e,t)=>u.jsx(VH,{item:e,index:t,onOpen:()=>c(t)},e.youtubeId??e.id??t))}),u.jsx(Bo,{children:r&&s&&u.jsx(UE,{open:r,items:e,index:a,onClose:()=>i(!1),onPrev:()=>o(e=>Math.max(0,e-1)),onNext:()=>o(t=>Math.min(e.length-1,t+1)),onSelectIndex:e=>o(e)})})]})})]})]})}},Symbol.toStringTag,{value:"Module"}));var WH,GH,qH,XH={exports:{}},$H=(WH||(WH=1,GH=XH,qH=XH.exports,function(){var e,t="Expected a function",n="__lodash_hash_undefined__",i="__lodash_placeholder__",a=32,o=128,s=256,l=1/0,c=9007199254740991,u=NaN,d=4294967295,h=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",a],["partialRight",64],["rearg",s]],f="[object Arguments]",p="[object Array]",m="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",b="[object GeneratorFunction]",x="[object Map]",_="[object Number]",w="[object Object]",S="[object Promise]",M="[object RegExp]",E="[object Set]",T="[object String]",A="[object Symbol]",C="[object WeakMap]",P="[object ArrayBuffer]",R="[object DataView]",N="[object Float32Array]",k="[object Float64Array]",L="[object Int8Array]",I="[object Int16Array]",O="[object Int32Array]",D="[object Uint8Array]",F="[object Uint8ClampedArray]",U="[object Uint16Array]",j="[object Uint32Array]",z=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,G=RegExp(H.source),q=RegExp(W.source),X=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,J=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,ee=RegExp(Q.source),te=/^\s+/,ne=/\s/,re=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ie=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,oe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,se=/[()=,{}\[\]\/\s]/,le=/\\(\\)?/g,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ue=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,fe=/^\[object .+?Constructor\]$/,pe=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,ye=/['\n\r\u2028\u2029\\]/g,be="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Ee="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="[']",Ae="["+be+"]",Ce="["+Ee+"]",Pe="["+xe+"]",Re="\\d+",Ne="["+_e+"]",ke="["+we+"]",Le="[^"+be+Ee+Re+_e+we+Se+"]",Ie="\\ud83c[\\udffb-\\udfff]",Oe="[^"+be+"]",De="(?:\\ud83c[\\udde6-\\uddff]){2}",Fe="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Se+"]",je="\\u200d",ze="(?:"+ke+"|"+Le+")",Be="(?:"+Ue+"|"+Le+")",Ve="(?:['](?:d|ll|m|re|s|t|ve))?",He="(?:['](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Pe+"|"+Ie+")?",Ge="["+Me+"]?",qe=Ge+We+"(?:"+je+"(?:"+[Oe,De,Fe].join("|")+")"+Ge+We+")*",Xe="(?:"+[Ne,De,Fe].join("|")+")"+qe,$e="(?:"+[Oe+Pe+"?",Pe,De,Fe,Ae].join("|")+")",Ye=RegExp(Te,"g"),Ke=RegExp(Pe,"g"),Ze=RegExp(Ie+"(?="+Ie+")|"+$e+qe,"g"),Je=RegExp([Ue+"?"+ke+"+"+Ve+"(?="+[Ce,Ue,"$"].join("|")+")",Be+"+"+He+"(?="+[Ce,Ue+ze,"$"].join("|")+")",Ue+"?"+ze+"+"+Ve,Ue+"+"+He,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Xe].join("|"),"g"),Qe=RegExp("["+je+be+xe+Me+"]"),et=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],nt=-1,rt={};rt[N]=rt[k]=rt[L]=rt[I]=rt[O]=rt[D]=rt[F]=rt[U]=rt[j]=!0,rt[f]=rt[p]=rt[P]=rt[m]=rt[R]=rt[g]=rt[v]=rt[y]=rt[x]=rt[_]=rt[w]=rt[M]=rt[E]=rt[T]=rt[C]=!1;var it={};it[f]=it[p]=it[P]=it[R]=it[m]=it[g]=it[N]=it[k]=it[L]=it[I]=it[O]=it[x]=it[_]=it[w]=it[M]=it[E]=it[T]=it[A]=it[D]=it[F]=it[U]=it[j]=!0,it[v]=it[y]=it[C]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ot=parseFloat,st=parseInt,lt="object"==typeof r&&r&&r.Object===Object&&r,ct="object"==typeof self&&self&&self.Object===Object&&self,ut=lt||ct||Function("return this")(),dt=qH&&!qH.nodeType&&qH,ht=dt&&GH&&!GH.nodeType&&GH,ft=ht&&ht.exports===dt,pt=ft&&lt.process,mt=function(){try{var e=ht&&ht.require&&ht.require("util").types;return e||pt&&pt.binding&&pt.binding("util")}catch(t){}}(),gt=mt&&mt.isArrayBuffer,vt=mt&&mt.isDate,yt=mt&&mt.isMap,bt=mt&&mt.isRegExp,xt=mt&&mt.isSet,_t=mt&&mt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Et(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function At(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Ct(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function kt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ot=Vt("length");function Dt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Ft(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,zt,n)}function jt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function zt(e){return e!=e}function Bt(e,t){var n=null==e?0:e.length;return n?Gt(e,t)/n:u}function Vt(t){return function(n){return null==n?e:n[t]}}function Ht(t){return function(n){return null==t?e:t[n]}}function Wt(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}function Gt(t,n){for(var r,i=-1,a=t.length;++i<a;){var o=n(t[i]);o!==e&&(r=r===e?o:r+o)}return r}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,un(e)+1).replace(te,""):e}function $t(e){return function(t){return e(t)}}function Yt(e,t){return Rt(t,function(t){return e[t]})}function Kt(e,t){return e.has(t)}function Zt(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function Jt(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var Qt=Ht({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),en=Ht({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function tn(e){return"\\"+at[e]}function nn(e){return Qe.test(e)}function rn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function an(e,t){return function(n){return e(t(n))}}function on(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var s=e[n];s!==t&&s!==i||(e[n]=i,o[a++]=n)}return o}function sn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ln(e){return nn(e)?function(e){for(var t=Ze.lastIndex=0;Ze.test(e);)++t;return t}(e):Ot(e)}function cn(e){return nn(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.split("")}(e)}function un(e){for(var t=e.length;t--&&ne.test(e.charAt(t)););return t}var dn=Ht({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hn=function r(ne){var be=(ne=null==ne?ut:hn.defaults(ut.Object(),ne,hn.pick(ut,tt))).Array,xe=ne.Date,_e=ne.Error,we=ne.Function,Se=ne.Math,Me=ne.Object,Ee=ne.RegExp,Te=ne.String,Ae=ne.TypeError,Ce=be.prototype,Pe=we.prototype,Re=Me.prototype,Ne=ne["__core-js_shared__"],ke=Pe.toString,Le=Re.hasOwnProperty,Ie=0,Oe=function(){var e=/[^.]+$/.exec(Ne&&Ne.keys&&Ne.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),De=Re.toString,Fe=ke.call(Me),Ue=ut._,je=Ee("^"+ke.call(Le).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=ft?ne.Buffer:e,Be=ne.Symbol,Ve=ne.Uint8Array,He=ze?ze.allocUnsafe:e,We=an(Me.getPrototypeOf,Me),Ge=Me.create,qe=Re.propertyIsEnumerable,Xe=Ce.splice,$e=Be?Be.isConcatSpreadable:e,Ze=Be?Be.iterator:e,Qe=Be?Be.toStringTag:e,at=function(){try{var e=la(Me,"defineProperty");return e({},"",{}),e}catch(t){}}(),lt=ne.clearTimeout!==ut.clearTimeout&&ne.clearTimeout,ct=xe&&xe.now!==ut.Date.now&&xe.now,dt=ne.setTimeout!==ut.setTimeout&&ne.setTimeout,ht=Se.ceil,pt=Se.floor,mt=Me.getOwnPropertySymbols,Ot=ze?ze.isBuffer:e,Ht=ne.isFinite,fn=Ce.join,pn=an(Me.keys,Me),mn=Se.max,gn=Se.min,vn=xe.now,yn=ne.parseInt,bn=Se.random,xn=Ce.reverse,_n=la(ne,"DataView"),wn=la(ne,"Map"),Sn=la(ne,"Promise"),Mn=la(ne,"Set"),En=la(ne,"WeakMap"),Tn=la(Me,"create"),An=En&&new En,Cn={},Pn=Ia(_n),Rn=Ia(wn),Nn=Ia(Sn),kn=Ia(Mn),Ln=Ia(En),In=Be?Be.prototype:e,On=In?In.valueOf:e,Dn=In?In.toString:e;function Fn(e){if(Jo(e)&&!Bo(e)&&!(e instanceof Bn)){if(e instanceof zn)return e;if(Le.call(e,"__wrapped__"))return Oa(e)}return new zn(e)}var Un=function(){function t(){}return function(n){if(!Zo(n))return{};if(Ge)return Ge(n);t.prototype=n;var r=new t;return t.prototype=e,r}}();function jn(){}function zn(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=e}function Bn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function qn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Xn(e,t){var n=Bo(e),r=!n&&zo(e),i=!n&&!r&&Go(e),a=!n&&!r&&!i&&os(e),o=n||r||i||a,s=o?qt(e.length,Te):[],l=s.length;for(var c in e)!t&&!Le.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ma(c,l))||s.push(c);return s}function $n(t){var n=t.length;return n?t[Gr(0,n-1)]:e}function Yn(e,t){return Na(Ti(e),ir(t,0,e.length))}function Kn(e){return Na(Ti(e))}function Zn(t,n,r){(r!==e&&!Fo(t[n],r)||r===e&&!(n in t))&&nr(t,n,r)}function Jn(t,n,r){var i=t[n];Le.call(t,n)&&Fo(i,r)&&(r!==e||n in t)||nr(t,n,r)}function Qn(e,t){for(var n=e.length;n--;)if(Fo(e[n][0],t))return n;return-1}function er(e,t,n,r){return cr(e,function(e,i,a){t(r,e,n(e),a)}),r}function tr(e,t){return e&&Ai(t,Cs(t),e)}function nr(e,t,n){"__proto__"==t&&at?at(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function rr(t,n){for(var r=-1,i=n.length,a=be(i),o=null==t;++r<i;)a[r]=o?e:Ss(t,n[r]);return a}function ir(t,n,r){return t==t&&(r!==e&&(t=t<=r?t:r),n!==e&&(t=t>=n?t:n)),t}function ar(t,n,r,i,a,o){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),s!==e)return s;if(!Zo(t))return t;var d=Bo(t);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Ti(t,s)}else{var h=da(t),p=h==y||h==b;if(Go(t))return xi(t,l);if(h==w||h==f||p&&!a){if(s=c||p?{}:fa(t),!l)return c?function(e,t){return Ai(e,ua(e),t)}(t,function(e,t){return e&&Ai(t,Ps(t),e)}(s,t)):function(e,t){return Ai(e,ca(e),t)}(t,tr(s,t))}else{if(!it[h])return a?t:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case P:return _i(e);case m:case g:return new i(+e);case R:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case k:case L:case I:case O:case D:case F:case U:case j:return wi(e,n);case x:return new i;case _:case T:return new i(e);case M:return function(e){var t=new e.constructor(e.source,ue.exec(e));return t.lastIndex=e.lastIndex,t}(e);case E:return new i;case A:return r=e,On?Me(On.call(r)):{}}}(t,h,l)}}o||(o=new qn);var v=o.get(t);if(v)return v;o.set(t,s),rs(t)?t.forEach(function(e){s.add(ar(e,n,r,e,t,o))}):Qo(t)&&t.forEach(function(e,i){s.set(i,ar(e,n,r,i,t,o))});var S=d?e:(u?c?ta:ea:c?Ps:Cs)(t);return Mt(S||t,function(e,i){S&&(e=t[i=e]),Jn(s,i,ar(e,n,r,i,t,o))}),s}function or(t,n,r){var i=r.length;if(null==t)return!i;for(t=Me(t);i--;){var a=r[i],o=n[a],s=t[a];if(s===e&&!(a in t)||!o(s))return!1}return!0}function sr(n,r,i){if("function"!=typeof n)throw new Ae(t);return Aa(function(){n.apply(e,i)},r)}function lr(e,t,n,r){var i=-1,a=Ct,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Rt(t,$t(n))),r?(a=Pt,o=!1):t.length>=200&&(a=Kt,o=!1,t=new Gn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,o&&d==d){for(var h=c;h--;)if(t[h]===d)continue e;l.push(u)}else a(t,d,r)||l.push(u)}return l}Fn.templateSettings={escape:X,evaluate:$,interpolate:Y,variable:"",imports:{_:Fn}},Fn.prototype=jn.prototype,Fn.prototype.constructor=Fn,zn.prototype=Un(jn.prototype),zn.prototype.constructor=zn,Bn.prototype=Un(jn.prototype),Bn.prototype.constructor=Bn,Vn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(t){var r=this.__data__;if(Tn){var i=r[t];return i===n?e:i}return Le.call(r,t)?r[t]:e},Vn.prototype.has=function(t){var n=this.__data__;return Tn?n[t]!==e:Le.call(n,t)},Vn.prototype.set=function(t,r){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Tn&&r===e?n:r,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=Qn(t,e);return!(n<0||(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,0))},Hn.prototype.get=function(t){var n=this.__data__,r=Qn(n,t);return r<0?e:n[r][1]},Hn.prototype.has=function(e){return Qn(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=Qn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(wn||Hn),string:new Vn}},Wn.prototype.delete=function(e){var t=oa(this,e).delete(e);return this.size-=t?1:0,t},Wn.prototype.get=function(e){return oa(this,e).get(e)},Wn.prototype.has=function(e){return oa(this,e).has(e)},Wn.prototype.set=function(e,t){var n=oa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,n),this},Gn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.clear=function(){this.__data__=new Hn,this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},qn.prototype.get=function(e){return this.__data__.get(e)},qn.prototype.has=function(e){return this.__data__.has(e)},qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this};var cr=Ri(vr),ur=Ri(yr,!0);function dr(e,t){var n=!0;return cr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function hr(t,n,r){for(var i=-1,a=t.length;++i<a;){var o=t[i],s=n(o);if(null!=s&&(l===e?s==s&&!as(s):r(s,l)))var l=s,c=o}return c}function fr(e,t){var n=[];return cr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function pr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=pa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?pr(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var mr=Ni(),gr=Ni(!0);function vr(e,t){return e&&mr(e,t,Cs)}function yr(e,t){return e&&gr(e,t,Cs)}function br(e,t){return At(t,function(t){return $o(e[t])})}function xr(t,n){for(var r=0,i=(n=gi(n,t)).length;null!=t&&r<i;)t=t[La(n[r++])];return r&&r==i?t:e}function _r(e,t,n){var r=t(e);return Bo(e)?r:Nt(r,n(e))}function wr(t){return null==t?t===e?"[object Undefined]":"[object Null]":Qe&&Qe in Me(t)?function(t){var n=Le.call(t,Qe),r=t[Qe];try{t[Qe]=e;var i=!0}catch(o){}var a=De.call(t);return i&&(n?t[Qe]=r:delete t[Qe]),a}(t):function(e){return De.call(e)}(t)}function Sr(e,t){return e>t}function Mr(e,t){return null!=e&&Le.call(e,t)}function Er(e,t){return null!=e&&t in Me(e)}function Tr(t,n,r){for(var i=r?Pt:Ct,a=t[0].length,o=t.length,s=o,l=be(o),c=1/0,u=[];s--;){var d=t[s];s&&n&&(d=Rt(d,$t(n))),c=gn(d.length,c),l[s]=!r&&(n||a>=120&&d.length>=120)?new Gn(s&&d):e}d=t[0];var h=-1,f=l[0];e:for(;++h<a&&u.length<c;){var p=d[h],m=n?n(p):p;if(p=r||0!==p?p:0,!(f?Kt(f,m):i(u,m,r))){for(s=o;--s;){var g=l[s];if(!(g?Kt(g,m):i(t[s],m,r)))continue e}f&&f.push(m),u.push(p)}}return u}function Ar(t,n,r){var i=null==(t=Ma(t,n=gi(n,t)))?t:t[La(qa(n))];return null==i?e:wt(i,t,r)}function Cr(e){return Jo(e)&&wr(e)==f}function Pr(t,n,r,i,a){return t===n||(null==t||null==n||!Jo(t)&&!Jo(n)?t!=t&&n!=n:function(t,n,r,i,a,o){var s=Bo(t),l=Bo(n),c=s?p:da(t),u=l?p:da(n),d=(c=c==f?w:c)==w,h=(u=u==f?w:u)==w,y=c==u;if(y&&Go(t)){if(!Go(n))return!1;s=!0,d=!1}if(y&&!d)return o||(o=new qn),s||os(t)?Ji(t,n,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new Ve(e),new Ve(t)));case m:case g:case _:return Fo(+e,+t);case v:return e.name==t.name&&e.message==t.message;case M:case T:return e==t+"";case x:var s=rn;case E:var l=1&r;if(s||(s=sn),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;r|=2,o.set(e,t);var u=Ji(s(e),s(t),r,i,a,o);return o.delete(e),u;case A:if(On)return On.call(e)==On.call(t)}return!1}(t,n,c,r,i,a,o);if(!(1&r)){var b=d&&Le.call(t,"__wrapped__"),S=h&&Le.call(n,"__wrapped__");if(b||S){var C=b?t.value():t,N=S?n.value():n;return o||(o=new qn),a(C,N,r,i,o)}}return!!y&&(o||(o=new qn),function(t,n,r,i,a,o){var s=1&r,l=ea(t),c=l.length,u=ea(n),d=u.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var f=l[h];if(!(s?f in n:Le.call(n,f)))return!1}var p=o.get(t),m=o.get(n);if(p&&m)return p==n&&m==t;var g=!0;o.set(t,n),o.set(n,t);for(var v=s;++h<c;){var y=t[f=l[h]],b=n[f];if(i)var x=s?i(b,y,f,n,t,o):i(y,b,f,t,n,o);if(!(x===e?y===b||a(y,b,r,i,o):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var _=t.constructor,w=n.constructor;_==w||!("constructor"in t)||!("constructor"in n)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return o.delete(t),o.delete(n),g}(t,n,r,i,a,o))}(t,n,r,i,Pr,a))}function Rr(t,n,r,i){var a=r.length,o=a,s=!i;if(null==t)return!o;for(t=Me(t);a--;){var l=r[a];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<o;){var c=(l=r[a])[0],u=t[c],d=l[1];if(s&&l[2]){if(u===e&&!(c in t))return!1}else{var h=new qn;if(i)var f=i(u,d,c,t,n,h);if(!(f===e?Pr(d,u,3,i,h):f))return!1}}return!0}function Nr(e){return!(!Zo(e)||function(e){return!!Oe&&Oe in e}(e))&&($o(e)?je:fe).test(Ia(e))}function kr(e){return"function"==typeof e?e:null==e?el:"object"==typeof e?Bo(e)?Ur(e[0],e[1]):Fr(e):cl(e)}function Lr(e){if(!xa(e))return pn(e);var t=[];for(var n in Me(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e){if(!Zo(e))return function(e){var t=[];if(null!=e)for(var n in Me(e))t.push(n);return t}(e);var t=xa(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Or(e,t){return e<t}function Dr(e,t){var n=-1,r=Ho(e)?be(e.length):[];return cr(e,function(e,i,a){r[++n]=t(e,i,a)}),r}function Fr(e){var t=sa(e);return 1==t.length&&t[0][2]?wa(t[0][0],t[0][1]):function(n){return n===e||Rr(n,e,t)}}function Ur(t,n){return va(t)&&_a(n)?wa(La(t),n):function(r){var i=Ss(r,t);return i===e&&i===n?Ms(r,t):Pr(n,i,3)}}function jr(t,n,r,i,a){t!==n&&mr(n,function(o,s){if(a||(a=new qn),Zo(o))!function(t,n,r,i,a,o,s){var l=Ea(t,r),c=Ea(n,r),u=s.get(c);if(u)Zn(t,r,u);else{var d=o?o(l,c,r+"",t,n,s):e,h=d===e;if(h){var f=Bo(c),p=!f&&Go(c),m=!f&&!p&&os(c);d=c,f||p||m?Bo(l)?d=l:Wo(l)?d=Ti(l):p?(h=!1,d=xi(c,!0)):m?(h=!1,d=wi(c,!0)):d=[]:ts(c)||zo(c)?(d=l,zo(l)?d=ps(l):Zo(l)&&!$o(l)||(d=fa(c))):h=!1}h&&(s.set(c,d),a(d,c,i,o,s),s.delete(c)),Zn(t,r,d)}}(t,n,s,r,jr,i,a);else{var l=i?i(Ea(t,s),o,s+"",t,n,a):e;l===e&&(l=o),Zn(t,s,l)}},Ps)}function zr(t,n){var r=t.length;if(r)return ma(n+=n<0?r:0,r)?t[n]:e}function Br(e,t,n){t=t.length?Rt(t,function(e){return Bo(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e}):[el];var r=-1;return t=Rt(t,$t(aa())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Dr(e,function(e,n,i){return{criteria:Rt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=Si(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)})}function Vr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=xr(e,o);n(s,o)&&Kr(a,gi(o,e),s)}return a}function Hr(e,t,n,r){var i=r?jt:Ut,a=-1,o=t.length,s=e;for(e===t&&(t=Ti(t)),n&&(s=Rt(e,$t(n)));++a<o;)for(var l=0,c=t[a],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Xe.call(s,l,1),Xe.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ma(i)?Xe.call(e,i,1):li(e,i)}}return e}function Gr(e,t){return e+pt(bn()*(t-e+1))}function qr(e,t){var n="";if(!e||t<1||t>c)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ca(Sa(e,t,el),e+"")}function $r(e){return $n(Fs(e))}function Yr(e,t){var n=Fs(e);return Na(n,ir(t,0,n.length))}function Kr(t,n,r,i){if(!Zo(t))return t;for(var a=-1,o=(n=gi(n,t)).length,s=o-1,l=t;null!=l&&++a<o;){var c=La(n[a]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(a!=s){var d=l[c];(u=i?i(d,c,l):e)===e&&(u=Zo(d)?d:ma(n[a+1])?[]:{})}Jn(l,c,u),l=l[c]}return t}var Zr=An?function(e,t){return An.set(e,t),e}:el,Jr=at?function(e,t){return at(e,"toString",{configurable:!0,enumerable:!1,value:Zs(t),writable:!0})}:el;function Qr(e){return Na(Fs(e))}function ei(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=be(i);++r<i;)a[r]=e[r+t];return a}function ti(e,t){var n;return cr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function ni(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!as(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ri(e,t,el,n)}function ri(t,n,r,i){var a=0,o=null==t?0:t.length;if(0===o)return 0;for(var s=(n=r(n))!=n,l=null===n,c=as(n),u=n===e;a<o;){var d=pt((a+o)/2),h=r(t[d]),f=h!==e,p=null===h,m=h==h,g=as(h);if(s)var v=i||m;else v=u?m&&(i||f):l?m&&f&&(i||!p):c?m&&f&&!p&&(i||!g):!p&&!g&&(i?h<=n:h<n);v?a=d+1:o=d}return gn(o,4294967294)}function ii(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Fo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function ai(e){return"number"==typeof e?e:as(e)?u:+e}function oi(e){if("string"==typeof e)return e;if(Bo(e))return Rt(e,oi)+"";if(as(e))return Dn?Dn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function si(e,t,n){var r=-1,i=Ct,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Pt;else if(a>=200){var c=t?null:qi(e);if(c)return sn(c);o=!1,i=Kt,l=new Gn}else l=t?[]:s;e:for(;++r<a;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function li(e,t){var n=-1,r=(t=gi(t,e)).length;if(!r)return!0;for(var i=null==e||"object"!=typeof e&&"function"!=typeof e;++n<r;){var a=t[n];if("string"==typeof a){if("__proto__"===a&&!Le.call(e,"__proto__"))return!1;if("constructor"===a&&n+1<r&&"string"==typeof t[n+1]&&"prototype"===t[n+1]){if(i&&0===n)continue;return!1}}}var o=Ma(e,t);return null==o||delete o[La(qa(t))]}function ci(e,t,n,r){return Kr(e,t,n(xr(e,t)),r)}function ui(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ei(e,r?0:a,r?a+1:i):ei(e,r?a+1:0,r?i:a)}function di(e,t){var n=e;return n instanceof Bn&&(n=n.value()),kt(t,function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))},n)}function hi(e,t,n){var r=e.length;if(r<2)return r?si(e[0]):[];for(var i=-1,a=be(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=lr(a[i]||o,e[s],t,n));return si(pr(a,1),t,n)}function fi(t,n,r){for(var i=-1,a=t.length,o=n.length,s={};++i<a;){var l=i<o?n[i]:e;r(s,t[i],l)}return s}function pi(e){return Wo(e)?e:[]}function mi(e){return"function"==typeof e?e:el}function gi(e,t){return Bo(e)?e:va(e,t)?[e]:ka(ms(e))}var vi=Xr;function yi(t,n,r){var i=t.length;return r=r===e?i:r,!n&&r>=i?t:ei(t,n,r)}var bi=lt||function(e){return ut.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function wi(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Si(t,n){if(t!==n){var r=t!==e,i=null===t,a=t==t,o=as(t),s=n!==e,l=null===n,c=n==n,u=as(n);if(!l&&!u&&!o&&t>n||o&&s&&c&&!l&&!u||i&&s&&c||!r&&c||!a)return 1;if(!i&&!o&&!u&&t<n||u&&r&&a&&!i&&!o||l&&r&&a||!s&&a||!c)return-1}return 0}function Mi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,c=mn(a-o,0),u=be(l+c),d=!r;++s<l;)u[s]=t[s];for(;++i<o;)(d||i<a)&&(u[n[i]]=e[i]);for(;c--;)u[s++]=e[i++];return u}function Ei(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,c=t.length,u=mn(a-s,0),d=be(u+c),h=!r;++i<u;)d[i]=e[i];for(var f=i;++l<c;)d[f+l]=t[l];for(;++o<s;)(h||i<a)&&(d[f+n[o]]=e[i++]);return d}function Ti(e,t){var n=-1,r=e.length;for(t||(t=be(r));++n<r;)t[n]=e[n];return t}function Ai(t,n,r,i){var a=!r;r||(r={});for(var o=-1,s=n.length;++o<s;){var l=n[o],c=i?i(r[l],t[l],l,r,t):e;c===e&&(c=t[l]),a?nr(r,l,c):Jn(r,l,c)}return r}function Ci(e,t){return function(n,r){var i=Bo(n)?St:er,a=t?t():{};return i(n,e,aa(r,2),a)}}function Pi(t){return Xr(function(n,r){var i=-1,a=r.length,o=a>1?r[a-1]:e,s=a>2?r[2]:e;for(o=t.length>3&&"function"==typeof o?(a--,o):e,s&&ga(r[0],r[1],s)&&(o=a<3?e:o,a=1),n=Me(n);++i<a;){var l=r[i];l&&t(n,l,i,o)}return n})}function Ri(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Me(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Ni(e){return function(t,n,r){for(var i=-1,a=Me(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function ki(t){return function(n){var r=nn(n=ms(n))?cn(n):e,i=r?r[0]:n.charAt(0),a=r?yi(r,1).join(""):n.slice(1);return i[t]()+a}}function Li(e){return function(t){return kt($s(zs(t).replace(Ye,"")),e,"")}}function Ii(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return Zo(r)?r:n}}function Oi(t){return function(n,r,i){var a=Me(n);if(!Ho(n)){var o=aa(r,3);n=Cs(n),r=function(e){return o(a[e],e,a)}}var s=t(n,r,i);return s>-1?a[o?n[s]:s]:e}}function Di(n){return Qi(function(r){var i=r.length,a=i,o=zn.prototype.thru;for(n&&r.reverse();a--;){var s=r[a];if("function"!=typeof s)throw new Ae(t);if(o&&!l&&"wrapper"==ra(s))var l=new zn([],!0)}for(a=l?a:i;++a<i;){var c=ra(s=r[a]),u="wrapper"==c?na(s):e;l=u&&ya(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[ra(u[0])].apply(l,u[3]):1==s.length&&ya(s)?l[c]():l.thru(s)}return function(){var e=arguments,t=e[0];if(l&&1==e.length&&Bo(t))return l.plant(t).value();for(var n=0,a=i?r[n].apply(this,e):t;++n<i;)a=r[n].call(this,a);return a}})}function Fi(t,n,r,i,a,s,l,c,u,d){var h=n&o,f=1&n,p=2&n,m=24&n,g=512&n,v=p?e:Ii(t);return function o(){for(var y=arguments.length,b=be(y),x=y;x--;)b[x]=arguments[x];if(m)var _=ia(o),w=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,_);if(i&&(b=Mi(b,i,a,m)),s&&(b=Ei(b,s,l,m)),y-=w,m&&y<d){var S=on(b,_);return Wi(t,n,Fi,o.placeholder,r,b,S,c,u,d-y)}var M=f?r:this,E=p?M[t]:t;return y=b.length,c?b=function(t,n){for(var r=t.length,i=gn(n.length,r),a=Ti(t);i--;){var o=n[i];t[i]=ma(o,r)?a[o]:e}return t}(b,c):g&&y>1&&b.reverse(),h&&u<y&&(b.length=u),this&&this!==ut&&this instanceof o&&(E=v||Ii(E)),E.apply(M,b)}}function Ui(e,t){return function(n,r){return function(e,t,n,r){return vr(e,function(e,i,a){t(r,n(e),i,a)}),r}(n,e,t(r),{})}}function ji(t,n){return function(r,i){var a;if(r===e&&i===e)return n;if(r!==e&&(a=r),i!==e){if(a===e)return i;"string"==typeof r||"string"==typeof i?(r=oi(r),i=oi(i)):(r=ai(r),i=ai(i)),a=t(r,i)}return a}}function zi(e){return Qi(function(t){return t=Rt(t,$t(aa())),Xr(function(n){var r=this;return e(t,function(e){return wt(e,r,n)})})})}function Bi(t,n){var r=(n=n===e?" ":oi(n)).length;if(r<2)return r?qr(n,t):n;var i=qr(n,ht(t/ln(n)));return nn(n)?yi(cn(i),0,t).join(""):i.slice(0,t)}function Vi(t){return function(n,r,i){return i&&"number"!=typeof i&&ga(n,r,i)&&(r=i=e),n=us(n),r===e?(r=n,n=0):r=us(r),function(e,t,n,r){for(var i=-1,a=mn(ht((t-e)/(n||1)),0),o=be(a);a--;)o[r?a:++i]=e,e+=n;return o}(n,r,i=i===e?n<r?1:-1:us(i),t)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fs(t),n=fs(n)),e(t,n)}}function Wi(t,n,r,i,o,s,l,c,u,d){var h=8&n;n|=h?a:64,4&(n&=~(h?64:a))||(n&=-4);var f=[t,n,o,h?s:e,h?l:e,h?e:s,h?e:l,c,u,d],p=r.apply(e,f);return ya(t)&&Ta(p,f),p.placeholder=i,Pa(p,t,n)}function Gi(e){var t=Se[e];return function(e,n){if(e=fs(e),(n=null==n?0:gn(ds(n),292))&&Ht(e)){var r=(ms(e)+"e").split("e");return+((r=(ms(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var qi=Mn&&1/sn(new Mn([,-0]))[1]==l?function(e){return new Mn(e)}:al;function Xi(e){return function(t){var n=da(t);return n==x?rn(t):n==E?function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}(t):function(e,t){return Rt(t,function(t){return[t,e[t]]})}(t,e(t))}}function $i(n,r,l,c,u,d,h,f){var p=2&r;if(!p&&"function"!=typeof n)throw new Ae(t);var m=c?c.length:0;if(m||(r&=-97,c=u=e),h=h===e?h:mn(ds(h),0),f=f===e?f:ds(f),m-=u?u.length:0,64&r){var g=c,v=u;c=u=e}var y=p?e:na(n),b=[n,r,l,c,u,g,v,d,h,f];if(y&&function(e,t){var n=e[1],r=t[1],a=n|r,l=a<131,c=r==o&&8==n||r==o&&n==s&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!l&&!c)return e;1&r&&(e[2]=t[2],a|=1&n?0:4);var u=t[3];if(u){var d=e[3];e[3]=d?Mi(d,u,t[4]):u,e[4]=d?on(e[3],i):t[4]}(u=t[5])&&(d=e[5],e[5]=d?Ei(d,u,t[6]):u,e[6]=d?on(e[5],i):t[6]),(u=t[7])&&(e[7]=u),r&o&&(e[8]=null==e[8]?t[8]:gn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(b,y),n=b[0],r=b[1],l=b[2],c=b[3],u=b[4],!(f=b[9]=b[9]===e?p?0:n.length:mn(b[9]-m,0))&&24&r&&(r&=-25),r&&1!=r)x=8==r||16==r?function(t,n,r){var i=Ii(t);return function a(){for(var o=arguments.length,s=be(o),l=o,c=ia(a);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:on(s,c);return(o-=u.length)<r?Wi(t,n,Fi,a.placeholder,e,s,u,e,e,r-o):wt(this&&this!==ut&&this instanceof a?i:t,this,s)}}(n,r,f):r!=a&&33!=r||u.length?Fi.apply(e,b):function(e,t,n,r){var i=1&t,a=Ii(e);return function t(){for(var o=-1,s=arguments.length,l=-1,c=r.length,u=be(c+s),d=this&&this!==ut&&this instanceof t?a:e;++l<c;)u[l]=r[l];for(;s--;)u[l++]=arguments[++o];return wt(d,i?n:this,u)}}(n,r,l,c);else var x=function(e,t,n){var r=1&t,i=Ii(e);return function t(){return(this&&this!==ut&&this instanceof t?i:e).apply(r?n:this,arguments)}}(n,r,l);return Pa((y?Zr:Ta)(x,b),n,r)}function Yi(t,n,r,i){return t===e||Fo(t,Re[r])&&!Le.call(i,r)?n:t}function Ki(t,n,r,i,a,o){return Zo(t)&&Zo(n)&&(o.set(n,t),jr(t,n,e,Ki,o),o.delete(n)),t}function Zi(t){return ts(t)?e:t}function Ji(t,n,r,i,a,o){var s=1&r,l=t.length,c=n.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(t),d=o.get(n);if(u&&d)return u==n&&d==t;var h=-1,f=!0,p=2&r?new Gn:e;for(o.set(t,n),o.set(n,t);++h<l;){var m=t[h],g=n[h];if(i)var v=s?i(g,m,h,n,t,o):i(m,g,h,t,n,o);if(v!==e){if(v)continue;f=!1;break}if(p){if(!It(n,function(e,t){if(!Kt(p,t)&&(m===e||a(m,e,r,i,o)))return p.push(t)})){f=!1;break}}else if(m!==g&&!a(m,g,r,i,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function Qi(t){return Ca(Sa(t,e,Ba),t+"")}function ea(e){return _r(e,Cs,ca)}function ta(e){return _r(e,Ps,ua)}var na=An?function(e){return An.get(e)}:al;function ra(e){for(var t=e.name+"",n=Cn[t],r=Le.call(Cn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function ia(e){return(Le.call(Fn,"placeholder")?Fn:e).placeholder}function aa(){var e=Fn.iteratee||tl;return e=e===tl?kr:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function sa(e){for(var t=Cs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,_a(i)]}return t}function la(t,n){var r=function(t,n){return null==t?e:t[n]}(t,n);return Nr(r)?r:e}var ca=mt?function(e){return null==e?[]:(e=Me(e),At(mt(e),function(t){return qe.call(e,t)}))}:hl,ua=mt?function(e){for(var t=[];e;)Nt(t,ca(e)),e=We(e);return t}:hl,da=wr;function ha(e,t,n){for(var r=-1,i=(t=gi(t,e)).length,a=!1;++r<i;){var o=La(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ko(i)&&ma(o,i)&&(Bo(e)||zo(e))}function fa(e){return"function"!=typeof e.constructor||xa(e)?{}:Un(We(e))}function pa(e){return Bo(e)||zo(e)||!!($e&&e&&e[$e])}function ma(e,t){var n=typeof e;return!!(t=null==t?c:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function ga(e,t,n){if(!Zo(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&ma(t,n.length):"string"==r&&t in n)&&Fo(n[t],e)}function va(e,t){if(Bo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!as(e))||Z.test(e)||!K.test(e)||null!=t&&e in Me(t)}function ya(e){var t=ra(e),n=Fn[t];if("function"!=typeof n||!(t in Bn.prototype))return!1;if(e===n)return!0;var r=na(n);return!!r&&e===r[0]}(_n&&da(new _n(new ArrayBuffer(1)))!=R||wn&&da(new wn)!=x||Sn&&da(Sn.resolve())!=S||Mn&&da(new Mn)!=E||En&&da(new En)!=C)&&(da=function(t){var n=wr(t),r=n==w?t.constructor:e,i=r?Ia(r):"";if(i)switch(i){case Pn:return R;case Rn:return x;case Nn:return S;case kn:return E;case Ln:return C}return n});var ba=Ne?$o:fl;function xa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function _a(e){return e==e&&!Zo(e)}function wa(t,n){return function(r){return null!=r&&r[t]===n&&(n!==e||t in Me(r))}}function Sa(t,n,r){return n=mn(n===e?t.length-1:n,0),function(){for(var e=arguments,i=-1,a=mn(e.length-n,0),o=be(a);++i<a;)o[i]=e[n+i];i=-1;for(var s=be(n+1);++i<n;)s[i]=e[i];return s[n]=r(o),wt(t,this,s)}}function Ma(e,t){return t.length<2?e:xr(e,ei(t,0,-1))}function Ea(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ta=Ra(Zr),Aa=dt||function(e,t){return ut.setTimeout(e,t)},Ca=Ra(Jr);function Pa(e,t,n){var r=t+"";return Ca(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(re,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Mt(h,function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(ie);return t?t[1].split(ae):[]}(r),n)))}function Ra(t){var n=0,r=0;return function(){var i=vn(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(e,arguments)}}function Na(t,n){var r=-1,i=t.length,a=i-1;for(n=n===e?i:n;++r<n;){var o=Gr(r,a),s=t[o];t[o]=t[r],t[r]=s}return t.length=n,t}var ka=function(e){var t=No(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(J,function(e,n,r,i){t.push(r?i.replace(le,"$1"):n||e)}),t});function La(e){if("string"==typeof e||as(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ia(e){if(null!=e){try{return ke.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Oa(e){if(e instanceof Bn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ti(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Da=Xr(function(e,t){return Wo(e)?lr(e,pr(t,1,Wo,!0)):[]}),Fa=Xr(function(t,n){var r=qa(n);return Wo(r)&&(r=e),Wo(t)?lr(t,pr(n,1,Wo,!0),aa(r,2)):[]}),Ua=Xr(function(t,n){var r=qa(n);return Wo(r)&&(r=e),Wo(t)?lr(t,pr(n,1,Wo,!0),e,r):[]});function ja(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=mn(r+i,0)),Ft(e,aa(t,3),i)}function za(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i-1;return r!==e&&(a=ds(r),a=r<0?mn(i+a,0):gn(a,i-1)),Ft(t,aa(n,3),a,!0)}function Ba(e){return null!=e&&e.length?pr(e,1):[]}function Va(t){return t&&t.length?t[0]:e}var Ha=Xr(function(e){var t=Rt(e,pi);return t.length&&t[0]===e[0]?Tr(t):[]}),Wa=Xr(function(t){var n=qa(t),r=Rt(t,pi);return n===qa(r)?n=e:r.pop(),r.length&&r[0]===t[0]?Tr(r,aa(n,2)):[]}),Ga=Xr(function(t){var n=qa(t),r=Rt(t,pi);return(n="function"==typeof n?n:e)&&r.pop(),r.length&&r[0]===t[0]?Tr(r,e,n):[]});function qa(t){var n=null==t?0:t.length;return n?t[n-1]:e}var Xa=Xr($a);function $a(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Ya=Qi(function(e,t){var n=null==e?0:e.length,r=rr(e,t);return Wr(e,Rt(t,function(e){return ma(e,n)?+e:e}).sort(Si)),r});function Ka(e){return null==e?e:xn.call(e)}var Za=Xr(function(e){return si(pr(e,1,Wo,!0))}),Ja=Xr(function(t){var n=qa(t);return Wo(n)&&(n=e),si(pr(t,1,Wo,!0),aa(n,2))}),Qa=Xr(function(t){var n=qa(t);return n="function"==typeof n?n:e,si(pr(t,1,Wo,!0),e,n)});function eo(e){if(!e||!e.length)return[];var t=0;return e=At(e,function(e){if(Wo(e))return t=mn(e.length,t),!0}),qt(t,function(t){return Rt(e,Vt(t))})}function to(t,n){if(!t||!t.length)return[];var r=eo(t);return null==n?r:Rt(r,function(t){return wt(n,e,t)})}var no=Xr(function(e,t){return Wo(e)?lr(e,t):[]}),ro=Xr(function(e){return hi(At(e,Wo))}),io=Xr(function(t){var n=qa(t);return Wo(n)&&(n=e),hi(At(t,Wo),aa(n,2))}),ao=Xr(function(t){var n=qa(t);return n="function"==typeof n?n:e,hi(At(t,Wo),e,n)}),oo=Xr(eo),so=Xr(function(t){var n=t.length,r=n>1?t[n-1]:e;return r="function"==typeof r?(t.pop(),r):e,to(t,r)});function lo(e){var t=Fn(e);return t.__chain__=!0,t}function co(e,t){return t(e)}var uo=Qi(function(t){var n=t.length,r=n?t[0]:0,i=this.__wrapped__,a=function(e){return rr(e,t)};return!(n>1||this.__actions__.length)&&i instanceof Bn&&ma(r)?((i=i.slice(r,+r+(n?1:0))).__actions__.push({func:co,args:[a],thisArg:e}),new zn(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(e),t})):this.thru(a)}),ho=Ci(function(e,t,n){Le.call(e,n)?++e[n]:nr(e,n,1)}),fo=Oi(ja),po=Oi(za);function mo(e,t){return(Bo(e)?Mt:cr)(e,aa(t,3))}function go(e,t){return(Bo(e)?Et:ur)(e,aa(t,3))}var vo=Ci(function(e,t,n){Le.call(e,n)?e[n].push(t):nr(e,n,[t])}),yo=Xr(function(e,t,n){var r=-1,i="function"==typeof t,a=Ho(e)?be(e.length):[];return cr(e,function(e){a[++r]=i?wt(t,e,n):Ar(e,t,n)}),a}),bo=Ci(function(e,t,n){nr(e,n,t)});function xo(e,t){return(Bo(e)?Rt:Dr)(e,aa(t,3))}var _o=Ci(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),wo=Xr(function(e,t){if(null==e)return[];var n=t.length;return n>1&&ga(e,t[0],t[1])?t=[]:n>2&&ga(t[0],t[1],t[2])&&(t=[t[0]]),Br(e,pr(t,1),[])}),So=ct||function(){return ut.Date.now()};function Mo(t,n,r){return n=r?e:n,n=t&&null==n?t.length:n,$i(t,o,e,e,e,e,n)}function Eo(n,r){var i;if("function"!=typeof r)throw new Ae(t);return n=ds(n),function(){return--n>0&&(i=r.apply(this,arguments)),n<=1&&(r=e),i}}var To=Xr(function(e,t,n){var r=1;if(n.length){var i=on(n,ia(To));r|=a}return $i(e,r,t,n,i)}),Ao=Xr(function(e,t,n){var r=3;if(n.length){var i=on(n,ia(Ao));r|=a}return $i(t,r,e,n,i)});function Co(n,r,i){var a,o,s,l,c,u,d=0,h=!1,f=!1,p=!0;if("function"!=typeof n)throw new Ae(t);function m(t){var r=a,i=o;return a=o=e,d=t,l=n.apply(i,r)}function g(t){var n=t-u;return u===e||n>=r||n<0||f&&t-d>=s}function v(){var e=So();if(g(e))return y(e);c=Aa(v,function(e){var t=r-(e-u);return f?gn(t,s-(e-d)):t}(e))}function y(t){return c=e,p&&a?m(t):(a=o=e,l)}function b(){var t=So(),n=g(t);if(a=arguments,o=this,u=t,n){if(c===e)return function(e){return d=e,c=Aa(v,r),h?m(e):l}(u);if(f)return bi(c),c=Aa(v,r),m(u)}return c===e&&(c=Aa(v,r)),l}return r=fs(r)||0,Zo(i)&&(h=!!i.leading,s=(f="maxWait"in i)?mn(fs(i.maxWait)||0,r):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==e&&bi(c),d=0,a=u=o=c=e},b.flush=function(){return c===e?l:y(So())},b}var Po=Xr(function(e,t){return sr(e,1,t)}),Ro=Xr(function(e,t,n){return sr(e,fs(t)||0,n)});function No(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new Ae(t);var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,t);return r.cache=a.set(i,o)||a,o};return r.cache=new(No.Cache||Wn),r}function ko(e){if("function"!=typeof e)throw new Ae(t);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}No.Cache=Wn;var Lo=vi(function(e,t){var n=(t=1==t.length&&Bo(t[0])?Rt(t[0],$t(aa())):Rt(pr(t,1),$t(aa()))).length;return Xr(function(r){for(var i=-1,a=gn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return wt(e,this,r)})}),Io=Xr(function(t,n){var r=on(n,ia(Io));return $i(t,a,e,n,r)}),Oo=Xr(function(t,n){var r=on(n,ia(Oo));return $i(t,64,e,n,r)}),Do=Qi(function(t,n){return $i(t,s,e,e,e,n)});function Fo(e,t){return e===t||e!=e&&t!=t}var Uo=Hi(Sr),jo=Hi(function(e,t){return e>=t}),zo=Cr(function(){return arguments}())?Cr:function(e){return Jo(e)&&Le.call(e,"callee")&&!qe.call(e,"callee")},Bo=be.isArray,Vo=gt?$t(gt):function(e){return Jo(e)&&wr(e)==P};function Ho(e){return null!=e&&Ko(e.length)&&!$o(e)}function Wo(e){return Jo(e)&&Ho(e)}var Go=Ot||fl,qo=vt?$t(vt):function(e){return Jo(e)&&wr(e)==g};function Xo(e){if(!Jo(e))return!1;var t=wr(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ts(e)}function $o(e){if(!Zo(e))return!1;var t=wr(e);return t==y||t==b||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Yo(e){return"number"==typeof e&&e==ds(e)}function Ko(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=c}function Zo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Jo(e){return null!=e&&"object"==typeof e}var Qo=yt?$t(yt):function(e){return Jo(e)&&da(e)==x};function es(e){return"number"==typeof e||Jo(e)&&wr(e)==_}function ts(e){if(!Jo(e)||wr(e)!=w)return!1;var t=We(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ke.call(n)==Fe}var ns=bt?$t(bt):function(e){return Jo(e)&&wr(e)==M},rs=xt?$t(xt):function(e){return Jo(e)&&da(e)==E};function is(e){return"string"==typeof e||!Bo(e)&&Jo(e)&&wr(e)==T}function as(e){return"symbol"==typeof e||Jo(e)&&wr(e)==A}var os=_t?$t(_t):function(e){return Jo(e)&&Ko(e.length)&&!!rt[wr(e)]},ss=Hi(Or),ls=Hi(function(e,t){return e<=t});function cs(e){if(!e)return[];if(Ho(e))return is(e)?cn(e):Ti(e);if(Ze&&e[Ze])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ze]());var t=da(e);return(t==x?rn:t==E?sn:Fs)(e)}function us(e){return e?(e=fs(e))===l||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ds(e){var t=us(e),n=t%1;return t==t?n?t-n:t:0}function hs(e){return e?ir(ds(e),0,d):0}function fs(e){if("number"==typeof e)return e;if(as(e))return u;if(Zo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=he.test(e);return n||pe.test(e)?st(e.slice(2),n?2:8):de.test(e)?u:+e}function ps(e){return Ai(e,Ps(e))}function ms(e){return null==e?"":oi(e)}var gs=Pi(function(e,t){if(xa(t)||Ho(t))Ai(t,Cs(t),e);else for(var n in t)Le.call(t,n)&&Jn(e,n,t[n])}),vs=Pi(function(e,t){Ai(t,Ps(t),e)}),ys=Pi(function(e,t,n,r){Ai(t,Ps(t),e,r)}),bs=Pi(function(e,t,n,r){Ai(t,Cs(t),e,r)}),xs=Qi(rr),_s=Xr(function(t,n){t=Me(t);var r=-1,i=n.length,a=i>2?n[2]:e;for(a&&ga(n[0],n[1],a)&&(i=1);++r<i;)for(var o=n[r],s=Ps(o),l=-1,c=s.length;++l<c;){var u=s[l],d=t[u];(d===e||Fo(d,Re[u])&&!Le.call(t,u))&&(t[u]=o[u])}return t}),ws=Xr(function(t){return t.push(e,Ki),wt(Ns,e,t)});function Ss(t,n,r){var i=null==t?e:xr(t,n);return i===e?r:i}function Ms(e,t){return null!=e&&ha(e,t,Er)}var Es=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),e[t]=n},Zs(el)),Ts=Ui(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=De.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]},aa),As=Xr(Ar);function Cs(e){return Ho(e)?Xn(e):Lr(e)}function Ps(e){return Ho(e)?Xn(e,!0):Ir(e)}var Rs=Pi(function(e,t,n){jr(e,t,n)}),Ns=Pi(function(e,t,n,r){jr(e,t,n,r)}),ks=Qi(function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,function(t){return t=gi(t,e),r||(r=t.length>1),t}),Ai(e,ta(e),n),r&&(n=ar(n,7,Zi));for(var i=t.length;i--;)li(n,t[i]);return n}),Ls=Qi(function(e,t){return null==e?{}:function(e,t){return Vr(e,t,function(t,n){return Ms(e,n)})}(e,t)});function Is(e,t){if(null==e)return{};var n=Rt(ta(e),function(e){return[e]});return t=aa(t),Vr(e,n,function(e,n){return t(e,n[0])})}var Os=Xi(Cs),Ds=Xi(Ps);function Fs(e){return null==e?[]:Yt(e,Cs(e))}var Us=Li(function(e,t,n){return t=t.toLowerCase(),e+(n?js(t):t)});function js(e){return Xs(ms(e).toLowerCase())}function zs(e){return(e=ms(e))&&e.replace(ge,Qt).replace(Ke,"")}var Bs=Li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Vs=Li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Hs=ki("toLowerCase"),Ws=Li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Gs=Li(function(e,t,n){return e+(n?" ":"")+Xs(t)}),qs=Li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xs=ki("toUpperCase");function $s(t,n,r){return t=ms(t),(n=r?e:n)===e?function(e){return et.test(e)}(t)?function(e){return e.match(Je)||[]}(t):function(e){return e.match(oe)||[]}(t):t.match(n)||[]}var Ys=Xr(function(t,n){try{return wt(t,e,n)}catch(r){return Xo(r)?r:new _e(r)}}),Ks=Qi(function(e,t){return Mt(t,function(t){t=La(t),nr(e,t,To(e[t],e))}),e});function Zs(e){return function(){return e}}var Js=Di(),Qs=Di(!0);function el(e){return e}function tl(e){return kr("function"==typeof e?e:ar(e,1))}var nl=Xr(function(e,t){return function(n){return Ar(n,e,t)}}),rl=Xr(function(e,t){return function(n){return Ar(e,n,t)}});function il(e,t,n){var r=Cs(t),i=br(t,r);null!=n||Zo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=br(t,Cs(t)));var a=!(Zo(n)&&"chain"in n&&!n.chain),o=$o(e);return Mt(i,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ti(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})}),e}function al(){}var ol=zi(Rt),sl=zi(Tt),ll=zi(It);function cl(e){return va(e)?Vt(La(e)):function(e){return function(t){return xr(t,e)}}(e)}var ul=Vi(),dl=Vi(!0);function hl(){return[]}function fl(){return!1}var pl,ml=ji(function(e,t){return e+t},0),gl=Gi("ceil"),vl=ji(function(e,t){return e/t},1),yl=Gi("floor"),bl=ji(function(e,t){return e*t},1),xl=Gi("round"),_l=ji(function(e,t){return e-t},0);return Fn.after=function(e,n){if("function"!=typeof n)throw new Ae(t);return e=ds(e),function(){if(--e<1)return n.apply(this,arguments)}},Fn.ary=Mo,Fn.assign=gs,Fn.assignIn=vs,Fn.assignInWith=ys,Fn.assignWith=bs,Fn.at=xs,Fn.before=Eo,Fn.bind=To,Fn.bindAll=Ks,Fn.bindKey=Ao,Fn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Bo(e)?e:[e]},Fn.chain=lo,Fn.chunk=function(t,n,r){n=(r?ga(t,n,r):n===e)?1:mn(ds(n),0);var i=null==t?0:t.length;if(!i||n<1)return[];for(var a=0,o=0,s=be(ht(i/n));a<i;)s[o++]=ei(t,a,a+=n);return s},Fn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Fn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=be(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Nt(Bo(n)?Ti(n):[n],pr(t,1))},Fn.cond=function(e){var n=null==e?0:e.length,r=aa();return e=n?Rt(e,function(e){if("function"!=typeof e[1])throw new Ae(t);return[r(e[0]),e[1]]}):[],Xr(function(t){for(var r=-1;++r<n;){var i=e[r];if(wt(i[0],this,t))return wt(i[1],this,t)}})},Fn.conforms=function(e){return function(e){var t=Cs(e);return function(n){return or(n,e,t)}}(ar(e,1))},Fn.constant=Zs,Fn.countBy=ho,Fn.create=function(e,t){var n=Un(e);return null==t?n:tr(n,t)},Fn.curry=function t(n,r,i){var a=$i(n,8,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Fn.curryRight=function t(n,r,i){var a=$i(n,16,e,e,e,e,e,r=i?e:r);return a.placeholder=t.placeholder,a},Fn.debounce=Co,Fn.defaults=_s,Fn.defaultsDeep=ws,Fn.defer=Po,Fn.delay=Ro,Fn.difference=Da,Fn.differenceBy=Fa,Fn.differenceWith=Ua,Fn.drop=function(t,n,r){var i=null==t?0:t.length;return i?ei(t,(n=r||n===e?1:ds(n))<0?0:n,i):[]},Fn.dropRight=function(t,n,r){var i=null==t?0:t.length;return i?ei(t,0,(n=i-(n=r||n===e?1:ds(n)))<0?0:n):[]},Fn.dropRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0,!0):[]},Fn.dropWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!0):[]},Fn.fill=function(t,n,r,i){var a=null==t?0:t.length;return a?(r&&"number"!=typeof r&&ga(t,n,r)&&(r=0,i=a),function(t,n,r,i){var a=t.length;for((r=ds(r))<0&&(r=-r>a?0:a+r),(i=i===e||i>a?a:ds(i))<0&&(i+=a),i=r>i?0:hs(i);r<i;)t[r++]=n;return t}(t,n,r,i)):[]},Fn.filter=function(e,t){return(Bo(e)?At:fr)(e,aa(t,3))},Fn.flatMap=function(e,t){return pr(xo(e,t),1)},Fn.flatMapDeep=function(e,t){return pr(xo(e,t),l)},Fn.flatMapDepth=function(t,n,r){return r=r===e?1:ds(r),pr(xo(t,n),r)},Fn.flatten=Ba,Fn.flattenDeep=function(e){return null!=e&&e.length?pr(e,l):[]},Fn.flattenDepth=function(t,n){return null!=t&&t.length?pr(t,n=n===e?1:ds(n)):[]},Fn.flip=function(e){return $i(e,512)},Fn.flow=Js,Fn.flowRight=Qs,Fn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Fn.functions=function(e){return null==e?[]:br(e,Cs(e))},Fn.functionsIn=function(e){return null==e?[]:br(e,Ps(e))},Fn.groupBy=vo,Fn.initial=function(e){return null!=e&&e.length?ei(e,0,-1):[]},Fn.intersection=Ha,Fn.intersectionBy=Wa,Fn.intersectionWith=Ga,Fn.invert=Es,Fn.invertBy=Ts,Fn.invokeMap=yo,Fn.iteratee=tl,Fn.keyBy=bo,Fn.keys=Cs,Fn.keysIn=Ps,Fn.map=xo,Fn.mapKeys=function(e,t){var n={};return t=aa(t,3),vr(e,function(e,r,i){nr(n,t(e,r,i),e)}),n},Fn.mapValues=function(e,t){var n={};return t=aa(t,3),vr(e,function(e,r,i){nr(n,r,t(e,r,i))}),n},Fn.matches=function(e){return Fr(ar(e,1))},Fn.matchesProperty=function(e,t){return Ur(e,ar(t,1))},Fn.memoize=No,Fn.merge=Rs,Fn.mergeWith=Ns,Fn.method=nl,Fn.methodOf=rl,Fn.mixin=il,Fn.negate=ko,Fn.nthArg=function(e){return e=ds(e),Xr(function(t){return zr(t,e)})},Fn.omit=ks,Fn.omitBy=function(e,t){return Is(e,ko(aa(t)))},Fn.once=function(e){return Eo(2,e)},Fn.orderBy=function(t,n,r,i){return null==t?[]:(Bo(n)||(n=null==n?[]:[n]),Bo(r=i?e:r)||(r=null==r?[]:[r]),Br(t,n,r))},Fn.over=ol,Fn.overArgs=Lo,Fn.overEvery=sl,Fn.overSome=ll,Fn.partial=Io,Fn.partialRight=Oo,Fn.partition=_o,Fn.pick=Ls,Fn.pickBy=Is,Fn.property=cl,Fn.propertyOf=function(t){return function(n){return null==t?e:xr(t,n)}},Fn.pull=Xa,Fn.pullAll=$a,Fn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,aa(n,2)):e},Fn.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?Hr(t,n,e,r):t},Fn.pullAt=Ya,Fn.range=ul,Fn.rangeRight=dl,Fn.rearg=Do,Fn.reject=function(e,t){return(Bo(e)?At:fr)(e,ko(aa(t,3)))},Fn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=aa(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Wr(e,i),n},Fn.rest=function(n,r){if("function"!=typeof n)throw new Ae(t);return Xr(n,r=r===e?r:ds(r))},Fn.reverse=Ka,Fn.sampleSize=function(t,n,r){return n=(r?ga(t,n,r):n===e)?1:ds(n),(Bo(t)?Yn:Yr)(t,n)},Fn.set=function(e,t,n){return null==e?e:Kr(e,t,n)},Fn.setWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:Kr(t,n,r,i)},Fn.shuffle=function(e){return(Bo(e)?Kn:Qr)(e)},Fn.slice=function(t,n,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&ga(t,n,r)?(n=0,r=i):(n=null==n?0:ds(n),r=r===e?i:ds(r)),ei(t,n,r)):[]},Fn.sortBy=wo,Fn.sortedUniq=function(e){return e&&e.length?ii(e):[]},Fn.sortedUniqBy=function(e,t){return e&&e.length?ii(e,aa(t,2)):[]},Fn.split=function(t,n,r){return r&&"number"!=typeof r&&ga(t,n,r)&&(n=r=e),(r=r===e?d:r>>>0)?(t=ms(t))&&("string"==typeof n||null!=n&&!ns(n))&&!(n=oi(n))&&nn(t)?yi(cn(t),0,r):t.split(n,r):[]},Fn.spread=function(e,n){if("function"!=typeof e)throw new Ae(t);return n=null==n?0:mn(ds(n),0),Xr(function(t){var r=t[n],i=yi(t,0,n);return r&&Nt(i,r),wt(e,this,i)})},Fn.tail=function(e){var t=null==e?0:e.length;return t?ei(e,1,t):[]},Fn.take=function(t,n,r){return t&&t.length?ei(t,0,(n=r||n===e?1:ds(n))<0?0:n):[]},Fn.takeRight=function(t,n,r){var i=null==t?0:t.length;return i?ei(t,(n=i-(n=r||n===e?1:ds(n)))<0?0:n,i):[]},Fn.takeRightWhile=function(e,t){return e&&e.length?ui(e,aa(t,3),!1,!0):[]},Fn.takeWhile=function(e,t){return e&&e.length?ui(e,aa(t,3)):[]},Fn.tap=function(e,t){return t(e),e},Fn.throttle=function(e,n,r){var i=!0,a=!0;if("function"!=typeof e)throw new Ae(t);return Zo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),Co(e,n,{leading:i,maxWait:n,trailing:a})},Fn.thru=co,Fn.toArray=cs,Fn.toPairs=Os,Fn.toPairsIn=Ds,Fn.toPath=function(e){return Bo(e)?Rt(e,La):as(e)?[e]:Ti(ka(ms(e)))},Fn.toPlainObject=ps,Fn.transform=function(e,t,n){var r=Bo(e),i=r||Go(e)||os(e);if(t=aa(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Zo(e)&&$o(a)?Un(We(e)):{}}return(i?Mt:vr)(e,function(e,r,i){return t(n,e,r,i)}),n},Fn.unary=function(e){return Mo(e,1)},Fn.union=Za,Fn.unionBy=Ja,Fn.unionWith=Qa,Fn.uniq=function(e){return e&&e.length?si(e):[]},Fn.uniqBy=function(e,t){return e&&e.length?si(e,aa(t,2)):[]},Fn.uniqWith=function(t,n){return n="function"==typeof n?n:e,t&&t.length?si(t,e,n):[]},Fn.unset=function(e,t){return null==e||li(e,t)},Fn.unzip=eo,Fn.unzipWith=to,Fn.update=function(e,t,n){return null==e?e:ci(e,t,mi(n))},Fn.updateWith=function(t,n,r,i){return i="function"==typeof i?i:e,null==t?t:ci(t,n,mi(r),i)},Fn.values=Fs,Fn.valuesIn=function(e){return null==e?[]:Yt(e,Ps(e))},Fn.without=no,Fn.words=$s,Fn.wrap=function(e,t){return Io(mi(t),e)},Fn.xor=ro,Fn.xorBy=io,Fn.xorWith=ao,Fn.zip=oo,Fn.zipObject=function(e,t){return fi(e||[],t||[],Jn)},Fn.zipObjectDeep=function(e,t){return fi(e||[],t||[],Kr)},Fn.zipWith=so,Fn.entries=Os,Fn.entriesIn=Ds,Fn.extend=vs,Fn.extendWith=ys,il(Fn,Fn),Fn.add=ml,Fn.attempt=Ys,Fn.camelCase=Us,Fn.capitalize=js,Fn.ceil=gl,Fn.clamp=function(t,n,r){return r===e&&(r=n,n=e),r!==e&&(r=(r=fs(r))==r?r:0),n!==e&&(n=(n=fs(n))==n?n:0),ir(fs(t),n,r)},Fn.clone=function(e){return ar(e,4)},Fn.cloneDeep=function(e){return ar(e,5)},Fn.cloneDeepWith=function(t,n){return ar(t,5,n="function"==typeof n?n:e)},Fn.cloneWith=function(t,n){return ar(t,4,n="function"==typeof n?n:e)},Fn.conformsTo=function(e,t){return null==t||or(e,t,Cs(t))},Fn.deburr=zs,Fn.defaultTo=function(e,t){return null==e||e!=e?t:e},Fn.divide=vl,Fn.endsWith=function(t,n,r){t=ms(t),n=oi(n);var i=t.length,a=r=r===e?i:ir(ds(r),0,i);return(r-=n.length)>=0&&t.slice(r,a)==n},Fn.eq=Fo,Fn.escape=function(e){return(e=ms(e))&&q.test(e)?e.replace(W,en):e},Fn.escapeRegExp=function(e){return(e=ms(e))&&ee.test(e)?e.replace(Q,"\\$&"):e},Fn.every=function(t,n,r){var i=Bo(t)?Tt:dr;return r&&ga(t,n,r)&&(n=e),i(t,aa(n,3))},Fn.find=fo,Fn.findIndex=ja,Fn.findKey=function(e,t){return Dt(e,aa(t,3),vr)},Fn.findLast=po,Fn.findLastIndex=za,Fn.findLastKey=function(e,t){return Dt(e,aa(t,3),yr)},Fn.floor=yl,Fn.forEach=mo,Fn.forEachRight=go,Fn.forIn=function(e,t){return null==e?e:mr(e,aa(t,3),Ps)},Fn.forInRight=function(e,t){return null==e?e:gr(e,aa(t,3),Ps)},Fn.forOwn=function(e,t){return e&&vr(e,aa(t,3))},Fn.forOwnRight=function(e,t){return e&&yr(e,aa(t,3))},Fn.get=Ss,Fn.gt=Uo,Fn.gte=jo,Fn.has=function(e,t){return null!=e&&ha(e,t,Mr)},Fn.hasIn=Ms,Fn.head=Va,Fn.identity=el,Fn.includes=function(e,t,n,r){e=Ho(e)?e:Fs(e),n=n&&!r?ds(n):0;var i=e.length;return n<0&&(n=mn(i+n,0)),is(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Fn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ds(n);return i<0&&(i=mn(r+i,0)),Ut(e,t,i)},Fn.inRange=function(t,n,r){return n=us(n),r===e?(r=n,n=0):r=us(r),function(e,t,n){return e>=gn(t,n)&&e<mn(t,n)}(t=fs(t),n,r)},Fn.invoke=As,Fn.isArguments=zo,Fn.isArray=Bo,Fn.isArrayBuffer=Vo,Fn.isArrayLike=Ho,Fn.isArrayLikeObject=Wo,Fn.isBoolean=function(e){return!0===e||!1===e||Jo(e)&&wr(e)==m},Fn.isBuffer=Go,Fn.isDate=qo,Fn.isElement=function(e){return Jo(e)&&1===e.nodeType&&!ts(e)},Fn.isEmpty=function(e){if(null==e)return!0;if(Ho(e)&&(Bo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||os(e)||zo(e)))return!e.length;var t=da(e);if(t==x||t==E)return!e.size;if(xa(e))return!Lr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Fn.isEqual=function(e,t){return Pr(e,t)},Fn.isEqualWith=function(t,n,r){var i=(r="function"==typeof r?r:e)?r(t,n):e;return i===e?Pr(t,n,e,r):!!i},Fn.isError=Xo,Fn.isFinite=function(e){return"number"==typeof e&&Ht(e)},Fn.isFunction=$o,Fn.isInteger=Yo,Fn.isLength=Ko,Fn.isMap=Qo,Fn.isMatch=function(e,t){return e===t||Rr(e,t,sa(t))},Fn.isMatchWith=function(t,n,r){return r="function"==typeof r?r:e,Rr(t,n,sa(n),r)},Fn.isNaN=function(e){return es(e)&&e!=+e},Fn.isNative=function(e){if(ba(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},Fn.isNil=function(e){return null==e},Fn.isNull=function(e){return null===e},Fn.isNumber=es,Fn.isObject=Zo,Fn.isObjectLike=Jo,Fn.isPlainObject=ts,Fn.isRegExp=ns,Fn.isSafeInteger=function(e){return Yo(e)&&e>=-9007199254740991&&e<=c},Fn.isSet=rs,Fn.isString=is,Fn.isSymbol=as,Fn.isTypedArray=os,Fn.isUndefined=function(t){return t===e},Fn.isWeakMap=function(e){return Jo(e)&&da(e)==C},Fn.isWeakSet=function(e){return Jo(e)&&"[object WeakSet]"==wr(e)},Fn.join=function(e,t){return null==e?"":fn.call(e,t)},Fn.kebabCase=Bs,Fn.last=qa,Fn.lastIndexOf=function(t,n,r){var i=null==t?0:t.length;if(!i)return-1;var a=i;return r!==e&&(a=(a=ds(r))<0?mn(i+a,0):gn(a,i-1)),n==n?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(t,n,a):Ft(t,zt,a,!0)},Fn.lowerCase=Vs,Fn.lowerFirst=Hs,Fn.lt=ss,Fn.lte=ls,Fn.max=function(t){return t&&t.length?hr(t,el,Sr):e},Fn.maxBy=function(t,n){return t&&t.length?hr(t,aa(n,2),Sr):e},Fn.mean=function(e){return Bt(e,el)},Fn.meanBy=function(e,t){return Bt(e,aa(t,2))},Fn.min=function(t){return t&&t.length?hr(t,el,Or):e},Fn.minBy=function(t,n){return t&&t.length?hr(t,aa(n,2),Or):e},Fn.stubArray=hl,Fn.stubFalse=fl,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=bl,Fn.nth=function(t,n){return t&&t.length?zr(t,ds(n)):e},Fn.noConflict=function(){return ut._===this&&(ut._=Ue),this},Fn.noop=al,Fn.now=So,Fn.pad=function(e,t,n){e=ms(e);var r=(t=ds(t))?ln(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Bi(pt(i),n)+e+Bi(ht(i),n)},Fn.padEnd=function(e,t,n){e=ms(e);var r=(t=ds(t))?ln(e):0;return t&&r<t?e+Bi(t-r,n):e},Fn.padStart=function(e,t,n){e=ms(e);var r=(t=ds(t))?ln(e):0;return t&&r<t?Bi(t-r,n)+e:e},Fn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(ms(e).replace(te,""),t||0)},Fn.random=function(t,n,r){if(r&&"boolean"!=typeof r&&ga(t,n,r)&&(n=r=e),r===e&&("boolean"==typeof n?(r=n,n=e):"boolean"==typeof t&&(r=t,t=e)),t===e&&n===e?(t=0,n=1):(t=us(t),n===e?(n=t,t=0):n=us(n)),t>n){var i=t;t=n,n=i}if(r||t%1||n%1){var a=bn();return gn(t+a*(n-t+ot("1e-"+((a+"").length-1))),n)}return Gr(t,n)},Fn.reduce=function(e,t,n){var r=Bo(e)?kt:Wt,i=arguments.length<3;return r(e,aa(t,4),n,i,cr)},Fn.reduceRight=function(e,t,n){var r=Bo(e)?Lt:Wt,i=arguments.length<3;return r(e,aa(t,4),n,i,ur)},Fn.repeat=function(t,n,r){return n=(r?ga(t,n,r):n===e)?1:ds(n),qr(ms(t),n)},Fn.replace=function(){var e=arguments,t=ms(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Fn.result=function(t,n,r){var i=-1,a=(n=gi(n,t)).length;for(a||(a=1,t=e);++i<a;){var o=null==t?e:t[La(n[i])];o===e&&(i=a,o=r),t=$o(o)?o.call(t):o}return t},Fn.round=xl,Fn.runInContext=r,Fn.sample=function(e){return(Bo(e)?$n:$r)(e)},Fn.size=function(e){if(null==e)return 0;if(Ho(e))return is(e)?ln(e):e.length;var t=da(e);return t==x||t==E?e.size:Lr(e).length},Fn.snakeCase=Ws,Fn.some=function(t,n,r){var i=Bo(t)?It:ti;return r&&ga(t,n,r)&&(n=e),i(t,aa(n,3))},Fn.sortedIndex=function(e,t){return ni(e,t)},Fn.sortedIndexBy=function(e,t,n){return ri(e,t,aa(n,2))},Fn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ni(e,t);if(r<n&&Fo(e[r],t))return r}return-1},Fn.sortedLastIndex=function(e,t){return ni(e,t,!0)},Fn.sortedLastIndexBy=function(e,t,n){return ri(e,t,aa(n,2),!0)},Fn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=ni(e,t,!0)-1;if(Fo(e[n],t))return n}return-1},Fn.startCase=Gs,Fn.startsWith=function(e,t,n){return e=ms(e),n=null==n?0:ir(ds(n),0,e.length),t=oi(t),e.slice(n,n+t.length)==t},Fn.subtract=_l,Fn.sum=function(e){return e&&e.length?Gt(e,el):0},Fn.sumBy=function(e,t){return e&&e.length?Gt(e,aa(t,2)):0},Fn.template=function(t,n,r){var i=Fn.templateSettings;r&&ga(t,n,r)&&(n=e),t=ms(t),n=ys({},n,i,Yi);var a,o,s=ys({},n.imports,i.imports,Yi),l=Cs(s),c=Yt(s,l),u=0,d=n.interpolate||ve,h="__p += '",f=Ee((n.escape||ve).source+"|"+d.source+"|"+(d===Y?ce:ve).source+"|"+(n.evaluate||ve).source+"|$","g"),p="//# sourceURL="+(Le.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++nt+"]")+"\n";t.replace(f,function(e,n,r,i,s,l){return r||(r=i),h+=t.slice(u,l).replace(ye,tn),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var m=Le.call(n,"variable")&&n.variable;if(m){if(se.test(m))throw new _e("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(z,""):h).replace(B,"$1").replace(V,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ys(function(){return we(l,p+"return "+h).apply(e,c)});if(g.source=h,Xo(g))throw g;return g},Fn.times=function(e,t){if((e=ds(e))<1||e>c)return[];var n=d,r=gn(e,d);t=aa(t),e-=d;for(var i=qt(r,t);++n<e;)t(n);return i},Fn.toFinite=us,Fn.toInteger=ds,Fn.toLength=hs,Fn.toLower=function(e){return ms(e).toLowerCase()},Fn.toNumber=fs,Fn.toSafeInteger=function(e){return e?ir(ds(e),-9007199254740991,c):0===e?e:0},Fn.toString=ms,Fn.toUpper=function(e){return ms(e).toUpperCase()},Fn.trim=function(t,n,r){if((t=ms(t))&&(r||n===e))return Xt(t);if(!t||!(n=oi(n)))return t;var i=cn(t),a=cn(n);return yi(i,Zt(i,a),Jt(i,a)+1).join("")},Fn.trimEnd=function(t,n,r){if((t=ms(t))&&(r||n===e))return t.slice(0,un(t)+1);if(!t||!(n=oi(n)))return t;var i=cn(t);return yi(i,0,Jt(i,cn(n))+1).join("")},Fn.trimStart=function(t,n,r){if((t=ms(t))&&(r||n===e))return t.replace(te,"");if(!t||!(n=oi(n)))return t;var i=cn(t);return yi(i,Zt(i,cn(n))).join("")},Fn.truncate=function(t,n){var r=30,i="...";if(Zo(n)){var a="separator"in n?n.separator:a;r="length"in n?ds(n.length):r,i="omission"in n?oi(n.omission):i}var o=(t=ms(t)).length;if(nn(t)){var s=cn(t);o=s.length}if(r>=o)return t;var l=r-ln(i);if(l<1)return i;var c=s?yi(s,0,l).join(""):t.slice(0,l);if(a===e)return c+i;if(s&&(l+=c.length-l),ns(a)){if(t.slice(l).search(a)){var u,d=c;for(a.global||(a=Ee(a.source,ms(ue.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var h=u.index;c=c.slice(0,h===e?l:h)}}else if(t.indexOf(oi(a),l)!=l){var f=c.lastIndexOf(a);f>-1&&(c=c.slice(0,f))}return c+i},Fn.unescape=function(e){return(e=ms(e))&&G.test(e)?e.replace(H,dn):e},Fn.uniqueId=function(e){var t=++Ie;return ms(e)+t},Fn.upperCase=qs,Fn.upperFirst=Xs,Fn.each=mo,Fn.eachRight=go,Fn.first=Va,il(Fn,(pl={},vr(Fn,function(e,t){Le.call(Fn.prototype,t)||(pl[t]=e)}),pl),{chain:!1}),Fn.VERSION="4.17.23",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Fn[e].placeholder=Fn}),Mt(["drop","take"],function(t,n){Bn.prototype[t]=function(r){r=r===e?1:mn(ds(r),0);var i=this.__filtered__&&!n?new Bn(this):this.clone();return i.__filtered__?i.__takeCount__=gn(r,i.__takeCount__):i.__views__.push({size:gn(r,d),type:t+(i.__dir__<0?"Right":"")}),i},Bn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Mt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Bn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:aa(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Mt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Bn.prototype[e]=function(){return this[n](1).value()[0]}}),Mt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Bn.prototype[e]=function(){return this.__filtered__?new Bn(this):this[n](1)}}),Bn.prototype.compact=function(){return this.filter(el)},Bn.prototype.find=function(e){return this.filter(e).head()},Bn.prototype.findLast=function(e){return this.reverse().find(e)},Bn.prototype.invokeMap=Xr(function(e,t){return"function"==typeof e?new Bn(this):this.map(function(n){return Ar(n,e,t)})}),Bn.prototype.reject=function(e){return this.filter(ko(aa(e)))},Bn.prototype.slice=function(t,n){t=ds(t);var r=this;return r.__filtered__&&(t>0||n<0)?new Bn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==e&&(r=(n=ds(n))<0?r.dropRight(-n):r.take(n-t)),r)},Bn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Bn.prototype.toArray=function(){return this.take(d)},vr(Bn.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),a=Fn[i?"take"+("last"==n?"Right":""):n],o=i||/^find/.test(n);a&&(Fn.prototype[n]=function(){var n=this.__wrapped__,s=i?[1]:arguments,l=n instanceof Bn,c=s[0],u=l||Bo(n),d=function(e){var t=a.apply(Fn,Nt([e],s));return i&&h?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(l=u=!1);var h=this.__chain__,f=!!this.__actions__.length,p=o&&!h,m=l&&!f;if(!o&&u){n=m?n:new Bn(this);var g=t.apply(n,s);return g.__actions__.push({func:co,args:[d],thisArg:e}),new zn(g,h)}return p&&m?t.apply(this,s):(g=this.thru(d),p?i?g.value()[0]:g.value():g)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ce[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Fn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Bo(i)?i:[],e)}return this[n](function(n){return t.apply(Bo(n)?n:[],e)})}}),vr(Bn.prototype,function(e,t){var n=Fn[t];if(n){var r=n.name+"";Le.call(Cn,r)||(Cn[r]=[]),Cn[r].push({name:t,func:n})}}),Cn[Fi(e,2).name]=[{name:"wrapper",func:e}],Bn.prototype.clone=function(){var e=new Bn(this.__wrapped__);return e.__actions__=Ti(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ti(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ti(this.__views__),e},Bn.prototype.reverse=function(){if(this.__filtered__){var e=new Bn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Bn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Bo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=gn(t,e+o);break;case"takeRight":e=mn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,c=r?s:o-1,u=this.__iteratees__,d=u.length,h=0,f=gn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return di(e,this.__actions__);var p=[];e:for(;l--&&h<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,x=y(g);if(2==b)g=x;else if(!x){if(1==b)continue e;break e}}p[h++]=g}return p},Fn.prototype.at=uo,Fn.prototype.chain=function(){return lo(this)},Fn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===e&&(this.__values__=cs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var n,r=this;r instanceof jn;){var i=Oa(r);i.__index__=0,i.__values__=e,n?a.__wrapped__=i:n=i;var a=i;r=r.__wrapped__}return a.__wrapped__=t,n},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Bn){var n=t;return this.__actions__.length&&(n=new Bn(this)),(n=n.reverse()).__actions__.push({func:co,args:[Ka],thisArg:e}),new zn(n,this.__chain__)}return this.thru(Ka)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return di(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Ze&&(Fn.prototype[Ze]=function(){return this}),Fn}();ht?((ht.exports=hn)._=hn,dt._=hn):ut._=hn}.call(XH.exports)),XH.exports);const YH=i($H);window._=YH,window.axios=sv,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",async function({id:e="app",resolve:t,setup:n,title:r,progress:i={},page:a,render:o,defaults:s={}}){px.replace(s);const l="undefined"==typeof window,c=px.get("future.useScriptElementForInitialPage"),u=a||((e,t=!1)=>{if("undefined"==typeof window)return null;if(!t){const t=document.getElementById(e);if(t?.dataset.page)return JSON.parse(t.dataset.page)}const n=document.querySelector(`script[data-page="${e}"][type="application/json"]`);return n?.textContent?JSON.parse(n.textContent):null})(e,c),d=e=>Promise.resolve(t(e)).then(e=>e.default||e);let h=[];const f=await Promise.all([d(u.component),_b.decryptHistory().catch(()=>{})]).then(([t])=>{const i={initialPage:u,initialComponent:t,resolveComponent:d,titleCallback:r};return n(l?{el:null,App:nx,props:{...i,onHeadUpdate:e=>h=e}}:{el:document.getElementById(e),App:nx,props:i})});if(!l&&i&&function({delay:e=250,color:t="#29d",includeCSS:n=!0,showSpinner:r=!1}={}){pb(e),hb.configure({showSpinner:r,includeCSS:n,color:t})}(i),l&&o){const t=()=>c?T.createElement(T.Fragment,null,T.createElement("script",{"data-page":e,type:"application/json",dangerouslySetInnerHTML:{__html:JSON.stringify(u).replace(/\//g,"\\/")}}),T.createElement("div",{id:e},f)):T.createElement("div",{id:e,"data-page":JSON.stringify(u)},f);await o(t())}}({resolve:e=>Object.assign({"./Pages/AlbumDetail.jsx":OE,"./Pages/ArchivePage.jsx":ZE,"./Pages/DiscoverPage.jsx":JE,"./Pages/Home.jsx":AH,"./Pages/LatestNews.jsx":RH,"./Pages/LatestShow.jsx":LH,"./Pages/Music.jsx":jH,"./Pages/StorePage.jsx":BH,"./Pages/VideoPage.jsx":HH,"./Pages/partials/AlbumItem.jsx":DH,"./Pages/partials/AlbumSelector.jsx":UH,"./Pages/partials/Albums.jsx":dH,"./Pages/partials/Archive.jsx":xH,"./Pages/partials/Back.jsx":AE,"./Pages/partials/Discover.jsx":iT,"./Pages/partials/Footer.jsx":Gx,"./Pages/partials/Hero.jsx":eT,"./Pages/partials/LatestNews.jsx":TH,"./Pages/partials/NewsCard.jsx":PH,"./Pages/partials/Video.jsx":SH})[`./Pages/${e}.jsx`],setup({el:e,App:t,props:n}){aH.createRoot(e).render(u.jsxs(u.Fragment,{children:[u.jsx(_x,{}),u.jsx(t,{...n})]}))},progress:!1})}},function(){return t||(0,e[n(e)[0]])((t={exports:{}}).exports,t),t.exports});export default r();
