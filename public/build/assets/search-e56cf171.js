function e(){const e=[{id:"discover",label:"Discover"},{id:"sounds",label:"Sounds"},{id:"shows",label:"Shows"},{id:"visuals",label:"Visuals"},{id:"moments",label:"Moments"},{id:"media",label:"Media"},{id:"merch",label:"Merch"},{id:"artifacts",label:"Artifacts"}];function t(t,o){t.on("input",function(){const l=$(this).val().trim().toLowerCase();if(t.val(l),o.empty(),0===l.length)return void o.hide();const i=e.filter(e=>e.label.toLowerCase().includes(l));0!==i.length?(i.forEach(e=>{const t=$(`<a href="/${e.id}" data-tab="${e.id}" class="list-group-item list-group-item-action">${e.label}</a>`);o.append(t)}),o.show()):o.append('<div class="list-group-item disabled">No results found</div>').show()}),o.on("click","a",function(e){e.preventDefault();const l=$(this).data("tab");if(!l)return;const i=`/${l}`;history.replaceState(null,null,i);const s=$(`a[data-bs-toggle="pill"][href="${`#${l}`}"]`);s.length&&new bootstrap.Tab(s[0]).show(),t.val(""),o.hide()})}const o=$(".input-search"),l=$(".search-results");o.length&&l.length&&t(o,l);const i=$(".input-search-mobile"),s=$(".search-results-mobile");i.length&&s.length&&t(i,s),$(document).on("click",function(e){$(e.target).closest(".search-container, .mobile-search-popup").length||(l.hide(),s.hide())}),$(".mobile-search").on("click",function(e){e.preventDefault(),$(".mobile-search-popup").fadeIn(200),$(".mobile-search-popup .input-search-mobile").focus()}),$(".mobile-search-close").on("click",function(){$(".mobile-search-popup").fadeOut(200),$(".mobile-search-popup .search-results-mobile").hide().empty(),$(".mobile-search-popup .input-search-mobile").val("")}),function(){const e=window.location.pathname.replace(/^\/+|\/+$/g,"").split("/").pop();if(!e)return;const t=$(`a[data-bs-toggle="pill"][href="${`#${e}`}"]`);t.length&&new bootstrap.Tab(t[0]).show()}()}export{e as initSearch};
