import{r as e,j as t}from"./react-kxyjmRfh.js";import{u as s,L as r}from"./@inertiajs-BY-Flu7D.js";import{f as i}from"./react-icons-Ddo1U68_.js";import{l as n}from"./lenis-DfNUmaIB.js";import{i as o}from"./interactionGate-BEQQbadU.js";import{L as a}from"./LinkAnimationHover-GGviP1-J.js";import{u as l,d as c,e as m,m as u,A as p}from"./framer-motion-CSuDSUAr.js";import"./call-bind-apply-helpers-CgRtIV3F.js";import"./function-bind-DrnB-baK.js";import"./es-errors-DTEWvbA_.js";import"./qs-Eznirbjm.js";import"./side-channel-D8zNCuii.js";import"./object-inspect--lFQDBnP.js";import"./side-channel-list-gPKKZrRH.js";import"./side-channel-map-Bk8QA3eJ.js";import"./get-intrinsic-CmvjCWKB.js";import"./es-object-atoms-CyiuHMUS.js";import"./math-intrinsics-pM-JTNwN.js";import"./gopd-BudZp56J.js";import"./es-define-property-F0aoeP8o.js";import"./has-symbols-CRskrF1U.js";import"./get-proto-FHEYPq3O.js";import"./dunder-proto-C-NosRWg.js";import"./hasown-CftCayBI.js";import"./call-bound-BFuuvxwD.js";import"./side-channel-weakmap-4lNYcsiz.js";import"./axios-DpwkIHQ7.js";import"./lodash-es-BEYq8Rdu.js";import"./react-dom-COu5tyRN.js";import"./scheduler-DJ_kwTHK.js";import"./laravel-precognition-DYWZRoo5.js";import"./motion-dom-CkSJ3Qwn.js";import"./motion-utils-yNg3p3mV.js";const d=u(r);function x(){const r=s().props.album,i=e.useRef(null),d=e.useRef({x:0,y:0}),[x,f]=e.useState(null),[j,b]=e.useState(1),[g,v]=e.useState({url:null,visible:!1}),y=l(n,[600,1600],[60,-40]);e.useEffect(()=>{const e=e=>{o.get()&&(d.current={x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),e.useEffect(()=>{const e=()=>{if(!i.current)return;const e=i.current.offsetWidth;b(e<=375?.6:e<=768?.7:1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const w=e.useRef(r.map((e,t)=>({...e,radius:180+t%2*70,angle:c(t/r.length*Math.PI*2),x:c(0),y:c(0),z:c(0),speed:.0012*(1+t%2*.25)})));return m(()=>{if(!i.current)return;const e=i.current.getBoundingClientRect();let t=null,s=1/0;const r=96*j/2+5;w.current.forEach(i=>{const n=(i.angle.get()+i.speed)%(2*Math.PI);i.angle.set(n);const o=i.radius*j,a=o*Math.cos(n),l=o*Math.sin(n);i.x.set(a),i.y.set(l),i.z.set(Math.sin(n)*o*.3);const c=e.left+e.width/2+a,m=e.top+e.height/2+l,u=d.current.x-c,p=d.current.y-m,x=Math.hypot(u,p);x<r&&x<s&&(s=x,t=i)}),t!==x&&(f(t),v(t?{url:t.cover_url,visible:!0}:e=>({...e,visible:!1})))}),t.jsxs(u.section,{ref:i,style:{y:y},className:"\n        relative z-30\n        w-full min-h-screen\n        flex items-center justify-center\n\n        perspective-distant\n        mb-20\n    ",children:[t.jsx(p,{children:g.url&&t.jsx(u.div,{className:"absolute inset-0 z-0 bg-cover bg-center filter-gpu min-h-dvh",style:{backgroundImage:`url(${g.url})`},initial:{clipPath:"circle(0% at 50% 50%)",filter:"brightness(0.2) blur(12px)"},animate:{clipPath:g.visible?"circle(150% at 50% 50%)":"circle(0% at 50% 50%)",filter:g.visible?"brightness(0.35) blur(0px)":"brightness(0.2) blur(12px)"},exit:{clipPath:"circle(0% at 50% 50%)",filter:"brightness(0.2) blur(12px)"},transition:{duration:.85,ease:[.22,1,.36,1]}},g.url)}),t.jsx("svg",{className:"absolute inset-0 w-full h-full z-10 pointer-events-none",children:Array.from({length:2}).map((e,s)=>t.jsx("circle",{cx:"50%",cy:"50%",r:(180+70*s)*j,stroke:"rgba(255,255,255,0.18)",strokeWidth:"1",fill:"none"},s))}),t.jsxs("div",{className:"absolute z-20 flex flex-col items-center text-center",children:[t.jsx("h2",{className:"tracking-[0.35em] text-sm",children:"BROWSE MUSIC"}),t.jsx(a,{href:"/music",text:"Explore",ariaLabel:"Explore music albums and singles"})]}),t.jsx("div",{className:"relative w-full h-full z-20",children:w.current.map((e,s)=>t.jsx(h,{item:e,isActive:x===e},s))})]})}function h({item:s,isActive:r}){const n=e.useRef(null),[o,a]=e.useState(!1),[l,c]=e.useState({x:0,y:0}),[m,x]=e.useState({rotateX:0,rotateY:0});return t.jsx(d,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none",style:{x:s.x,y:s.y,z:s.z},href:`/albums/${s.slug}`,children:t.jsxs("div",{className:"relative w-10.5 sm:w-14 md:w-20 lg:w-24 aspect-square rounded-full cursor-pointer",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onMouseMove:e=>{const t=n.current.getBoundingClientRect(),s=e.clientX-t.left,r=e.clientY-t.top;c({x:s,y:r});const i=t.width/2,o=t.height/2;x({rotateY:(s-i)/i*15,rotateX:(o-r)/o*15})},children:[t.jsx(u.img,{ref:n,src:s.cover_url,alt:s.title,className:"rounded-full object-cover border border-white/40",style:{transform:`rotateX(${m.rotateX}deg) rotateY(${m.rotateY}deg)`,transition:"transform 0.08s ease-out",boxShadow:"rgba(255,255,255,0.25) 0 10px 30px, rgba(0,0,0,0.35) 0 20px 60px"}}),o&&t.jsx("div",{className:"absolute inset-0 rounded-full pointer-events-none",style:{background:`radial-gradient(circle at ${l.x}px ${l.y}px, rgba(255,255,255,0.35), transparent 60%)`,mixBlendMode:"screen"}}),t.jsx(p,{children:o&&r&&t.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},style:{left:l.x,top:l.y},className:"\n                            flex items-center\n                                pointer-events-none\n                                absolute z-20\n                                -translate-x-1/2 -translate-y-[120%]\n                                text-xs tracking-wide text-black\n                                bg-white/90 backdrop-blur\n                                px-3 py-1 rounded-full\n                                shadow-[0_0_20px_rgba(255,105,180,0.6)]\n                                whitespace-nowrap gap-1\n                            ",children:[s.title,t.jsx(i,{})]})})]})})}export{x as default};
