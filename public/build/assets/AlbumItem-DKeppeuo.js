import{r as e,j as t}from"./react-kxyjmRfh.js";import{r as s}from"./react-dom-COu5tyRN.js";import{r as i}from"./@inertiajs-BY-Flu7D.js";import{u as r,m as o,A as a}from"./framer-motion-CSuDSUAr.js";import"./call-bind-apply-helpers-CgRtIV3F.js";import"./function-bind-DrnB-baK.js";import"./es-errors-DTEWvbA_.js";import"./scheduler-DJ_kwTHK.js";import"./qs-Eznirbjm.js";import"./side-channel-D8zNCuii.js";import"./object-inspect--lFQDBnP.js";import"./side-channel-list-gPKKZrRH.js";import"./side-channel-map-Bk8QA3eJ.js";import"./get-intrinsic-CmvjCWKB.js";import"./es-object-atoms-CyiuHMUS.js";import"./math-intrinsics-pM-JTNwN.js";import"./gopd-BudZp56J.js";import"./es-define-property-F0aoeP8o.js";import"./has-symbols-CRskrF1U.js";import"./get-proto-FHEYPq3O.js";import"./dunder-proto-C-NosRWg.js";import"./hasown-CftCayBI.js";import"./call-bound-BFuuvxwD.js";import"./side-channel-weakmap-4lNYcsiz.js";import"./axios-DpwkIHQ7.js";import"./lodash-es-BEYq8Rdu.js";import"./laravel-precognition-DYWZRoo5.js";import"./motion-dom-CkSJ3Qwn.js";import"./motion-utils-yNg3p3mV.js";function n({album:i,index:n,total:c,scrollY:m}){const[d,p]=e.useState(!1),[j,u]=e.useState(null),[x,h]=e.useState(!1),f=e.useRef(null),w=i.release_date?new Date(i.release_date).getFullYear():"";e.useEffect(()=>{h(!0)},[]);const y=[400*(n-1),400*n,400*(n+1)],b=r(m,y,[0,-60,0]),g=r(m,y,[.8,1.1,.8]),v=r(m,y,[.5,1,.5]);return e.useEffect(()=>{window.lenis&&(d?(window.lenis.stop(),document.body.style.overflow="hidden"):(window.lenis.start(),document.body.style.overflow=""))},[d]),t.jsxs(t.Fragment,{children:[t.jsx(o.div,{ref:f,className:"relative cursor-pointer shrink-0",style:{y:b,scale:g,opacity:v,zIndex:c-n},onClick:function(e){e.stopPropagation(),f.current&&u(f.current.getBoundingClientRect()),p(!0)},children:t.jsx("div",{className:"w-45 h-45 md:w-65 md:h-65 bg-cover bg-center rounded-xl shadow-2xl hover:scale-105 transition-transform duration-500",style:{backgroundImage:`url(${i.cover_url})`}})}),x&&s.createPortal(t.jsx(a,{children:d&&j&&t.jsxs("div",{className:"fixed inset-0 z-99999 flex items-center justify-center",children:[t.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-md",onClick:()=>p(!1)}),t.jsx(l,{album:i,rackRect:j,year:w})]})}),document.body)]})}function l({album:e,rackRect:s,year:r}){const a=window.innerWidth/2-(s.left+s.width/2),n=window.innerHeight/2-(s.top+s.height/2);return t.jsxs(o.div,{className:"relative flex flex-col items-center p-4",initial:{scale:s.width/400,x:-a,y:-n},animate:{scale:1,x:0,y:0},exit:{scale:s.width/400,x:-a,y:-n,opacity:0},transition:{type:"spring",damping:30,stiffness:200},onClick:()=>i.visit(`/albums/${e.slug}`),children:[t.jsx("div",{className:"w-[85vw] h-[85vw] max-w-100 max-h-100 bg-cover bg-center rounded-lg shadow-2xl cursor-pointer",style:{backgroundImage:`url(${e.cover_url})`}}),t.jsxs("div",{className:"text-center mt-8 text-white",children:[t.jsx("p",{className:"text-xs tracking-[0.5em] text-stone-500 mb-2 uppercase",children:r}),t.jsx("h2",{className:"text-3xl md:text-5xl font-bold",style:{fontFamily:"Nickson"},children:e.title}),t.jsx("p",{className:"mt-4 text-xs text-stone-400 italic",children:"Click image to explore tracks"})]})]})}export{n as default};
