async function t(t){return new Promise((e,n)=>{if(document.querySelector(`script[src="${t}"]`))return void e();const l=document.createElement("script");l.src=t,l.async=!0,l.onload=()=>e(),l.onerror=()=>n(new Error(`Failed to load script: ${t}`)),document.head.appendChild(l)})}function e(){const t=$(".menu-icon"),e=$("#menuOverlay"),n=$("#menuIcon"),l=$("#mainNavbar");function i(t){e.hasClass("active"),e.toggleClass("active"),n.toggleClass("active"),l.toggleClass("hover-disabled");e.hasClass("active")?setTimeout(()=>{"function"==typeof t&&t(!0)},100):(history.replaceState(null,null,window.location.pathname),"function"==typeof t&&t(!1))}return t.on("click",()=>{i(t=>{if(t){const t=new URL(window.location);if(0===t.pathname.split("/").filter(Boolean).length){const n=e.find('a[data-bs-toggle="pill"]').first();if(n.length){$(".tab-pane").removeClass("show active"),$(".nav-link").removeClass("active").attr("aria-selected","false"),new bootstrap.Tab(n[0]).show();const e=n.attr("href");e.startsWith("#")&&(t.pathname="/"+e.substring(1),history.replaceState(null,null,t))}}}})}),$(".close-icon").on("click",function(){const t=new URL(window.location);t.pathname="/",history.replaceState(null,null,t.pathname),e.removeClass("active"),n.removeClass("active"),l.removeClass("hover-disabled")}),{toggleOverlay:i}}async function n(){try{const t=await fetch(window.location.origin+"/api/discover"),e=await t.json();console.log(e);$("#discover").html(e.html)}catch(t){console.error("Error fetching discover:",t)}}function l(){const t=document.getElementById("albumsAccordion"),e=document.querySelector(".tab-content");if(!t||!e)return;const n=$(e);function l(){e.scrollHeight>e.clientHeight?n.getNiceScroll().length?n.getNiceScroll().resize():n.niceScroll({autohidemode:!0,cursorcolor:"#888",cursorwidth:"5px",zindex:9999,horizrailenabled:!1}):n.getNiceScroll().length&&(n.getNiceScroll().remove(),n.css("overflow",""))}let i;t.addEventListener("shown.bs.collapse",()=>{l()}),window.addEventListener("resize",()=>{clearTimeout(i),i=setTimeout(()=>{l()},200)}),l(),document.querySelectorAll(".play-icon").forEach(t=>{t.addEventListener("click",function(){const t=this.dataset.trackId,e=document.getElementById(`embed-${t}`);e.classList.contains("d-none")?e.classList.remove("d-none"):e.classList.add("d-none")})})}async function i(){}async function o(){}async function a(){const e=document.querySelector(".tab-content"),n=$(e);let l=!1,i=null;function o(){e.scrollHeight>e.clientHeight?n.getNiceScroll().length?n.getNiceScroll().resize():n.niceScroll({autohidemode:!0,cursorcolor:"#888",cursorwidth:"5px",zindex:9999,horizrailenabled:!1}):n.getNiceScroll().length&&(n.getNiceScroll().remove(),n.css("overflow",""))}await async function(){if(!window.GLightbox&&(await t("https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"),!document.querySelector('link[href*="glightbox.min.css"]'))){const t=document.createElement("link");t.rel="stylesheet",t.href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css",document.head.appendChild(t)}}();const a=document.getElementById("my_glightbox_gallery"),r=document.querySelector(".gallery-caption");try{let t=function(){"albums"!==i&&(i="albums",r.innerHTML='<p class="text-center text-md-start mb-3">Select an album to view its gallery.</p>',a.className="album-grid",a.innerHTML=c.map(t=>{const e=d.find(e=>e.albumID===t.albumID),n=(null==e?void 0:e.srct)||"https://via.placeholder.com/220x180?text=Album";return`\n            <div class="album-item" data-album-id="${t.albumID}">\n              <img src="${n}" alt="${t.title}" />\n              <div class="overlay-title">\n                <div class="album-title">${t.title}</div>\n              </div>\n            </div>\n          `}).join(""),o(),document.querySelectorAll(".album-item").forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-album-id");e(n)})}))},e=function(e){if(i===`album-${e}`)return;i=`album-${e}`;const n=c.find(t=>String(t.albumID)===String(e)),l=d.filter(t=>String(t.albumID)===String(e));r.innerHTML=`\n        <div class="d-flex justify-content-start align-items-center mt-3 mb-3">\n            <button class="btn btn-outline-secondary btn-sm" id="backToAlbums">‚Üê Back</button>\n            <h5 class="m-0 ms-2">${(null==n?void 0:n.title)||"Photos"}</h5>\n        </div>\n        <div class="text-center w-100">\n            <div class="spinner-border text-secondary my-3" role="status"></div>\n        </div>\n    `,a.innerHTML="",a.className="gallery-grid";const s=Math.min(a.clientWidth||window.innerWidth,window.innerWidth);!async function(){const n=l.map(t=>new Promise((e,n)=>{const l=new Image;l.onload=()=>{t.aspectRatio=l.width/l.height,e(t)},l.onerror=()=>{console.warn("Failed to load image",t.srct),e(null)},l.src=t.srct})),i=(await Promise.all(n)).filter(Boolean);let c=[],d=0;const u=[];function m(){if(!c.length)return;const t=c.reduce((t,e)=>t+e.aspectRatio,0),n=(s-4*(c.length-1))/t,l=c.map(t=>{const l=n*t.aspectRatio,i=n;return`\n                    <a href="${t.src}" class="gallery-item glightbox" data-gallery="album-${e}" data-title="${t.title?t.title:"Untitled"}" style="flex: 0 0 ${l}px; height: ${i}px">\n                        <img src="${t.srct}" alt="${t.title||""}" />\n                    </a>\n                `}).join("");u.push(`<div class="gallery-row">${l}</div>`),c=[],d=0}for(const t of i){const e=200*t.aspectRatio;c.push(t),d+=e+4,d>=s&&m()}m(),a.innerHTML=u.join("");const h=r.querySelector(".spinner-border");h&&h.parentElement.remove(),GLightbox({selector:`.glightbox[data-gallery="album-${e}"]`}),document.getElementById("backToAlbums").addEventListener("click",()=>{t()}),setTimeout(()=>{o()},150)}()};const n=await fetch(window.location.origin+"/api/galleries");if(!n.ok)throw new Error("Failed fetching galleries");const s=await n.json(),c=s.filter(t=>"album"===t.kind),d=s.filter(t=>"image"===t.kind);if(0===c.length)return void(r.innerHTML='<div class="text-center p-5">\n          <h3>Stay Tuned</h3>\n          <p>Captured fuzzed-out moments will appear here soon.</p>\n      </div>');l||(t(),l=!0)}catch(s){console.error("Failed to load gallery:",s),r.innerHTML='<div class="alert alert-danger text-center">Failed to load gallery.</div>'}}async function r(){window.jQuery&&window.jQuery.fn.nanogallery2||await t("https://cdn.jsdelivr.net/npm/nanogallery2@3.0.5/dist/jquery.nanogallery2.min.js");const e=$("#youtube_gallery"),n=$("#captionYoutube");e.data("nanogallery2")&&(e.nanogallery2("destroy"),e.empty());const l=[{src:"https://www.youtube.com/watch?v=RrduNLMk360&list=RDRrduNLMk360&start_radio=1",title:"Marsmolys - The Progeny of Holy Moly | Live Session"},{src:"https://www.youtube.com/watch?v=AvxFlL_8asI",title:"Marsmolys - Undestructible (Live at Artjog 2024)"},{src:"https://www.youtube.com/watch?v=UZPy_TrOp9Q&list=RDUZPy_TrOp9Q&start_radio=1",title:"Marsmolys - Ways To Go (Live at ArtJog 2024)"}];0!==l.length?(n.html('<p class="text-center text-md-start">Watch Marsmolys music videos and live performances.</p>'),e.nanogallery2({items:l,galleryDisplayMode:"fullContent",gallerySorting:"random",thumbnailHeight:180,thumbnailWidth:320,thumbnailGutterWidth:10,thumbnailGutterHeight:10,thumbnailAlignment:"fillWidth",thumbnailBorderHorizontal:0,thumbnailBorderVertical:0,thumbnailLabel:{display:!1,position:"overImageOnBottom",titleFontSize:"1em",align:"center",titleMultiLine:!0,displayDescription:!1},viewerToolbar:{display:!1},viewerTools:{topRight:"closeButton"},locationHash:!1}),e.on("galleryDisplayed.nanogallery2",function(){const t=$(".tab-content");t.getNiceScroll().length?t.getNiceScroll().resize():t.niceScroll({autohidemode:!0,cursorcolor:"#888",cursorwidth:"5px",zindex:9999,horizrailenabled:!1})})):n.html('\n      <div class="d-flex justify-content-center align-items-center flex-column p-5 text-center">\n        <h3 style="font-family: Nickson, \'sans-serif\'; letter-spacing: 2px;">Stay Tuned</h3>\n        <p>Marsmolys will be releasing music videos and live performances soon.</p>\n      </div>\n    ')}async function s(){}async function c(){}export{c as initArtifacts,n as initDiscover,a as initGallery,e as initMenuToggle,s as initMerch,i as initShows,l as initSoundtrackAlbum,r as initYouTubePlayers,o as visuals};
