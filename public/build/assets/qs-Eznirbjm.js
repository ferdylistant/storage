import{r as e}from"./side-channel-D8zNCuii.js";var r,t,o,n,i,a,l,c,s,f;function p(){if(t)return r;t=1;var e=String.prototype.replace,o=/%20/g,n="RFC3986";return r={default:n,formatters:{RFC1738:function(r){return e.call(r,o,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}}function u(){if(n)return o;n=1;var r=p(),t=e(),i=Object.prototype.hasOwnProperty,a=Array.isArray,l=t(),c=function(e,r){return l.set(e,r),e},s=function(e){return l.has(e)},f=function(e){return l.get(e)},u=function(e,r){l.set(e,r)},d=function(){for(var e=[],r=0;r<256;++r)e[e.length]="%"+((r<16?"0":"")+r.toString(16)).toUpperCase();return e}(),y=function(e,r){for(var t=r&&r.plainObjects?{__proto__:null}:{},o=0;o<e.length;++o)void 0!==e[o]&&(t[o]=e[o]);return t},m=1024;return o={arrayToObject:y,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,r,t,o){if(s(e)){var n=f(e)+1;return e[n]=r,u(e,n),e}var i=[].concat(e,r);return i.length>t?c(y(i,{plainObjects:o}),i.length-1):i},compact:function(e){for(var r=[{obj:{o:e},prop:"o"}],t=[],o=0;o<r.length;++o)for(var n=r[o],i=n.obj[n.prop],l=Object.keys(i),c=0;c<l.length;++c){var s=l[c],f=i[s];"object"==typeof f&&null!==f&&-1===t.indexOf(f)&&(r[r.length]={obj:i,prop:s},t[t.length]=f)}return function(e){for(;e.length>1;){var r=e.pop(),t=r.obj[r.prop];if(a(t)){for(var o=[],n=0;n<t.length;++n)void 0!==t[n]&&(o[o.length]=t[n]);r.obj[r.prop]=o}}}(r),e},decode:function(e,r,t){var o=e.replace(/\+/g," ");if("iso-8859-1"===t)return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch(n){return o}},encode:function(e,t,o,n,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===o)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var l="",c=0;c<a.length;c+=m){for(var s=a.length>=m?a.slice(c,c+m):a,f=[],p=0;p<s.length;++p){var u=s.charCodeAt(p);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===r.RFC1738&&(40===u||41===u)?f[f.length]=s.charAt(p):u<128?f[f.length]=d[u]:u<2048?f[f.length]=d[192|u>>6]+d[128|63&u]:u<55296||u>=57344?f[f.length]=d[224|u>>12]+d[128|u>>6&63]+d[128|63&u]:(p+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(p)),f[f.length]=d[240|u>>18]+d[128|u>>12&63]+d[128|u>>6&63]+d[128|63&u])}l+=f.join("")}return l},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:s,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},markOverflow:c,maybeMap:function(e,r){if(a(e)){for(var t=[],o=0;o<e.length;o+=1)t[t.length]=r(e[o]);return t}return r(e)},merge:function e(r,t,o){if(!t)return r;if("object"!=typeof t&&"function"!=typeof t){if(a(r)){var n=r.length;if(o&&"number"==typeof o.arrayLimit&&n>o.arrayLimit)return c(y(r.concat(t),o),n);r[n]=t}else{if(!r||"object"!=typeof r)return[r,t];if(s(r)){var l=f(r)+1;r[l]=t,u(r,l)}else(o&&(o.plainObjects||o.allowPrototypes)||!i.call(Object.prototype,t))&&(r[t]=!0)}return r}if(!r||"object"!=typeof r){if(s(t)){for(var p=Object.keys(t),d=o&&o.plainObjects?{__proto__:null,0:r}:{0:r},m=0;m<p.length;m++){d[parseInt(p[m],10)+1]=t[p[m]]}return c(d,f(t)+1)}var h=[r].concat(t);return o&&"number"==typeof o.arrayLimit&&h.length>o.arrayLimit?c(y(h,o),h.length-1):h}var g=r;return a(r)&&!a(t)&&(g=y(r,o)),a(r)&&a(t)?(t.forEach(function(t,n){if(i.call(r,n)){var a=r[n];a&&"object"==typeof a&&t&&"object"==typeof t?r[n]=e(a,t,o):r[r.length]=t}else r[n]=t}),r):Object.keys(t).reduce(function(r,n){var a=t[n];if(i.call(r,n)?r[n]=e(r[n],a,o):r[n]=a,s(t)&&!s(r)&&c(r,f(t)),s(r)){var l=parseInt(n,10);String(l)===n&&l>=0&&l>f(r)&&u(r,l)}return r},g)}}}function d(){if(a)return i;a=1;var r=e(),t=u(),o=p(),n=Object.prototype.hasOwnProperty,l={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},c=Array.isArray,s=Array.prototype.push,f=function(e,r){s.apply(e,c(r)?r:[r])},d=Date.prototype.toISOString,y=o.default,m={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:t.encode,encodeValuesOnly:!1,filter:void 0,format:y,formatter:o.formatters[y],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},h={},g=function e(o,n,i,a,l,s,p,u,d,y,g,b,w,v,O,E,j,D){for(var x,A=o,L=D,S=0,I=!1;void 0!==(L=L.get(h))&&!I;){var N=L.get(o);if(S+=1,void 0!==N){if(N===S)throw new RangeError("Cyclic object value");I=!0}void 0===L.get(h)&&(S=0)}if("function"==typeof y?A=y(n,A):A instanceof Date?A=w(A):"comma"===i&&c(A)&&(A=t.maybeMap(A,function(e){return e instanceof Date?w(e):e})),null===A){if(s)return d&&!E?d(n,m.encoder,j,"key",v):n;A=""}if("string"==typeof(x=A)||"number"==typeof x||"boolean"==typeof x||"symbol"==typeof x||"bigint"==typeof x||t.isBuffer(A))return d?[O(E?n:d(n,m.encoder,j,"key",v))+"="+O(d(A,m.encoder,j,"value",v))]:[O(n)+"="+O(String(A))];var _,R=[];if(void 0===A)return R;if("comma"===i&&c(A))E&&d&&(A=t.maybeMap(A,d)),_=[{value:A.length>0?A.join(",")||null:void 0}];else if(c(y))_=y;else{var P=Object.keys(A);_=g?P.sort(g):P}var T=u?String(n).replace(/\./g,"%2E"):String(n),k=a&&c(A)&&1===A.length?T+"[]":T;if(l&&c(A)&&0===A.length)return k+"[]";for(var K=0;K<_.length;++K){var C=_[K],F="object"==typeof C&&C&&void 0!==C.value?C.value:A[C];if(!p||null!==F){var H=b&&u?String(C).replace(/\./g,"%2E"):String(C),Q=c(A)?"function"==typeof i?i(k,H):k:k+(b?"."+H:"["+H+"]");D.set(o,S);var B=r();B.set(h,D),f(R,e(F,Q,i,a,l,s,p,u,"comma"===i&&E&&c(A)?null:d,y,g,b,w,v,O,E,j,B))}}return R};return i=function(e,t){var i,a=e,s=function(e){if(!e)return m;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=o.default;if(void 0!==e.format){if(!n.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var i,a=o.formatters[t],s=m.filter;if(("function"==typeof e.filter||c(e.filter))&&(s=e.filter),i=e.arrayFormat in l?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":m.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var f=void 0===e.allowDots?!0===e.encodeDotInKeys||m.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:m.addQueryPrefix,allowDots:f,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:m.allowEmptyArrays,arrayFormat:i,charset:r,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:m.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:void 0===e.delimiter?m.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:m.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:m.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:m.encodeValuesOnly,filter:s,format:t,formatter:a,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:m.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof s.filter?a=(0,s.filter)("",a):c(s.filter)&&(i=s.filter);var p=[];if("object"!=typeof a||null===a)return"";var u=l[s.arrayFormat],d="comma"===u&&s.commaRoundTrip;i||(i=Object.keys(a)),s.sort&&i.sort(s.sort);for(var y=r(),h=0;h<i.length;++h){var b=i[h],w=a[b];s.skipNulls&&null===w||f(p,g(w,b,u,d,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,y))}var v=p.join(s.delimiter),O=!0===s.addQueryPrefix?"?":"";return s.charsetSentinel&&("iso-8859-1"===s.charset?O+="utf8=%26%2310003%3B&":O+="utf8=%E2%9C%93&"),v.length>0?O+v:""}}function y(){if(c)return l;c=1;var e=u(),r=Object.prototype.hasOwnProperty,t=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},n=function(e){return e.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},i=function(e,r,t){if(e&&"string"==typeof e&&r.comma&&e.indexOf(",")>-1)return e.split(",");if(r.throwOnLimitExceeded&&t>=r.arrayLimit)throw new RangeError("Array limit exceeded. Only "+r.arrayLimit+" element"+(1===r.arrayLimit?"":"s")+" allowed in an array.");return e},a=function(t,o,n,a){if(t){var l=function(e,t){var o=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&r.call(Object.prototype,o)&&!t.allowPrototypes)return;return[o]}var n=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(o),a=i?o.slice(0,i.index):o,l=[];if(a){if(!t.plainObjects&&r.call(Object.prototype,a)&&!t.allowPrototypes)return;l[l.length]=a}for(var c=0;null!==(i=n.exec(o))&&c<t.depth;){c+=1;var s=i[1].slice(1,-1);if(!t.plainObjects&&r.call(Object.prototype,s)&&!t.allowPrototypes)return;l[l.length]=i[1]}if(i){if(!0===t.strictDepth)throw new RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");l[l.length]="["+o.slice(i.index)+"]"}return l}(t,n);if(l)return function(r,t,o,n){var a=0;if(r.length>0&&"[]"===r[r.length-1]){var l=r.slice(0,-1).join("");a=Array.isArray(t)&&t[l]?t[l].length:0}for(var c=n?t:i(t,o,a),s=r.length-1;s>=0;--s){var f,p=r[s];if("[]"===p&&o.parseArrays)f=e.isOverflow(c)?c:o.allowEmptyArrays&&(""===c||o.strictNullHandling&&null===c)?[]:e.combine([],c,o.arrayLimit,o.plainObjects);else{f=o.plainObjects?{__proto__:null}:{};var u="["===p.charAt(0)&&"]"===p.charAt(p.length-1)?p.slice(1,-1):p,d=o.decodeDotInKeys?u.replace(/%2E/g,"."):u,y=parseInt(d,10),m=!isNaN(y)&&p!==d&&String(y)===d&&y>=0&&o.parseArrays;if(o.parseArrays||""!==d)if(m&&y<o.arrayLimit)(f=[])[y]=c;else{if(m&&o.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+o.arrayLimit+" element"+(1===o.arrayLimit?"":"s")+" allowed in an array.");m?(f[y]=c,e.markOverflow(f,y)):"__proto__"!==d&&(f[d]=c)}else f={0:c}}c=f}return c}(l,o,n,a)}};return l=function(l,c){var s=function(r){if(!r)return o;if(void 0!==r.allowEmptyArrays&&"boolean"!=typeof r.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==r.decodeDotInKeys&&"boolean"!=typeof r.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==r.charset&&"utf-8"!==r.charset&&"iso-8859-1"!==r.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==r.throwOnLimitExceeded&&"boolean"!=typeof r.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=void 0===r.charset?o.charset:r.charset,n=void 0===r.duplicates?o.duplicates:r.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===r.allowDots?!0===r.decodeDotInKeys||o.allowDots:!!r.allowDots,allowEmptyArrays:"boolean"==typeof r.allowEmptyArrays?!!r.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof r.allowSparse?r.allowSparse:o.allowSparse,arrayLimit:"number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof r.charsetSentinel?r.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof r.comma?r.comma:o.comma,decodeDotInKeys:"boolean"==typeof r.decodeDotInKeys?r.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"==typeof r.decoder?r.decoder:o.decoder,delimiter:"string"==typeof r.delimiter||e.isRegExp(r.delimiter)?r.delimiter:o.delimiter,depth:"number"==typeof r.depth||!1===r.depth?+r.depth:o.depth,duplicates:n,ignoreQueryPrefix:!0===r.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof r.interpretNumericEntities?r.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,parseArrays:!1!==r.parseArrays,plainObjects:"boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,strictDepth:"boolean"==typeof r.strictDepth?!!r.strictDepth:o.strictDepth,strictNullHandling:"boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof r.throwOnLimitExceeded&&r.throwOnLimitExceeded}}(c);if(""===l||null==l)return s.plainObjects?{__proto__:null}:{};for(var f="string"==typeof l?function(a,l){var c={__proto__:null},s=l.ignoreQueryPrefix?a.replace(/^\?/,""):a;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var f=l.parameterLimit===1/0?void 0:l.parameterLimit,p=s.split(l.delimiter,l.throwOnLimitExceeded?f+1:f);if(l.throwOnLimitExceeded&&p.length>f)throw new RangeError("Parameter limit exceeded. Only "+f+" parameter"+(1===f?"":"s")+" allowed.");var u,d=-1,y=l.charset;if(l.charsetSentinel)for(u=0;u<p.length;++u)0===p[u].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[u]?y="utf-8":"utf8=%26%2310003%3B"===p[u]&&(y="iso-8859-1"),d=u,u=p.length);for(u=0;u<p.length;++u)if(u!==d){var m,h,g=p[u],b=g.indexOf("]="),w=-1===b?g.indexOf("="):b+1;if(-1===w?(m=l.decoder(g,o.decoder,y,"key"),h=l.strictNullHandling?null:""):null!==(m=l.decoder(g.slice(0,w),o.decoder,y,"key"))&&(h=e.maybeMap(i(g.slice(w+1),l,t(c[m])?c[m].length:0),function(e){return l.decoder(e,o.decoder,y,"value")})),h&&l.interpretNumericEntities&&"iso-8859-1"===y&&(h=n(String(h))),g.indexOf("[]=")>-1&&(h=t(h)?[h]:h),l.comma&&t(h)&&h.length>l.arrayLimit){if(l.throwOnLimitExceeded)throw new RangeError("Array limit exceeded. Only "+l.arrayLimit+" element"+(1===l.arrayLimit?"":"s")+" allowed in an array.");h=e.combine([],h,l.arrayLimit,l.plainObjects)}if(null!==m){var v=r.call(c,m);v&&"combine"===l.duplicates?c[m]=e.combine(c[m],h,l.arrayLimit,l.plainObjects):v&&"last"!==l.duplicates||(c[m]=h)}}return c}(l,s):l,p=s.plainObjects?{__proto__:null}:{},u=Object.keys(f),d=0;d<u.length;++d){var y=u[d],m=a(y,f[y],s,"string"==typeof l);p=e.merge(p,m,s)}return!0===s.allowSparse?p:e.compact(p)}}function m(){if(f)return s;f=1;var e=d(),r=y();return s={formats:p(),parse:r,stringify:e}}var h=m();export{h as l};
