async function e(e,t){const n=$("#shows");let o=0;let c=!0,s=!1;n.length>0&&n.empty();const i=document.querySelector(".tab-content");async function r(i){if(c&&!s){s=!0;try{const r=await fetch(`${window.location.origin}/tab/shows?offset=${o}&limit=5`,{headers:{"X-Requested-With":"XMLHttpRequest"}}),l=await r.json();if(i){const e=document.createElement("div");e.innerHTML=l.html;const t=Array.from(e.querySelectorAll(".timeline-item"));t.forEach(e=>{$(e).hide(),$("#showsWrapper").append(e),$(e).fadeIn(800)}),o+=t.length,c=l.hasMore,s=!1}else n.append(l.html),o=l.nextOffset,c=l.hasMore,s=!1;const a=function(e,t){return debounce(()=>{"function"==typeof e&&e(),"function"==typeof t&&t()},150)}(e,t);setTimeout(a,100)}catch(r){s=!1}}}i&&(r(!1),i.addEventListener("scroll",()=>{i.scrollTop+i.clientHeight>=i.scrollHeight&&r(!0)}))}export{e as initShows};
