async function e(e,t){const n=$("#shows");let o=0;let c=!0,i=!1;n.length>0&&$media.empty();const s=document.querySelector(".tab-content");async function r(n){if(c&&!i){i=!0;try{const s=await fetch(`${window.location.origin}/tab/shows?offset=${o}&limit=5`,{headers:{"X-Requested-With":"XMLHttpRequest"}}),r=await s.json();if(n){const e=document.createElement("div");e.innerHTML=r.html;const t=Array.from(e.querySelectorAll(".timeline-item"));t.forEach(e=>{$(e).hide(),$("#showsWrapper").append(e),$(e).fadeIn(800)}),o+=t.length,c=r.hasMore,i=!1}else $media.append(r.html),o=r.nextOffset,c=r.hasMore,i=!1;const a=function(e,t){return debounce(()=>{"function"==typeof e&&e(),"function"==typeof t&&t()},150)}(e,t);setTimeout(a,100)}catch(s){i=!1}}}s&&(r(!1),s.addEventListener("scroll",()=>{s.scrollTop+s.clientHeight>=s.scrollHeight&&r(!0)}))}export{e as initShows};
