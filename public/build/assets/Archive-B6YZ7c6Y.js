import{j as e,v as t,r as n,w as s,x as r,u as a}from"./vendor-react-TIcaECwL.js";import"./interactionGate-zGGlSIHc.js";import{L as i}from"./LinkAnimationHover-CfVmkCHL.js";import{Y as o}from"./vendor-BeTi8Sqq.js";import{c,l,m as u}from"./vendor-three-DOjKUHLC.js";import{m as d,u as m,d as h,f as x,g as p}from"./vendor-motion-Ox8Ci54R.js";import{u as f}from"./useLenisParallax-DpPpCHmL.js";import"./lenis-DDRvmAPn.js";const v=o(window.innerWidth/2),g=o(window.innerHeight/2);function j(){const t=n.useRef(),a=s("/images/mars.jpg"),i=n.useRef({x:0,y:0}),o=n.useRef({x:0,y:0});return n.useEffect(()=>{a.colorSpace=c,a.anisotropy=4},[a]),n.useEffect(()=>{const e=(e,t)=>{const n=window.innerWidth/2,s=window.innerHeight/2;i.current.x=(e-n)/n,i.current.y=(t-s)/s},t=t=>e(t.clientX,t.clientY),n=t=>{t.touches?.[0]&&e(t.touches[0].clientX,t.touches[0].clientY)};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",n,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",n)}},[]),r((e,n)=>{const s=o.current;s.x+=(i.current.x-s.x)*(1-Math.pow(6e-4,n)),s.y+=(i.current.y-s.y)*(1-Math.pow(6e-4,n)),t.current&&(t.current.rotation.y=.35*s.x+.1*e.clock.elapsedTime,t.current.rotation.x=.18*s.y)}),e.jsxs("group",{ref:t,children:[e.jsxs("mesh",{scale:1.08,children:[e.jsx("sphereGeometry",{args:[1,48,48]}),e.jsx("meshBasicMaterial",{transparent:!0,opacity:.05,depthWrite:!1,blending:u,side:l,color:"#ffd1b3"})]}),e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshStandardMaterial",{map:a,roughness:.75,metalness:.02,envMapIntensity:.35})]}),e.jsxs("mesh",{scale:1.002,children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshLambertMaterial",{transparent:!0,opacity:.22,color:"#000000"})]})]})}function w(){return e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshBasicMaterial",{color:"#3a2a22"})]})}function y(){return e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsxs(t,{dpr:[1,1.35],camera:{position:[0,0,2.65],fov:45},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[e.jsx("ambientLight",{intensity:.08}),e.jsx("directionalLight",{position:[3.2,1.4,2.2],intensity:3.2}),e.jsx("directionalLight",{position:[-2.8,-1.4,.6],intensity:.18}),e.jsx(n.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(j,{})})]})})}function b(){const t=n.useMemo(()=>`data:image/svg+xml,${encodeURIComponent('\n          <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180">\n            <filter id="n">\n              <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" stitchTiles="stitch"/>\n              <feColorMatrix type="saturate" values="0"/>\n            </filter>\n            <rect width="180" height="180" filter="url(#n)" opacity="0.40"/>\n          </svg>\n        ')}`,[]);return e.jsx("div",{className:"\n        absolute left-1/2 top-1/2\n        -translate-x-1/2 -translate-y-1/2\n        perspective-distant\n        z-20\n      ",children:e.jsxs(d.div,{className:"\n    relative\n    w-65 h-65\n    sm:w-80 sm:h-80\n    lg:w-95 lg:h-95\n    rounded-full\n    transform-gpu\n    will-change-transform\n  ",children:[e.jsx("div",{className:"pointer-events-none absolute -inset-10 rounded-full blur-3xl opacity-60 bg-[rgba(174,31,42,0.1)]"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-full",style:{boxShadow:"0 0 0 1px rgba(255,255,255,0.02), 0 0 30px rgba(255,255,255,0.08), 0 0 120px rgba(174,31,42,0.1)"}}),e.jsxs("div",{className:"relative h-full w-full rounded-full overflow-hidden",children:[e.jsx(y,{}),e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-black/10"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.10] mix-blend-overlay",style:{backgroundImage:`url("${t}")`}}),e.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center",children:[e.jsx("h2",{className:"tracking-[0.35em] text-xs sm:text-sm text-white/90 mix-blend-difference",children:"DISCOVER THE ARCHIVE"}),e.jsx(i,{href:"/archive",text:"Explore",ariaLabel:"Explore the archive"})]})]})]})})}function M({img:t,index:s=0,phase:r,title:a}){const i=n.useRef({fromLeft:s%2==0,verticalFactor:[.25,.5,.75][s%3],offset:.12*s}),o=n.useRef({x:0,y:0}),c=n.useRef(0),l=n.useRef(0);n.useEffect(()=>{const e=v.get(),t=g.get(),n=window.innerWidth,s=window.innerHeight;o.current.x=i.current.fromLeft?e-(n/2+140):e+(n/2+140),o.current.y=i.current.verticalFactor*s,c.current=Math.atan2(t-o.current.y,e-o.current.x),l.current=Math.hypot(e-o.current.x,t-o.current.y)},[]);const u=m(r,e=>1-(e+i.current.offset)%1),h=m(u,e=>o.current.x+Math.cos(c.current)*l.current*(1-e)),x=m(u,e=>o.current.y+Math.sin(c.current)*l.current*(1-e)),p=m(u,[1,0],[1.1,.12]),f=m(u,[.2,0],[1,0]);return e.jsx(d.div,{"aria-hidden":"true",style:{x:h,y:x,scale:p,opacity:f,backgroundImage:`url(${t})`},className:"\n    absolute\n    w-16 h-16\n    sm:w-20 sm:h-20\n    md:w-28 md:h-28\n    bg-contain bg-no-repeat \n    pointer-events-none\n    select-none\n  "})}function N(){const t=a().props.visual,s=f(0,800,0,-60),r=n.useMemo(()=>t.slice(0,40),[t]),i=h(0),o=n.useRef(null),c=x(o,{margin:"-20%"});return n.useEffect(()=>{if(!c)return;const e=p(i,1,{duration:12,ease:"linear",repeat:1/0});return()=>e.stop()},[c]),e.jsx(d.section,{ref:o,style:{y:s},className:"relative min-h-screen w-full isolate z-10 flex items-center justify-center",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{WebkitMaskImage:"radial-gradient(circle at center, black 55%, transparent 100%)",maskImage:"radial-gradient(circle at center, black 55%, transparent 100%)"},children:r.map((t,n)=>e.jsx(M,{img:t.thumbnail_path,index:n,phase:i,title:t.title},t.id??n))}),e.jsx(b,{})]})})}s.preload("/images/mars.jpg");export{N as default};
