import{j as e,r as t}from"./react-kxyjmRfh.js";import{u as s}from"./@inertiajs-BY-Flu7D.js";import"./interactionGate-BEQQbadU.js";import{L as r}from"./LinkAnimationHover-GGviP1-J.js";import{R as n}from"./motion-dom-CkSJ3Qwn.js";import{C as i,u as a,a as o}from"./@react-three-DvJClxoJ.js";import{c,l,m}from"./three-DOjKUHLC.js";import{m as p,u,d,f as h,g as j}from"./framer-motion-CSuDSUAr.js";import{u as x}from"./useLenisParallax-C3cAfC-1.js";import"./call-bind-apply-helpers-CgRtIV3F.js";import"./function-bind-DrnB-baK.js";import"./es-errors-DTEWvbA_.js";import"./qs-Eznirbjm.js";import"./side-channel-D8zNCuii.js";import"./object-inspect--lFQDBnP.js";import"./side-channel-list-gPKKZrRH.js";import"./side-channel-map-Bk8QA3eJ.js";import"./get-intrinsic-CmvjCWKB.js";import"./es-object-atoms-CyiuHMUS.js";import"./math-intrinsics-pM-JTNwN.js";import"./gopd-BudZp56J.js";import"./es-define-property-F0aoeP8o.js";import"./has-symbols-CRskrF1U.js";import"./get-proto-FHEYPq3O.js";import"./dunder-proto-C-NosRWg.js";import"./hasown-CftCayBI.js";import"./call-bound-BFuuvxwD.js";import"./side-channel-weakmap-4lNYcsiz.js";import"./axios-DpwkIHQ7.js";import"./lodash-es-BEYq8Rdu.js";import"./react-dom-COu5tyRN.js";import"./scheduler-DJ_kwTHK.js";import"./laravel-precognition-DYWZRoo5.js";import"./react-icons-Ddo1U68_.js";import"./motion-utils-yNg3p3mV.js";import"./react-use-measure-HGpbCUYn.js";import"./its-fine-Bk7-tVKS.js";import"./zustand-D4NrE4Uf.js";import"./use-sync-external-store-DvOfKcmm.js";import"./suspend-react-B9ncA3LG.js";import"./lenis-DfNUmaIB.js";const f=n(window.innerWidth/2),g=n(window.innerHeight/2);function v(){const s=t.useRef(),r=a("/images/mars.jpg"),n=t.useRef({x:0,y:0}),i=t.useRef({x:0,y:0});return t.useEffect(()=>{r.colorSpace=c,r.anisotropy=4},[r]),t.useEffect(()=>{const e=(e,t)=>{const s=window.innerWidth/2,r=window.innerHeight/2;n.current.x=(e-s)/s,n.current.y=(t-r)/r},t=t=>e(t.clientX,t.clientY),s=t=>{t.touches?.[0]&&e(t.touches[0].clientX,t.touches[0].clientY)};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",s,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",s)}},[]),o((e,t)=>{const r=i.current;r.x+=(n.current.x-r.x)*(1-Math.pow(6e-4,t)),r.y+=(n.current.y-r.y)*(1-Math.pow(6e-4,t)),s.current&&(s.current.rotation.y=.35*r.x+.1*e.clock.elapsedTime,s.current.rotation.x=.18*r.y)}),e.jsxs("group",{ref:s,children:[e.jsxs("mesh",{scale:1.08,children:[e.jsx("sphereGeometry",{args:[1,48,48]}),e.jsx("meshBasicMaterial",{transparent:!0,opacity:.05,depthWrite:!1,blending:m,side:l,color:"#ffd1b3"})]}),e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshStandardMaterial",{map:r,roughness:.75,metalness:.02,envMapIntensity:.35})]}),e.jsxs("mesh",{scale:1.002,children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshLambertMaterial",{transparent:!0,opacity:.22,color:"#000000"})]})]})}function y(){return e.jsxs("mesh",{children:[e.jsx("sphereGeometry",{args:[1,64,64]}),e.jsx("meshBasicMaterial",{color:"#3a2a22"})]})}function w(){return e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsxs(i,{dpr:[1,1.35],camera:{position:[0,0,2.65],fov:45},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[e.jsx("ambientLight",{intensity:.08}),e.jsx("directionalLight",{position:[3.2,1.4,2.2],intensity:3.2}),e.jsx("directionalLight",{position:[-2.8,-1.4,.6],intensity:.18}),e.jsx(t.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(v,{})})]})})}function b(){const s=t.useMemo(()=>`data:image/svg+xml,${encodeURIComponent('\n          <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180">\n            <filter id="n">\n              <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" stitchTiles="stitch"/>\n              <feColorMatrix type="saturate" values="0"/>\n            </filter>\n            <rect width="180" height="180" filter="url(#n)" opacity="0.40"/>\n          </svg>\n        ')}`,[]);return e.jsx("div",{className:"\n        absolute left-1/2 top-1/2\n        -translate-x-1/2 -translate-y-1/2\n        perspective-distant\n        z-20\n      ",children:e.jsxs(p.div,{className:"\n    relative\n    w-65 h-65\n    sm:w-80 sm:h-80\n    lg:w-95 lg:h-95\n    rounded-full\n    transform-gpu\n    will-change-transform\n  ",children:[e.jsx("div",{className:"pointer-events-none absolute -inset-10 rounded-full blur-3xl opacity-60 bg-[rgba(174,31,42,0.1)]"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-full",style:{boxShadow:"0 0 0 1px rgba(255,255,255,0.02), 0 0 30px rgba(255,255,255,0.08), 0 0 120px rgba(174,31,42,0.1)"}}),e.jsxs("div",{className:"relative h-full w-full rounded-full overflow-hidden",children:[e.jsx(w,{}),e.jsx("div",{className:"pointer-events-none absolute inset-0 bg-black/10"}),e.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.10] mix-blend-overlay",style:{backgroundImage:`url("${s}")`}}),e.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center",children:[e.jsx("h2",{className:"tracking-[0.35em] text-xs sm:text-sm text-white/90 mix-blend-difference",children:"DISCOVER THE ARCHIVE"}),e.jsx(r,{href:"/archive",text:"Explore",ariaLabel:"Explore the archive"})]})]})]})})}function M({img:s,index:r=0,phase:n,title:i}){const a=t.useRef({fromLeft:r%2==0,verticalFactor:[.25,.5,.75][r%3],offset:.12*r}),o=t.useRef({x:0,y:0}),c=t.useRef(0),l=t.useRef(0);t.useEffect(()=>{const e=f.get(),t=g.get(),s=window.innerWidth,r=window.innerHeight;o.current.x=a.current.fromLeft?e-(s/2+140):e+(s/2+140),o.current.y=a.current.verticalFactor*r,c.current=Math.atan2(t-o.current.y,e-o.current.x),l.current=Math.hypot(e-o.current.x,t-o.current.y)},[]);const m=u(n,e=>1-(e+a.current.offset)%1),d=u(m,e=>o.current.x+Math.cos(c.current)*l.current*(1-e)),h=u(m,e=>o.current.y+Math.sin(c.current)*l.current*(1-e)),j=u(m,[1,0],[1.1,.12]),x=u(m,[.2,0],[1,0]);return e.jsx(p.div,{"aria-hidden":"true",style:{x:d,y:h,scale:j,opacity:x,backgroundImage:`url(${s})`},className:"\n    absolute\n    w-16 h-16\n    sm:w-20 sm:h-20\n    md:w-28 md:h-28\n    bg-contain bg-no-repeat \n    pointer-events-none\n    select-none\n  "})}function N(){const r=s().props.visual,n=x(0,800,0,-60),i=t.useMemo(()=>r.slice(0,40),[r]),a=d(0),o=t.useRef(null),c=h(o,{margin:"-20%"});return t.useEffect(()=>{if(!c)return;const e=j(a,1,{duration:12,ease:"linear",repeat:1/0});return()=>e.stop()},[c]),e.jsx(p.section,{ref:o,style:{y:n},className:"relative min-h-screen w-full isolate z-10 flex items-center justify-center",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",style:{WebkitMaskImage:"radial-gradient(circle at center, black 55%, transparent 100%)",maskImage:"radial-gradient(circle at center, black 55%, transparent 100%)"},children:i.map((t,s)=>e.jsx(M,{img:t.thumbnail_path,index:s,phase:a,title:t.title},t.id??s))}),e.jsx(b,{})]})})}a.preload("/images/mars.jpg");export{N as default};
