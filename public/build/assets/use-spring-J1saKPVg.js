import{f as t,p as e,N as n,r,M as o}from"./app-BFWl4mSz.js";import{u as s,a}from"./use-transform-BPdV50Xa.js";function i(r,o,s={}){const a=r.get();let i,p=null,c=a;const l="string"==typeof a?a.replace(/[\d.-]/g,""):void 0,y=()=>{p&&(p.stop(),p=null)};if(r.attach((e,o)=>{c=e,i=t=>o(u(t,l)),t.postRender(()=>{(()=>{y();const t=f(r.get()),e=f(c);t!==e&&(p=new n({keyframes:[t,e],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:i}))})(),r.events.animationStart?.notify(),p?.then(()=>{r.events.animationComplete?.notify()})})},y),e(o)){const t=o.on("change",t=>r.set(u(t,l))),e=r.on("destroy",t);return()=>{t(),e()}}return y}function u(t,e){return e?t+e:t}function f(t){return"number"==typeof t?t:parseFloat(t)}function p(t,n={}){return function(t,n={}){const{isStatic:u}=r.useContext(o),f=()=>e(t)?t.get():t;if(u)return s(f);const p=a(f());return r.useInsertionEffect(()=>i(p,t,n),[p,JSON.stringify(n)]),p}(t,{type:"spring",...n})}export{p as u};
