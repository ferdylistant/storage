import{_ as e,j as t,r as n,a_ as s}from"./vendor-V2LXLEzG.js";import"./interactionGate-D9Pyl9r_.js";import{L as r}from"./LinkAnimationHover-C4Nh6dlS.js";import{C as a,u as i,S as o,a as c,B as l,A as u}from"./vendor-three-Dx4Q9iyx.js";import{m as d,u as m,d as h,f as x,g as p}from"./vendor-motion-B6GDMdDu.js";import{u as f}from"./useLenisParallax-BKZnB-8S.js";import"./lenis-ltSjVBnM.js";const g=e(window.innerWidth/2),v=e(window.innerHeight/2);function j(){const e=n.useRef(),s=i("/images/mars.jpg"),r=n.useRef({x:0,y:0}),a=n.useRef({x:0,y:0});return n.useEffect(()=>{s.colorSpace=o,s.anisotropy=4},[s]),n.useEffect(()=>{const e=(e,t)=>{const n=window.innerWidth/2,s=window.innerHeight/2;r.current.x=(e-n)/n,r.current.y=(t-s)/s},t=t=>e(t.clientX,t.clientY),n=t=>{t.touches?.[0]&&e(t.touches[0].clientX,t.touches[0].clientY)};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",n,{passive:!0}),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",n)}},[]),c((t,n)=>{const s=a.current;s.x+=(r.current.x-s.x)*(1-Math.pow(6e-4,n)),s.y+=(r.current.y-s.y)*(1-Math.pow(6e-4,n)),e.current&&(e.current.rotation.y=.35*s.x+.1*t.clock.elapsedTime,e.current.rotation.x=.18*s.y)}),t.jsxs("group",{ref:e,children:[t.jsxs("mesh",{scale:1.08,children:[t.jsx("sphereGeometry",{args:[1,48,48]}),t.jsx("meshBasicMaterial",{transparent:!0,opacity:.05,depthWrite:!1,blending:u,side:l,color:"#ffd1b3"})]}),t.jsxs("mesh",{children:[t.jsx("sphereGeometry",{args:[1,64,64]}),t.jsx("meshStandardMaterial",{map:s,roughness:.75,metalness:.02,envMapIntensity:.35})]}),t.jsxs("mesh",{scale:1.002,children:[t.jsx("sphereGeometry",{args:[1,64,64]}),t.jsx("meshLambertMaterial",{transparent:!0,opacity:.22,color:"#000000"})]})]})}function w(){return t.jsxs("mesh",{children:[t.jsx("sphereGeometry",{args:[1,64,64]}),t.jsx("meshBasicMaterial",{color:"#3a2a22"})]})}function y(){return t.jsx("div",{className:"absolute inset-0 pointer-events-none",children:t.jsxs(a,{dpr:[1,1.35],camera:{position:[0,0,2.65],fov:45},gl:{antialias:!0,alpha:!0,powerPreference:"high-performance"},children:[t.jsx("ambientLight",{intensity:.08}),t.jsx("directionalLight",{position:[3.2,1.4,2.2],intensity:3.2}),t.jsx("directionalLight",{position:[-2.8,-1.4,.6],intensity:.18}),t.jsx(n.Suspense,{fallback:t.jsx(w,{}),children:t.jsx(j,{})})]})})}function b(){const e=n.useMemo(()=>`data:image/svg+xml,${encodeURIComponent('\n          <svg xmlns="http://www.w3.org/2000/svg" width="180" height="180">\n            <filter id="n">\n              <feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="3" stitchTiles="stitch"/>\n              <feColorMatrix type="saturate" values="0"/>\n            </filter>\n            <rect width="180" height="180" filter="url(#n)" opacity="0.40"/>\n          </svg>\n        ')}`,[]);return t.jsx("div",{className:"\n        absolute left-1/2 top-1/2\n        -translate-x-1/2 -translate-y-1/2\n        perspective-distant\n        z-20\n      ",children:t.jsxs(d.div,{className:"\n    relative\n    w-65 h-65\n    sm:w-80 sm:h-80\n    lg:w-95 lg:h-95\n    rounded-full\n    transform-gpu\n    will-change-transform\n  ",children:[t.jsx("div",{className:"pointer-events-none absolute -inset-10 rounded-full blur-3xl opacity-60 bg-[rgba(174,31,42,0.1)]"}),t.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-full",style:{boxShadow:"0 0 0 1px rgba(255,255,255,0.02), 0 0 30px rgba(255,255,255,0.08), 0 0 120px rgba(174,31,42,0.1)"}}),t.jsxs("div",{className:"relative h-full w-full rounded-full overflow-hidden",children:[t.jsx(y,{}),t.jsx("div",{className:"pointer-events-none absolute inset-0 bg-black/10"}),t.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-[0.10] mix-blend-overlay",style:{backgroundImage:`url("${e}")`}}),t.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center",children:[t.jsx("h2",{className:"tracking-[0.35em] text-xs sm:text-sm text-white/90 mix-blend-difference",children:"DISCOVER THE ARCHIVE"}),t.jsx(r,{href:"/archive",text:"Explore",ariaLabel:"Explore the archive"})]})]})]})})}function M({img:e,index:s=0,phase:r,title:a}){const i=n.useRef({fromLeft:s%2==0,verticalFactor:[.25,.5,.75][s%3],offset:.12*s}),o=n.useRef({x:0,y:0}),c=n.useRef(0),l=n.useRef(0);n.useEffect(()=>{const e=g.get(),t=v.get(),n=window.innerWidth,s=window.innerHeight;o.current.x=i.current.fromLeft?e-(n/2+140):e+(n/2+140),o.current.y=i.current.verticalFactor*s,c.current=Math.atan2(t-o.current.y,e-o.current.x),l.current=Math.hypot(e-o.current.x,t-o.current.y)},[]);const u=m(r,e=>1-(e+i.current.offset)%1),h=m(u,e=>o.current.x+Math.cos(c.current)*l.current*(1-e)),x=m(u,e=>o.current.y+Math.sin(c.current)*l.current*(1-e)),p=m(u,[1,0],[1.1,.12]),f=m(u,[.2,0],[1,0]);return t.jsx(d.div,{"aria-hidden":"true",style:{x:h,y:x,scale:p,opacity:f,backgroundImage:`url(${e})`},className:"\n    absolute\n    w-16 h-16\n    sm:w-20 sm:h-20\n    md:w-28 md:h-28\n    bg-contain bg-no-repeat \n    pointer-events-none\n    select-none\n  "})}function N(){const e=s().props.visual,r=f(0,800,0,-60),a=n.useMemo(()=>e.slice(0,40),[e]),i=h(0),o=n.useRef(null),c=x(o,{margin:"-20%"});return n.useEffect(()=>{if(!c)return;const e=p(i,1,{duration:12,ease:"linear",repeat:1/0});return()=>e.stop()},[c]),t.jsx(d.section,{ref:o,style:{y:r},className:"relative min-h-screen w-full isolate z-10 flex items-center justify-center",children:t.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0",style:{WebkitMaskImage:"radial-gradient(circle at center, black 55%, transparent 100%)",maskImage:"radial-gradient(circle at center, black 55%, transparent 100%)"},children:a.map((e,n)=>t.jsx(M,{img:e.thumbnail_path,index:n,phase:i,title:e.title},e.id??n))}),t.jsx(b,{})]})})}i.preload("/images/mars.jpg");export{N as default};
