function e(){const e=[{id:"discover",label:"Discover"},{id:"sounds",label:"Sounds"},{id:"shows",label:"Shows"},{id:"visuals",label:"Visuals"},{id:"moments",label:"Moments"},{id:"media",label:"Media"},{id:"merch",label:"Merch"},{id:"artifacts",label:"Artifacts"}];function t(t,o){t.on("input",function(){const a=$(this).val().trim().toLowerCase();if(t.val(a),o.empty(),0===a.length)return void o.hide();const l=e.filter(e=>e.label.toLowerCase().includes(a));0!==l.length?(l.forEach(e=>{const t=$(`<a href="#${e.id}" data-tab="${e.id}" class="list-group-item list-group-item-action">${e.label}</a>`);o.append(t)}),o.show()):o.append('<div class="list-group-item disabled">No results found</div>').show()}),o.on("click","a",function(e){e.preventDefault();const a=$(this).data("tab");if(!a)return;const l=`${window.location.pathname}?tab=${a}`;history.replaceState(null,null,l);const i=$(`a[data-bs-toggle="pill"][href="${`#${a}`}"]`);i.length&&new bootstrap.Tab(i[0]).show(),t.val(""),o.hide(),window.location.reload()})}const o=$(".input-search"),a=$(".search-results");o.length&&a.length&&t(o,a);const l=$(".input-search-mobile"),i=$(".search-results-mobile");l.length&&i.length&&t(l,i),$(document).on("click",function(e){$(e.target).closest(".search-container, .mobile-search-popup").length||(a.hide(),i.hide())}),$(".mobile-search").on("click",function(e){e.preventDefault(),$(".mobile-search-popup").fadeIn(200),$(".mobile-search-popup .input-search-mobile").focus()}),$(".mobile-search-close").on("click",function(){$(".mobile-search-popup").fadeOut(200),$(".mobile-search-popup .search-results-mobile").hide().empty(),$(".mobile-search-popup .input-search-mobile").val("")}),function(){const e=new URLSearchParams(window.location.search).get("tab");if(!e)return;const t=$(`a[data-bs-toggle="pill"][href="${`#${e}`}"]`);t.length&&new bootstrap.Tab(t[0]).show()}()}export{e as initSearch};
